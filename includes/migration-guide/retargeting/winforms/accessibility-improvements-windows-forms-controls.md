### <a name="accessibility-improvements-in-windows-forms-controls"></a><span data-ttu-id="d0f08-101">Более удобным в элементах управления Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d0f08-101">Accessibility improvements in Windows Forms controls</span></span>

|   |   |
|---|---|
|<span data-ttu-id="d0f08-102">Подробные сведения</span><span class="sxs-lookup"><span data-stu-id="d0f08-102">Details</span></span>|<span data-ttu-id="d0f08-103">Windows Forms улучшается, как она работает с технологиями специальных возможностей для улучшения поддержки клиентов Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="d0f08-103">Windows Forms is improving how it works with accessibility technologies to better support Windows Forms customers.</span></span> <span data-ttu-id="d0f08-104">К ним относятся следующие изменения:</span><span class="sxs-lookup"><span data-stu-id="d0f08-104">These include the following changes:</span></span><ul><li><span data-ttu-id="d0f08-105">Изменения для улучшения отображения в режиме высокой контрастности.</span><span class="sxs-lookup"><span data-stu-id="d0f08-105">Changes to improve display during High Contrast mode.</span></span></li><li><span data-ttu-id="d0f08-106">Изменения для улучшения работы браузера в свойство.</span><span class="sxs-lookup"><span data-stu-id="d0f08-106">Changes to improve the property browser experience.</span></span> <span data-ttu-id="d0f08-107">Свойства браузера усовершенствования включают следующие:</span><span class="sxs-lookup"><span data-stu-id="d0f08-107">Property browser improvements include:</span></span></li><li><span data-ttu-id="d0f08-108">Улучшенная навигация с помощью клавиатуры посредством различных окон выбора с раскрывающимися списками.</span><span class="sxs-lookup"><span data-stu-id="d0f08-108">Better keyboard navigation through the various drop-down selection windows.</span></span></li><li><span data-ttu-id="d0f08-109">Сокращение ненужных позицию табуляции.</span><span class="sxs-lookup"><span data-stu-id="d0f08-109">Reduced unnecessary tab stops.</span></span></li><li><span data-ttu-id="d0f08-110">Улучшенные отчеты о типах элементов управления.</span><span class="sxs-lookup"><span data-stu-id="d0f08-110">Better reporting of control types.</span></span></li><li><span data-ttu-id="d0f08-111">Улучшенная работа экранного диктора.</span><span class="sxs-lookup"><span data-stu-id="d0f08-111">Improved narrator behavior.</span></span></li><li><span data-ttu-id="d0f08-112">Изменения в реализации отсутствующие шаблоны специальных возможностей пользовательского интерфейса элементов управления.</span><span class="sxs-lookup"><span data-stu-id="d0f08-112">Changes to implement missing UI accessibility patterns in controls.</span></span></li></ul>|
|<span data-ttu-id="d0f08-113">Предложение</span><span class="sxs-lookup"><span data-stu-id="d0f08-113">Suggestion</span></span>|<span data-ttu-id="d0f08-114"><strong>Как принять или отклонить изменения</strong>чтобы приложения для использования преимуществ эти изменения, оно должно выполняться на платформе .NET Framework 4.7.1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d0f08-114"><strong>How to opt in or out of these changes</strong>In order for the application to benefit from these changes, it must run on the .NET Framework 4.7.1 or later.</span></span> <span data-ttu-id="d0f08-115">Приложения могут использовать преимущества этих изменений в одном из следующих способов:</span><span class="sxs-lookup"><span data-stu-id="d0f08-115">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="d0f08-116">Повторная компиляция для использования в .NET Framework 4.7.1.</span><span class="sxs-lookup"><span data-stu-id="d0f08-116">It is recompiled to target the .NET Framework 4.7.1.</span></span> <span data-ttu-id="d0f08-117">Эти специальные возможности изменения включено по умолчанию в приложениях Windows Forms, предназначенных для .NET Framework 4.7.1 или более поздней версии.</span><span class="sxs-lookup"><span data-stu-id="d0f08-117">These accessibility changes are enabled by default on Windows Forms applications that target the .NET Framework 4.7.1 or later.</span></span></li><li><span data-ttu-id="d0f08-118">Его отказ поведения предыдущих версий специальных возможностей, добавив следующий код [коммутатора параметров AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) для <code>&lt;runtime&gt;</code> раздел в файл app.config и установке флажка <code>false</code>, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="d0f08-118">It opts out of the legacy accessibility behaviors by adding the following [AppContext switch](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the <code>&lt;runtime&gt;</code> section of the app.config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><span data-ttu-id="d0f08-119">Приложения, предназначенные для .NET Framework 4.7.1 или более поздней версии и хотите сохранить прежних поведение специальных возможностей можно выбрать с использованием предыдущих версий специальные возможности, явно установите значение этого параметра параметров AppContext <code>true</code>. Обзор модели автоматизации пользовательского интерфейса см. в разделе [Обзор модели автоматизации пользовательского интерфейса](~/docs/framework/ui-automation/ui-automation-overview.md). <strong>Добавлена поддержка модели автоматизации пользовательского интерфейса шаблоны и свойства</strong>клиентами специальных возможностей можно воспользоваться преимуществами новых функциональных возможностей WinForms специальных возможностей с помощью шаблонов общий, общедоступные вызова.</span><span class="sxs-lookup"><span data-stu-id="d0f08-119">Applications that target the .NET Framework 4.7.1 or later and want to preserve the legacy accessibility behavior can opt in to the use of legacy accessibility features by explicitly setting this AppContext switch to <code>true</code>.For an overview of UI automation, see the [UI Automation Overview](~/docs/framework/ui-automation/ui-automation-overview.md).<strong>Added support for UI Automation patterns and properties</strong>Accessibility clients can take advantage of new WinForms accessibility functionality by using common, publicly described invocation patterns.</span></span> <span data-ttu-id="d0f08-120">Эти шаблоны не зависят от WinForms.</span><span class="sxs-lookup"><span data-stu-id="d0f08-120">These patterns are not WinForms-specific.</span></span> <span data-ttu-id="d0f08-121">Например клиентами специальных возможностей можно вызвать метод QueryInterface в интерфейсе IAccessible (MAAS), чтобы получить интерфейс IServiceProvider.</span><span class="sxs-lookup"><span data-stu-id="d0f08-121">For instance, accessibility clients can call the QueryInterface method on the IAccessible interface (MAAS) to obtain an IServiceProvider interface.</span></span> <span data-ttu-id="d0f08-122">Если этот интерфейс доступен, клиенты могут использовать его метод QueryService запросить интерфейс IAccessibleEx.</span><span class="sxs-lookup"><span data-stu-id="d0f08-122">If this interface is available, clients can use its QueryService method to request an IAccessibleEx interface.</span></span> <span data-ttu-id="d0f08-123">Дополнительные сведения см. в разделе [IAccessibleEx использование из клиента](https://msdn.microsoft.com/library/windows/desktop/dd561924.aspx).</span><span class="sxs-lookup"><span data-stu-id="d0f08-123">For more information, see [Using IAccessibleEx from a Client](https://msdn.microsoft.com/library/windows/desktop/dd561924.aspx).</span></span> <span data-ttu-id="d0f08-124">Начиная с .NET Framework 4.7.1 IServiceProvider и [IAccessibleEx](https://msdn.microsoft.com/library/windows/desktop/dd561898.aspx) (где применимо), доступны для объектов WinForms специальных возможностей. .NET Framework 4.7.1 добавлена поддержка следующих шаблоны модели автоматизации пользовательского интерфейса и свойства.</span><span class="sxs-lookup"><span data-stu-id="d0f08-124">Starting with the .NET Framework 4.7.1, IServiceProvider and [IAccessibleEx](https://msdn.microsoft.com/library/windows/desktop/dd561898.aspx) (where applicable) are available for WinForms accessibility objects.The .NET Framework 4.7.1 adds support for the following UI automation patterns and properties:</span></span><ul><li><span data-ttu-id="d0f08-125"><code>T:System.Windows.Forms.ToolStripSplitButton</code> И <code>T:System.Windows.Forms.ComboBox</code> элементы управления поддерживают [развернуть или свернуть шаблон](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="d0f08-125">The <code>T:System.Windows.Forms.ToolStripSplitButton</code> and <code>T:System.Windows.Forms.ComboBox</code> controls support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="d0f08-126"><code>T:System.Windows.Forms.ToolStripMenuItem</code> Управления имеет [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) значение свойства <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-126">The <code>T:System.Windows.Forms.ToolStripMenuItem</code> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="d0f08-127"><code>T:System.Windows.Forms.ToolStripItem</code> Управления поддерживает [имя](xref:System.Windows.Automation.AutomationElement.NameProperty) свойство и [развернуть или свернуть шаблон](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="d0f08-127">The <code>T:System.Windows.Forms.ToolStripItem</code> control supports the [Name](xref:System.Windows.Automation.AutomationElement.NameProperty) property and [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="d0f08-128"><code>T:System.Windows.Forms.ToolStripDropDownItem</code> Управления поддерживает <xref:System.Windows.Forms.AccessibleEvents> , указывающее, StateChange и NameChange при развернут или свернут раскрывающегося списка.</span><span class="sxs-lookup"><span data-stu-id="d0f08-128">The <code>T:System.Windows.Forms.ToolStripDropDownItem</code> control supports <xref:System.Windows.Forms.AccessibleEvents> indicating StateChange and NameChange when drop down is expanded or collapsed.</span></span></li><li><span data-ttu-id="d0f08-129"><code>T:System.Windows.Forms.ToolStripDropDownButton</code> Управления имеет [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) значение свойства <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-129">The <code>T:System.Windows.Forms.ToolStripDropDownButton</code> control has a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="d0f08-130"><code>T:System.Windows.Forms.DataGridViewCheckBoxCell</code> Управления поддерживает [шаблон Toggle](xref:System.Windows.Automation.TogglePattern).</span><span class="sxs-lookup"><span data-stu-id="d0f08-130">The <code>T:System.Windows.Forms.DataGridViewCheckBoxCell</code> control supports the [Toggle Pattern](xref:System.Windows.Automation.TogglePattern).</span></span></li><li><span data-ttu-id="d0f08-131"><code>T:System.Windows.Forms.NumericUpDown</code> И <code>T:System.Windows.Forms.DomainUpDown</code> элементы управления поддерживают [имя](xref:System.Windows.Automation.AutomationElement.NameProperty) и [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) из <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-131">The <code>T:System.Windows.Forms.NumericUpDown</code> and <code>T:System.Windows.Forms.DomainUpDown</code> controls support the [Name](xref:System.Windows.Automation.AutomationElement.NameProperty) and have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) of <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType>.</span></span></li></ul><span data-ttu-id="d0f08-132"><strong>Усовершенствования для управления PropertyGrid</strong>PropertyBrowser управления .NET Framework 4.7.1 добавляется следующие усовершенствования:</span><span class="sxs-lookup"><span data-stu-id="d0f08-132"><strong>Improvements to the PropertyGrid control</strong>The .NET Framework 4.7.1 adds the following improvements to the PropertyBrowser control:</span></span><ul><li><span data-ttu-id="d0f08-133"><strong>Сведения</strong> кнопку в диалоговом окне ошибки, который отображается, когда пользователь вводит неверное значение в <code>T:System.Windows.Forms.PropertyGrid</code> управления поддерживает [развернуть или свернуть шаблон](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), состояние и изменение имени уведомления и [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) свойство со значением <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-133">The <strong>Details</strong> button in the error dialog that is displayed when the user enters an incorrect value in the <code>T:System.Windows.Forms.PropertyGrid</code> control supports the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md), state and name change notifications, and a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property with a value of <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>.</span></span></li><li><span data-ttu-id="d0f08-134">Области сообщений отображается, когда <strong>сведения</strong> кнопки из диалогового окна об ошибке доступен теперь клавиатуры и позволяет Экранный диктор для сообщения о содержимом сообщения об ошибке.</span><span class="sxs-lookup"><span data-stu-id="d0f08-134">The message pane displayed when the <strong>Details</strong> button of the error dialog is expanded is now keyboard accessible and allows Narrator to announce the content of the error message.</span></span></li><li><span data-ttu-id="d0f08-135"><xref:System.Windows.Forms.AccessibleRole> Строк в <code>T:System.Windows.Forms.PropertyGrid</code> управления изменились со &quot;строки&quot; для &quot;ячейки&quot;.</span><span class="sxs-lookup"><span data-stu-id="d0f08-135">The <xref:System.Windows.Forms.AccessibleRole> of rows in <code>T:System.Windows.Forms.PropertyGrid</code> control have changed from &quot;Row&quot; to &quot;Cell&quot;.</span></span> <span data-ttu-id="d0f08-136">Ячейки сопоставляется UIA ControlType &quot;DataItem&quot;, которая позволяет поддерживать соответствующие сочетания клавиш и объявления Экранный диктор.</span><span class="sxs-lookup"><span data-stu-id="d0f08-136">The cell maps to UIA ControlType &quot;DataItem&quot;, which allows it to support appropriate keyboard shortcuts and Narrator announcements.</span></span></li><li><span data-ttu-id="d0f08-137"><code>T:System.Windows.Forms.PropertyGrid</code> Управлять строками, заголовок, который представляют элементов при <code>T:System.Windows.Forms.PropertyGrid</code> управления имеет <code>P:System.Windows.Forms.PropertySort</code> свойство <code>F:System.Windows.Forms.PropertySory.Categorized</code> имеют [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) значение свойства <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="d0f08-137">The <code>T:System.Windows.Forms.PropertyGrid</code> control rows which represent header items when the <code>T:System.Windows.Forms.PropertyGrid</code> control has a <code>P:System.Windows.Forms.PropertySort</code> property set to <code>F:System.Windows.Forms.PropertySory.Categorized</code> have a [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) property value of <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType></span></span></li><li><span data-ttu-id="d0f08-138"><code>T:System.Windows.Forms.PropertyGrid</code> Управлять строками, заголовок, который представляют элементов при <code>T:System.Windows.Forms.PropertyGrid</code> управления имеет <code>P:System.Windows.Forms.PropertySort</code> свойство <code>F:System.Windows.Forms.PropertySory.Categorized</code> поддерживает [развернуть или свернуть шаблон](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="d0f08-138">The <code>T:System.Windows.Forms.PropertyGrid</code> control rows which represent header items when the <code>T:System.Windows.Forms.PropertyGrid</code> control has a <code>P:System.Windows.Forms.PropertySort</code> property set to <code>F:System.Windows.Forms.PropertySory.Categorized</code> support the [Expand/Collapse pattern](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</span></span></li><li><span data-ttu-id="d0f08-139">Улучшенная клавиатуры между сеткой и панели инструментов над ним.</span><span class="sxs-lookup"><span data-stu-id="d0f08-139">Improved keyboard navigation between the grid and the ToolBar above it.</span></span> <span data-ttu-id="d0f08-140">Нажав клавишу &quot;Shift Tab&quot; теперь выбирает первый кнопки панели инструментов, а не всей панели инструментов</span><span class="sxs-lookup"><span data-stu-id="d0f08-140">Pressing &quot;Shift-Tab&quot; now selects the first ToolBar button, instead of the whole ToolBar</span></span></li><li><span data-ttu-id="d0f08-141"><code>T:System.Windows.Forms.PropertyGrid</code> элементы управления, отображаемые в режиме высокой контрастности теперь Прорисовывает прямоугольник фокуса вокруг кнопки панели инструментов, который соответствует текущему <code>P:System.Windows.Forms.PropertySort</code> значение свойства.</span><span class="sxs-lookup"><span data-stu-id="d0f08-141"><code>T:System.Windows.Forms.PropertyGrid</code> controls displayed in High Contrast mode will now draw a focus rectangle around the ToolBar button which corresponds to the current <code>P:System.Windows.Forms.PropertySort</code> property value.</span></span></li><li><span data-ttu-id="d0f08-142"><code>T:System.Windows.Forms.PropertyGrid</code> элементы управления, отображаемые в режиме высокой контрастности и с <code>P:System.Windows.Forms.PropertySort</code> свойство <code>F:System.Windows.Forms.PropertySory.Categorized</code> будет отображаются заголовки категорий в высокой контрастный цвет фона.</span><span class="sxs-lookup"><span data-stu-id="d0f08-142"><code>T:System.Windows.Forms.PropertyGrid</code> controls displayed in High Contrast mode and with a <code>P:System.Windows.Forms.PropertySort</code> property set to <code>F:System.Windows.Forms.PropertySory.Categorized</code> will now display the background of category headers in a highly contrasting color.</span></span></li><li><span data-ttu-id="d0f08-143"><code>T:System.Windows.Forms.PropertyGrid</code> элементы управления лучше различает элементы панели инструментов с фокусом и элементы панели инструментов, которые указывают текущее значение <code>P:System.Windows.Forms.PropertySort</code> свойства.</span><span class="sxs-lookup"><span data-stu-id="d0f08-143"><code>T:System.Windows.Forms.PropertyGrid</code> controls better differentiates between ToolBar items with focus and the ToolBar items which indicate the current value of the <code>P:System.Windows.Forms.PropertySort</code> property.</span></span> <span data-ttu-id="d0f08-144">Это исправление состоит из изменение режима высокой контрастности и изменения для сценариев без высокой контрастности.</span><span class="sxs-lookup"><span data-stu-id="d0f08-144">This fix consists of a High Contrast change and a change for non-High Contrast scenarios.</span></span></li><li><span data-ttu-id="d0f08-145"><code>T:System.Windows.Forms.PropertyGrid</code> элементы панели инструментов, которые указывают текущее значение элемента управления <code>P:System.Windows.Forms.PropertySort</code> поддержки свойств [шаблон Toggle](xref:System.Windows.Automation.TogglePattern).</span><span class="sxs-lookup"><span data-stu-id="d0f08-145"><code>T:System.Windows.Forms.PropertyGrid</code> control ToolBar items which indicates the current value of the <code>P:System.Windows.Forms.PropertySort</code> property support the [Toggle Pattern](xref:System.Windows.Automation.TogglePattern).</span></span></li><li><span data-ttu-id="d0f08-146">Улучшенная поддержка Экранный диктор для различения выбранного выравнивания в палитре выравнивания.</span><span class="sxs-lookup"><span data-stu-id="d0f08-146">Improved Narrator support for distinguishing the selected alignment in the Alignment Picker.</span></span></li><li><span data-ttu-id="d0f08-147">Когда пустой <code>T:System.Windows.Forms.PropertyGrid</code> элемент управления отображается в форме, теперь он получит фокус, где ранее он не произойдет.</span><span class="sxs-lookup"><span data-stu-id="d0f08-147">When an empty <code>T:System.Windows.Forms.PropertyGrid</code> control is displayed on a form, it will now receive focus where previously it would not.</span></span></li></ul><span data-ttu-id="d0f08-148"><strong>Использование определенных ОС цветов в темах, высокая контрастность</strong></span><span class="sxs-lookup"><span data-stu-id="d0f08-148"><strong>Use of OS-defined colors in High Contrast themes</strong></span></span><ul><li><span data-ttu-id="d0f08-149"><code>T:System.Windows.Forms.Button</code> и <code>T:System.Windows.Forms.CheckBox</code> управляет с <code>P:System.Windows.Forms.Control.FlatStyle</code> значение <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, которая стиль по умолчанию, теперь использовать цвета, определенные операционной системы в "высококонтрастной" теме при выборе.</span><span class="sxs-lookup"><span data-stu-id="d0f08-149"><code>T:System.Windows.Forms.Button</code> and <code>T:System.Windows.Forms.CheckBox</code> controls with <code>P:System.Windows.Forms.Control.FlatStyle</code> set to <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>, which is the default style, now use OS-defined colors in High Contrast theme when selected.</span></span> <span data-ttu-id="d0f08-150">Ранее не были контрастное цветов текста и фона и было трудно читать.</span><span class="sxs-lookup"><span data-stu-id="d0f08-150">Previously, text and background colors were not contrasting and were hard to read.</span></span></li><li><span data-ttu-id="d0f08-151"><code>T:System.Windows.Forms.Button</code>, <code>T:System.Windows.Forms.CheckBox</code>, <code>T:System.Windows.Forms.RadioButton</code>, <code>T:System.Windows.Forms.Label</code>, <code>T:System.Windows.Forms.LinkLabel</code> и <code>T:System.Windows.Forms.GroupBox</code> с<code>P:System.Windows.Forms.Control.Enabled</code> значение <em>false</em>, использовать затененные цвет для отображения текста в высокой контрастности тем, что приводит к низкой контрастности для фон.</span><span class="sxs-lookup"><span data-stu-id="d0f08-151"><code>T:System.Windows.Forms.Button</code>, <code>T:System.Windows.Forms.CheckBox</code>, <code>T:System.Windows.Forms.RadioButton</code>, <code>T:System.Windows.Forms.Label</code>, <code>T:System.Windows.Forms.LinkLabel</code> and <code>T:System.Windows.Forms.GroupBox</code> with<code>P:System.Windows.Forms.Control.Enabled</code> set to <em>false</em>, used a shaded color to render text in High Contrast themes, resulting in low contrast against the background.</span></span> <span data-ttu-id="d0f08-152">Теперь использовать эти элементы управления &quot;отключенного текста&quot; цветом, определенным Операционной системой.</span><span class="sxs-lookup"><span data-stu-id="d0f08-152">Now these controls use &quot;Disabled Text&quot; color defined by the OS.</span></span> <span data-ttu-id="d0f08-153">Это исправление применяется к элементам управления с <code>P:System.Windows.Forms.Control.FlatStyle</code> свойству присвоено значение, отличное от <code>F:System.Windows.Forms.FlatStyle.System</code>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-153">This fix applies to controls with <code>P:System.Windows.Forms.Control.FlatStyle</code> property set to a value other than <code>F:System.Windows.Forms.FlatStyle.System</code>.</span></span> <span data-ttu-id="d0f08-154">Последние элементы управления отображаются Операционной системой.</span><span class="sxs-lookup"><span data-stu-id="d0f08-154">The latter controls are rendered by the OS.</span></span></li><li><span data-ttu-id="d0f08-155"><code>T:System.Windows.Forms.DataGridView</code> Теперь отображает Видимый прямоугольник вокруг содержимого ячейки, которая находится в фокусе.</span><span class="sxs-lookup"><span data-stu-id="d0f08-155"><code>T:System.Windows.Forms.DataGridView</code> now renders a visible rectangle around the content of the cell which has the current focus.</span></span> <span data-ttu-id="d0f08-156">Ранее это не отображалась в определенных Контрастная темы.</span><span class="sxs-lookup"><span data-stu-id="d0f08-156">Previously, this was not visible in certain High Contrast themes.</span></span></li><li><span data-ttu-id="d0f08-157"><code>T:System.Windows.Forms.ToolStripMenuItem</code> элементы управления с <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> свойство <em>false</em> теперь использовать &quot;отключенного текста&quot; цветом, определенным Операционной системой.</span><span class="sxs-lookup"><span data-stu-id="d0f08-157"><code>T:System.Windows.Forms.ToolStripMenuItem</code> controls with a <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> property set to <em>false</em> now use the &quot;Disabled Text&quot; color defined by the OS.</span></span></li><li><span data-ttu-id="d0f08-158"><code>T:System.Windows.Forms.ToolStripMenuItem</code> элементы управления с <code>P:System.Windows.Forms.ToolStripItem.Checked</code> свойство <em>true</em> теперь отображаются связанные флажок в контрастных системный цвет.</span><span class="sxs-lookup"><span data-stu-id="d0f08-158"><code>T:System.Windows.Forms.ToolStripMenuItem</code> controls with a <code>P:System.Windows.Forms.ToolStripItem.Checked</code> property set to <em>true</em> now render the associated check mark in a contrasting system color.</span></span>  <span data-ttu-id="d0f08-159">Ранее установленный флажок цвет был не контрастное недостаточно и не видны в темах высокой контрастности.</span><span class="sxs-lookup"><span data-stu-id="d0f08-159">Previously the check mark color was not contrasting enough and not visible in High Contrast themes.</span></span></li></ul><span data-ttu-id="d0f08-160">Примечание: Windows 10 был изменен значения для некоторых системы вступили в силу.</span><span class="sxs-lookup"><span data-stu-id="d0f08-160">NOTE: Windows10 has changed values for some high contrast system colors.</span></span> <span data-ttu-id="d0f08-161">Windows Forms Framework основана на платформе Win32.</span><span class="sxs-lookup"><span data-stu-id="d0f08-161">Windows Forms Framework is based on the Win32 framework.</span></span> <span data-ttu-id="d0f08-162">Для получения наилучших результатов выполните самую последнюю версию Windows и согласие с последними изменениями ОС, добавив в файл app.manifest в тестовом приложении и раскомментировать следующий код:</span><span class="sxs-lookup"><span data-stu-id="d0f08-162">For the best experience, run on the latest version of Windows and opt in to the latest OS changes by adding an app.manifest file in a test application and uncommenting the following code:</span></span><pre><code>&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><span data-ttu-id="d0f08-163"><strong>Улучшенная с помощью клавиатуры</strong></span><span class="sxs-lookup"><span data-stu-id="d0f08-163"><strong>Improved keyboard navigation</strong></span></span><ul><li><span data-ttu-id="d0f08-164">Когда <code>T:System.Windows.Forms.ComboBox</code> элемент управления имеет <code>P:System.Windows.Forms.ComboBox.DropDownStyle</code> значение <code>F:System.Windows.Forms.DropDownStyle.DropDownList</code> и является первый элемент управления на вкладке заказа в форме, выводит на экран прямоугольник фокуса при открытии родительской формы с помощью клавиатуры.</span><span class="sxs-lookup"><span data-stu-id="d0f08-164">When a <code>T:System.Windows.Forms.ComboBox</code> control has <code>P:System.Windows.Forms.ComboBox.DropDownStyle</code> set to <code>F:System.Windows.Forms.DropDownStyle.DropDownList</code> and is the first control in the tab order on the form, it now displays a focus rectangle when the parent form is opened using the keyboard.</span></span> <span data-ttu-id="d0f08-165">До этого изменения был фокус на этот элемент управления, но не к просмотру индикатор фокус.</span><span class="sxs-lookup"><span data-stu-id="d0f08-165">Before this change, keyboard focus was on this control, but a focus indicator was not rendered.</span></span></li></ul><span data-ttu-id="d0f08-166"><strong>Улучшенная поддержка экранного диктора</strong></span><span class="sxs-lookup"><span data-stu-id="d0f08-166"><strong>Improved Narrator support</strong></span></span><ul><li><span data-ttu-id="d0f08-167"><code>T:System.Windows.Forms.MonthCalendar</code> Управления добавлена поддержка вспомогательные технологии для доступа к элементу управления, включая возможность Экранный диктор прочитать значение элемента управления, если ранее не удалось.</span><span class="sxs-lookup"><span data-stu-id="d0f08-167">The <code>T:System.Windows.Forms.MonthCalendar</code> control has added support for assistive technologies to access the control, including the ability for Narrator to read the value of the control when previously it could not.</span></span></li><li><span data-ttu-id="d0f08-168"><code>T:System.Windows.Forms.CheckedListBox</code> Управления теперь уведомляет Экранный диктор при <code>P:System.Windows.Forms.CheckState</code> изменении свойства.</span><span class="sxs-lookup"><span data-stu-id="d0f08-168">The <code>T:System.Windows.Forms.CheckedListBox</code> control now notifies Narrator when the <code>P:System.Windows.Forms.CheckState</code> property has been changed.</span></span> <span data-ttu-id="d0f08-169">Ранее, Экранный диктор не получил уведомления и в результате пользователи будет в курсе, <code>P:System.Windows.Forms.CheckState</code> была обновлена.</span><span class="sxs-lookup"><span data-stu-id="d0f08-169">Previously, Narrator did not recieve notification and as a result users would not be informed that the <code>P:System.Windows.Forms.CheckState</code> had been updated.</span></span></li><li><span data-ttu-id="d0f08-170"><code>T:System.Windows.Forms.LinkLabel</code> Элемент управления был изменен способом, оно уведомит Экранный диктор текста в элементе управления.</span><span class="sxs-lookup"><span data-stu-id="d0f08-170">The <code>T:System.Windows.Forms.LinkLabel</code> control has changed the way it notifies Narrator of the text of in the control.</span></span> <span data-ttu-id="d0f08-171">Ранее, Экранный диктор дважды было объявлено этот текст и прочитать &quot; &amp; &quot; символы как текст, даже если они не являются видимыми для пользователя.</span><span class="sxs-lookup"><span data-stu-id="d0f08-171">Previously, Narrator announced this text twice and read &quot;&amp;&quot; symbols as real text even though they are not visible to a user.</span></span> <span data-ttu-id="d0f08-172">Повторяющийся текст был удален из объявления Экранный диктор, а также ненужных &quot; &amp; &quot; символов.</span><span class="sxs-lookup"><span data-stu-id="d0f08-172">The duplicated text was removed from the Narrator announcements, as well as unnecessary &quot;&amp;&quot; symbols.</span></span></li><li><span data-ttu-id="d0f08-173"><code>T:System.Windows.Forms.DataGridViewCell</code> Типы элементов управления теперь правильно отчета только для чтения до состояния Экранный диктор и других специальных возможностей.</span><span class="sxs-lookup"><span data-stu-id="d0f08-173">The <code>T:System.Windows.Forms.DataGridViewCell</code> control types now correctly report the read-only status to Narrator and other assistive technologies.</span></span></li><li><span data-ttu-id="d0f08-174">Экранный диктор теперь может считывать системное меню дочерние окна в [многодокументного интерфейса](~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md) приложений.</span><span class="sxs-lookup"><span data-stu-id="d0f08-174">Narrator is now able to read the System Menu of child windows in [Multiple-Document Interface](~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md) applications.</span></span></li><li><span data-ttu-id="d0f08-175">Экранный диктор теперь может считывать <code>T:System.Windows.Forms.ToolStripMenuItem</code> управляет с <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> свойство <em>false</em>.</span><span class="sxs-lookup"><span data-stu-id="d0f08-175">Narrator is now able to read <code>T:System.Windows.Forms.ToolStripMenuItem</code> controls with a <code>P:System.Windows.Forms.ToolStripItem.Enabled</code> property set to <em>false</em>.</span></span> <span data-ttu-id="d0f08-176">Ранее Экранный диктор смогла сосредоточиться на пункты меню отключено для считывания содержимого.</span><span class="sxs-lookup"><span data-stu-id="d0f08-176">Previously, Narrator was unable to focus on disabled menu items to read hte content.</span></span></li></ul>|
|<span data-ttu-id="d0f08-177">Область</span><span class="sxs-lookup"><span data-stu-id="d0f08-177">Scope</span></span>|<span data-ttu-id="d0f08-178">Значительно</span><span class="sxs-lookup"><span data-stu-id="d0f08-178">Major</span></span>|
|<span data-ttu-id="d0f08-179">Версия</span><span class="sxs-lookup"><span data-stu-id="d0f08-179">Version</span></span>|<span data-ttu-id="d0f08-180">4.7.1</span><span class="sxs-lookup"><span data-stu-id="d0f08-180">4.7.1</span></span>|
|<span data-ttu-id="d0f08-181">Тип</span><span class="sxs-lookup"><span data-stu-id="d0f08-181">Type</span></span>|<span data-ttu-id="d0f08-182">Изменение целевой платформы</span><span class="sxs-lookup"><span data-stu-id="d0f08-182">Retargeting</span></span>|
|<span data-ttu-id="d0f08-183">Затронутые API</span><span class="sxs-lookup"><span data-stu-id="d0f08-183">Affected APIs</span></span>|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[<span data-ttu-id="d0f08-184">MonthCalendar.AccessibilityObject</span><span class="sxs-lookup"><span data-stu-id="d0f08-184">MonthCalendar.AccessibilityObject</span></span>](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|

