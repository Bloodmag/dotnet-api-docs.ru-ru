### <a name="dataobjectgetdata-now-retrieves-data-as-utf-8"></a><span data-ttu-id="0917c-101">Теперь DataObject.GetData получает данные в формате UTF-8</span><span class="sxs-lookup"><span data-stu-id="0917c-101">DataObject.GetData now retrieves data as UTF-8</span></span>

|   |   |
|---|---|
|<span data-ttu-id="0917c-102">Подробные сведения</span><span class="sxs-lookup"><span data-stu-id="0917c-102">Details</span></span>|<span data-ttu-id="0917c-103">Для приложений, предназначенных для .NET Framework 4 или выполняющихся в .NET Framework 4.5.1 или более ранних версиях <code>DataObject.GetData</code> Получает HTML данные в виде строки ASCII.</span><span class="sxs-lookup"><span data-stu-id="0917c-103">For apps that target the .NET Framework 4 or that run on the .NET Framework 4.5.1 or earlier versions, <code>DataObject.GetData</code> retrieves HTML-formatted data as an ASCII string.</span></span> <span data-ttu-id="0917c-104">В результате символа ASCII (символы с кодами ASCII больше 0x7F), представляются двумя случайными символами. Для приложений, ориентированных на .NET Framework 4.5 или более поздней версии и запуска в .NET Framework 4.5.2 <code>DataObject.GetData</code> Получает HTML-данные в формате UTF-8, который правильно представляет символы с кодами более 0x7F.</span><span class="sxs-lookup"><span data-stu-id="0917c-104">As a result, non-ASCII characters (characters whose ASCII codes are greater than 0x7F) are represented by two random characters.For apps that target the .NET Framework 4.5 or later and run on the .NET Framework 4.5.2, <code>DataObject.GetData</code> retrieves HTML-formatted data as UTF-8, which represents characters greater than 0x7F correctly.</span></span>|
|<span data-ttu-id="0917c-105">Предложение</span><span class="sxs-lookup"><span data-stu-id="0917c-105">Suggestion</span></span>|<span data-ttu-id="0917c-106">Если реализован обходной путь для проблемы с HTML-строк кодировкой (например, явная кодировка HTML-строки, полученной из буфера обмена путем ее передачи <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) и выполняется изменение целевой платформы приложения с версии 4 4.5, решение должно быть удалено. Если для какой-либо причине требуется прежнее поведение, приложение можно выбрать целевую платформу .NET Framework 4.0, чтобы добиться этого поведения.</span><span class="sxs-lookup"><span data-stu-id="0917c-106">If you implemented a workaround for the encoding problem with HTML-formatted strings (for example, by explicitly encoding the HTML string retrieved from the Clipboard by passing it to <xref:System.Text.UTF8Encoding.GetString(System.Byte[],System.Int32,System.Int32)?displayProperty=name>) and you're retargeting your app from version 4 to 4.5, that workaround should be removed.If the old behavior is needed for some reason, the app can target the .NET Framework 4.0 to get that behavior.</span></span>|
|<span data-ttu-id="0917c-107">Область</span><span class="sxs-lookup"><span data-stu-id="0917c-107">Scope</span></span>|<span data-ttu-id="0917c-108">Пограничный случай</span><span class="sxs-lookup"><span data-stu-id="0917c-108">Edge</span></span>|
|<span data-ttu-id="0917c-109">Версия</span><span class="sxs-lookup"><span data-stu-id="0917c-109">Version</span></span>|<span data-ttu-id="0917c-110">4.5.2</span><span class="sxs-lookup"><span data-stu-id="0917c-110">4.5.2</span></span>|
|<span data-ttu-id="0917c-111">Тип</span><span class="sxs-lookup"><span data-stu-id="0917c-111">Type</span></span>|<span data-ttu-id="0917c-112">Изменение целевой платформы</span><span class="sxs-lookup"><span data-stu-id="0917c-112">Retargeting</span></span>|
|<span data-ttu-id="0917c-113">Затронутые API</span><span class="sxs-lookup"><span data-stu-id="0917c-113">Affected APIs</span></span>|<ul><li><xref:System.Windows.DataObject.GetData(System.String)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.Type)?displayProperty=nameWithType></li><li><xref:System.Windows.DataObject.GetData(System.String,System.Boolean)?displayProperty=nameWithType></li></ul>|

