### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>Сетка WPF выделение пространства звезда столбцами

|   |   |
|---|---|
|Подробные сведения|Начиная с .NET Framework 4.7 WPF заменяет алгоритм, <xref:System.Windows.Controls.Grid> используются для выделения пространства для *-столбцов. Это приведет к изменению фактическую ширину назначен *-столбцов в число вариантов:<ul><li>Если один или несколько *-столбец также использует минимальное или максимальное значение ширины, которая переопределяет пропорционально выделения памяти для этого столбца. (Минимальная ширина могут наследовать из явное объявление MinWidth или неявные минимум, полученный от содержимого столбца. Максимальная ширина может определяться только явно, из объявления MaxWidth.)</li><li>Когда один или несколько *-объявить очень больших столбцов *-вес, больше 10 ^ 298.</li><li>Когда *-веса — это существенно различающихся сталкиваться с плавающей запятой нестабильность (переполнение, потеря точности, потеря точности).</li><li>Когда включено округление макета, а действующее значение DPI дисплея достаточно высокое.</li></ul>В первых двух случаях ширины, созданные в новом алгоритме может быть значительно отличаются от созданных старого алгоритма; в последнем случае на отличие может быть не более одного или двух точек. Новый алгоритм устраняет несколько ошибок в старый алгоритм.<ol><li>Общее выделенное пространство для столбцов может превышать ширину сетки. Это может произойти при выделении пространства для столбца, пропорциональная доля которого меньше его минимального размера. Алгоритм выделяет минимальный размер, что уменьшает пространство, доступное для других столбцов. При наличии не *-столбцов слева для выделения, общее выделение будет слишком велик.</li><li>Общее выделенное пространство может быть меньше ширины сетки. Это проблема двойного # 1, возникающие, если выделить столбец которого пропорциональную долю больше максимального размера, нет *-столбцов слева, чтобы занять slack.</li><li>Два *-столбцов можно получать распределения, не зависящее их *-весовые коэффициенты. Это более мягкая версия первой или второй проблемы возникает при выделении пространства для *-столбцов A, B и C (в таком порядке), когда пропорциональная доля столбца B нарушает его минимальное (или максимальное) ограничение. Как показано выше, при этом изменяется место, доступное для столбца C, который получает меньше (или больше) пропорционально выделенного пространства, чем получил столбец A.</li><li>Столбцы с очень большими весами (&gt; 10 ^ 298) обрабатываются как если бы они имели вес 10 ^ 298. Пропорциональные различия между ними (и между столбцами с немного меньшим весом) не учитываются.</li><li>Столбцы с весами inifinte не обрабатываются правильно. [Фактически невозможно определить вес как бесконечный, но это искусственное ограничение. Его обработка кодом выделения была безуспешной.]</li><li>Несколько мелких проблем при предотвращении переполнения, нехватки данных, потери точности и аналогичных проблем с плавающей запятой.</li><li>Корректировки округления макета неверны при достаточно высоком DPI.</li></ol>Новый алгоритм выдает результаты, которые соответствуют следующие условия: значение. Назначенные фактическую ширину *-меньше никогда не его минимальную ширину и не больше максимальной ширины. Б. Каждый <em>-столбец, который не назначен минимального или максимальную ширину назначен шириной пропорционально его <em>-вес. Точнее, если два столбца должны быть объявлены с ширина x</em> и y</em> соответственно, и если ни один из столбцов Получает минимальное или максимальное значение ширины, v фактические значения ширины и w, присвоенные столбцам в той же пропорции: v / w == x / y.C. Выделенных общая ширина &quot;пропорционально&quot; *-столбцов равно свободное место выделив ограниченных столбцов (фиксированной, автоматически, и *-столбцы, которые выделяются их ширину min или max). Это может равняться нулю, например если сумма Минимальная ширина превышает ширину availbable сетки. Г. Эти инструкции должны интерпретироваться по отношению к &quot;идеальный&quot; макета. Если округление макета действует, фактические значения ширины может отличаться от идеальной Ширина по мере одну точку. Старый алгоритм соблюдаться (A), но не учитывает другим критериям, в случаях, описанных выше. Все говорят о столбцах и ширины в этой статье также применимо к строкам и высоту.|
|Предложение|По умолчанию приложения, что целевой версии платформы .NET Framework, начиная с .NET Framework 4.7 увидите новый алгоритм при приложений, предназначенных для .NET Framework 4.6.2 или более ранних версий будут видеть старый алгоритм. Чтобы переопределить значение по умолчанию, используйте следующий параметр конфигурации:<pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Старый алгоритм выбирает значение 'true', 'false' выбирает новый алгоритм.|
|Область|Дополнительный номер|
|Версия|4.7|
|Тип|Изменение целевой платформы|

