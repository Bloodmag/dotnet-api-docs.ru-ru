### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a>Удалить пул подключений, блокирует период для баз данных Azure SQL

|   |   |
|---|---|
|Подробные сведения|Начиная с .NET Framework 4.6.2 для подключения откройте запросы в известных базы данных Azure SQL (*. database.windows.net, *. database.chinacloudapi.cn, *. database.usgovcloudapi.net, *. database.cloudapi.de), является интервала блокирования пула соединений удалены, и откройте ошибок подключения не кэшируются. Почти сразу же после временных ошибок подключения будут выполняться повторные попытки запросов на открытие подключения. Это изменение позволяет открыть попытка подключения будет выполнена сразу для баз данных Azure SQL, тем самым увеличивая производительность приложений для облака — включено. Для всех попыток соединения продолжает применяться интервала блокирования пула соединений. В .NET Framework 4.6.1 и более ранних версиях когда приложение обнаруживает сбой временного соединения при подключении к базе данных попытка соединения повторить невозможно быстро, так как пул подключений кэширует ошибки и повторно создает ее в течение 5 секунд до 1 минуты. Дополнительные сведения см. в разделе [SQL пулов соединений Server (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md). Такое поведение является проблемным для подключений к базам данных Azure SQL, так как они часто завершаются временными ошибками, которые обычно устраняются через несколько секунд. Функция блокировки пула соединений означает, что приложение не может подключиться к базе данных широко срока, даже в том случае, если база данных доступна и приложению для подготовки к просмотру в течение нескольких секунд.|
|Предложение|Если такое поведение нежелательно, интервала блокирования пула подключений можно настроить, задав <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> свойства, представленных в .NET Framework 4.6.2. Значение этого свойства является членом перечисления <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name>, которое принимает одно из трех значений:<ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul>Чтобы восстановить прежнее поведение, задайте свойству <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> значение <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.|
|Область|Дополнительный номер|
|Версия|4.6.2|
|Тип|Среда выполнения|
|Затронутые API|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

