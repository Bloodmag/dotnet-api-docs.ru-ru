### <a name="horizontal-scrolling-and-virtualization"></a>Горизонтальная прокрутка и виртуализации

|   |   |
|---|---|
|Подробные сведения|Это изменение относится к <xref:System.Windows.Controls.ItemsControl?displayProperty=name> , который выполняет свой собственный виртуализации в направлении, независимая от основного направления прокрутки (главный пример является <xref:System.Windows.Controls.DataGrid?displayProperty=name> EnableColumnVirtualization =&quot;True&quot;).  Результат определенных горизонтальной прокрутки операций был изменен на более понятные и более аналогом результаты операций сопоставимых вертикальной результатов. Следующие операции &quot;прокрутки здесь&quot; и &quot;правый край&quot;, чтобы использовать имена из меню, получить, щелкнув правой кнопкой мыши горизонтальную полосу прокрутки.  Оба этих вычислений кандидата смещение и вызова <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>. После прокрутки новому смещению понятие &quot;здесь&quot; или &quot;правый угол&quot; могло измениться, поскольку вновь отменяется виртуализированных содержимое было изменено значение <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>. До .net 4.6.2 операции прокрутки просто использует смещение кандидата, даже если он не может быть &quot;здесь&quot; или &quot;правый угол&quot; больше.  Это приведет к эффектов, как &quot;перебрасываются&quot; ползунком, наиболее показано в примере. Предположим, что <xref:System.Windows.Controls.DataGrid?displayProperty=name> имеет ExtentWidth = 1000 и ширина = 200.  Перейдите к &quot;правый край&quot; использует кандидата смещение 1000 200 = 800.  Во время прокрутки на это смещение новые столбцы, de-виртуализировать; давайте предположим, что они являются очень широкий, чтобы <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> изменяет до 2000.  Scroll заканчивается HorizontalOffset = 800 и бегунка &quot;клики&quot; обратно в центре полосы прокрутки - точно в 800/2000 = 40%. Изменение является для повторного вычисления нового кандидата смещения при возникновении такой ситуации и повторите попытку. (Это как вертикальную прокрутку, уже работает.) Изменение обеспечивает взаимодействие с большей предсказуемостью и интуитивно понятный для конечного пользователя, но он также может повлиять на любое приложение, от которого зависит точное значение <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> после горизонтальной прокрутки ли вызван конечным пользователем, либо путем явного вызова <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.|
|Предложение|Приложения, использующего прогнозируемое значение для <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> должны изменяться, чтобы получить фактическое значение (и значение <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) после любой горизонтальной прокрутки, которые могут измениться <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> из-за отмены виртуализации.|
|Область|Дополнительный номер|
|Версия|4.6.2|
|Тип|Среда выполнения|
|Затронутые API|<ul><li><xref:System.Windows.Controls.Primitives.IScrollInfo?displayProperty=nameWithType></li></ul>|

