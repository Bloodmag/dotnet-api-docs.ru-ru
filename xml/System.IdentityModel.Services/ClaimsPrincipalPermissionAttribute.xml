<Type Name="ClaimsPrincipalPermissionAttribute" FullName="System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="173775058ac4a7e041a8abc94fc289950a3b8b10" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30417848" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class ClaimsPrincipalPermissionAttribute : System.Security.Permissions.CodeAccessSecurityAttribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit ClaimsPrincipalPermissionAttribute extends System.Security.Permissions.CodeAccessSecurityAttribute" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class ClaimsPrincipalPermissionAttribute&#xA;Inherits CodeAccessSecurityAttribute" />
  <TypeSignature Language="C++ CLI" Value="public ref class ClaimsPrincipalPermissionAttribute sealed : System::Security::Permissions::CodeAccessSecurityAttribute" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Security.Permissions.CodeAccessSecurityAttribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Method | System.AttributeTargets.Property, AllowMultiple=true)</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>Представляет атрибут безопасности, используемый для декларативного присвоения проверок доступа на основе логики, представленной экземпляром <see cref="T:System.Security.Claims.ClaimsAuthorizationManager" /> в текущем контексте приложения. Этот класс не наследуется.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> Используется для запроса проверки доступа с использованием настроенного декларативно <xref:System.Security.Claims.ClaimsAuthorizationManager>.  
  
 Необходимо указать один из <xref:System.Security.Permissions.SecurityAction> значения, `Resource` и `Operation` в ваш <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> объявления. `Resource` И `Operation` укажите свойства ресурса и действия, для которого текущий участник (<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType>) должен быть авторизован для выполнения продолжить. Если текущий участник не авторизован для выполнения указанного действия (операция) с указанным ресурсом <xref:System.Security.SecurityException> возникает исключение.  
  
> [!IMPORTANT]
>  <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> Класс с помощью диспетчера авторизации утверждений, настроенные с <xref:System.IdentityModel.Configuration.IdentityConfiguration> , заданной в разделе <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration%2A?displayProperty=nameWithType> свойство. Это верно во всех случаях, даже в случаях, когда WS-Federation не используется; Например active () веб-приложений WCF и консольных приложений. Можно указать диспетчера авторизации утверждений в конфигурации или программным путем. Чтобы использовать диспетчер авторизации утверждений в файле конфигурации, установите [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md) элемента под [ &lt;identityConfiguration&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/identityconfiguration.md) элемента и обеспечить ссылается эта конфигурация удостоверения [ &lt;federationConfiguration&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) элемент, который загружается средой выполнения (например, с параметр `identityConfigurationName` атрибута). Чтобы установить диспетчер авторизации утверждений программными средствами, добавьте обработчик для <xref:System.IdentityModel.Services.FederatedAuthentication.FederationConfigurationCreated?displayProperty=nameWithType> события.  
  
   
  
## Examples  
 Приведенный ниже показано, как защитить метод с по <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> атрибута. Атрибут будет вычислять ли должен быть предоставлен доступ к текущим субъектом за счет использования логика поведения <xref:System.Security.Claims.ClaimsAuthorizationManager> экземпляра в контексте приложения. Если текущий участник не авторизован для указанного действия с указанным ресурсом <xref:System.Security.SecurityException> будет вызываться исключение; в противном случае выполнение продолжается.  
  
 [!code-csharp[WifCppWithCam#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifcppwithcam/cs/wifcppwithcam/program.cs#4)]  
  
 Следующий код XML показывает минимальная конфигурация, необходимая для использования авторизации настраиваемые утверждения диспетчер с <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> класса. Необходимо как минимум, объявить оба `system.identityModel` и `system.identityModel.services` разделы в `<configSection>` элемент и укажите ваш диспетчера авторизации в [ &lt;claimsAuthorizationManager&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/claimsauthorizationmanager.md)элемент Конфигурация по умолчанию удостоверение. Это позволит гарантировать, что ссылки на ваш диспетчера авторизации из конфигурации федерации по умолчанию. Кроме того, можно указать имя конфигурации удостоверение, под которой ваш диспетчера авторизации указывается в `identityConfigurationName` атрибут [ &lt;federationConfiguration&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/federationconfiguration.md) элемента.  
  
```xml  
<?xml version="1.0" encoding="utf-8" ?>  
<configuration>  
  <configSections>  
    <!-- WIF configuration sections -->  
    <section name="system.identityModel" type="System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>  
    <section name="system.identityModel.services" type="System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089"/>  
  </configSections>  
  
  <startup>  
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />  
  </startup>  
  
  <system.identityModel>  
    <identityConfiguration>  
      <claimsAuthorizationManager type ="MyClaimsAuthorizationManager.MyClaimsAuthorizationManager, MyClaimsAuthorizationManager"/>  
    </identityConfiguration>  
  </system.identityModel>  
  
</configuration>  
```  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.IdentityModel.Services.ClaimsPrincipalPermission" />
    <altmember cref="P:System.IdentityModel.Services.FederatedAuthentication.FederationConfiguration" />
    <altmember cref="T:System.Security.Claims.ClaimsAuthorizationManager" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ClaimsPrincipalPermissionAttribute (System.Security.Permissions.SecurityAction action);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.Security.Permissions.SecurityAction action) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.#ctor(System.Security.Permissions.SecurityAction)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (action As SecurityAction)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ClaimsPrincipalPermissionAttribute(System::Security::Permissions::SecurityAction action);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="action" Type="System.Security.Permissions.SecurityAction" />
      </Parameters>
      <Docs>
        <param name="action">Одно из значений, указывающее действия безопасности, которые могут быть выполнены при использовании декларативной безопасности.</param>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute" />.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Необходимо также указать `Operation` и `Resource` свойства в вашей <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> объявления или исключение возникает когда <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.CreatePermission%2A> метод вызывается для создания разрешения.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreatePermission">
      <MemberSignature Language="C#" Value="public override System.Security.IPermission CreatePermission ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance class System.Security.IPermission CreatePermission() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.CreatePermission" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function CreatePermission () As IPermission" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::Security::IPermission ^ CreatePermission();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Security", "CA2103:ReviewImperativeSecurity", Justification="It is expected that the runtime’s behavior would rely on changing data")</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Security.IPermission</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Создает новый экземпляр класса<see cref="T:System.IdentityModel.Services.ClaimsPrincipalPermission" />, основанный на текущем экземпляре.</summary>
        <returns>
          <see cref="T:System.IdentityModel.Services.ClaimsPrincipalPermission" /> с операцией и ресурс, связанный с этим экземпляром.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.IdentityModel.Services.ClaimsPrincipalPermission> Объект создается с помощью значения <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.Operation%2A> свойство и <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.Resource%2A> свойства. Необходимо указать `Operation` и `Resource` свойства в вашей <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> объявления или исключение возникает когда <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.CreatePermission%2A> метод вызывается для создания разрешения.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Operation">
      <MemberSignature Language="C#" Value="public string Operation { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Operation" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.Operation" />
      <MemberSignature Language="VB.NET" Value="Public Property Operation As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Operation { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Получает или задает операцию, для которой текущий субъект должен быть авторизован на указанном ресурсе.</summary>
        <value>Действие, для которого должен быть авторизован текущий субъект.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Операция — это действие, для которого текущий участник должен пройти авторизацию с указанным ресурсом. Необходимо задать `Operation` свойство в вашей <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> объявления или исключение возникает когда <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.CreatePermission%2A> вызов метода для создания разрешения.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Resource">
      <MemberSignature Language="C#" Value="public string Resource { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string Resource" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.Resource" />
      <MemberSignature Language="VB.NET" Value="Public Property Resource As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::String ^ Resource { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Получает или задает ресурс, на котором текущий субъект должен быть авторизован для выполнения указанного действия (операции).</summary>
        <value>Ресурс, на котором должен быть авторизован текущий субъект.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Ресурс, для которого текущий участник проходить авторизацию для выполнения указанного действия. Необходимо задать `Resource` свойство в вашей <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute> объявления или исключение возникает когда <xref:System.IdentityModel.Services.ClaimsPrincipalPermissionAttribute.CreatePermission%2A> вызов метода для создания разрешения.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>