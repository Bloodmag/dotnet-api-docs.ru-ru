<Type Name="SecurityTokenService" FullName="System.IdentityModel.SecurityTokenService">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="b5c8d93b898d628b70967d33278c8cd9f33a66bf" />
    <Meta Name="ms.sourcegitcommit" Value="434f60616a9793fa8436744549fc856e94f7a648" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="08/24/2018" />
    <Meta Name="ms.locfileid" Value="36479612" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class SecurityTokenService" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit SecurityTokenService extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.SecurityTokenService" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class SecurityTokenService" />
  <TypeSignature Language="C++ CLI" Value="public ref class SecurityTokenService abstract" />
  <TypeSignature Language="F#" Value="type SecurityTokenService = class" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="fe348-101">Абстрактный базовый класс, который определяет свойства и методы службы токенов безопасности (STS).</span>
      <span class="sxs-lookup">
        <span data-stu-id="fe348-101">The abstract base class that defines the properties and methods of a security token service (STS).</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-102">Чтобы создать STS должен быть производным от <xref:System.IdentityModel.SecurityTokenService> класса.</span><span class="sxs-lookup"><span data-stu-id="fe348-102">To create an STS you must derive from the <xref:System.IdentityModel.SecurityTokenService> class.</span></span> <span data-ttu-id="fe348-103">В пользовательский класс должен как минимум, переопределение <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> и <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> методы.</span><span class="sxs-lookup"><span data-stu-id="fe348-103">In your custom class you must, at a minimum, override the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> and <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> methods.</span></span> <span data-ttu-id="fe348-104">С помощью этих переопределений STS, созданной с помощью реализация по умолчанию все другие методы, определенные в классе может выдавать токены безопасности в ответ на безопасности запросы токена (RST).</span><span class="sxs-lookup"><span data-stu-id="fe348-104">With these overrides, the STS created using the default implementation of all the other methods defined in the class is capable of issuing security tokens in response to security token requests (RST).</span></span> <span data-ttu-id="fe348-105">То есть реализуется проблема привязку, определенную в спецификации WS-Trust.</span><span class="sxs-lookup"><span data-stu-id="fe348-105">That is, the Issue binding defined in the WS-Trust specification is implemented.</span></span> <span data-ttu-id="fe348-106">Эта привязка реализуется в <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-106">This binding is implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="fe348-107">Ни один из других WS-Trust привязок (обновления, отмены и проверки) реализованы в случае по умолчанию и соответствующие ошибка возвращается вызывающему объекту при обнаружении RST, соответствующее одному из этих привязок.</span><span class="sxs-lookup"><span data-stu-id="fe348-107">None of the other WS-Trust bindings (Renew, Cancel, and Validate) are implemented in the default case and an appropriate fault is returned to the caller if an RST that corresponds to one of these bindings is encountered.</span></span> <span data-ttu-id="fe348-108">Конечно, можно переопределить соответствующие методы (<xref:System.IdentityModel.SecurityTokenService.Renew%2A>, <xref:System.IdentityModel.SecurityTokenService.Cancel%2A>, и <xref:System.IdentityModel.SecurityTokenService.Validate%2A>) для реализации этих привязок в STS.</span><span class="sxs-lookup"><span data-stu-id="fe348-108">You can, of course, override the appropriate methods (<xref:System.IdentityModel.SecurityTokenService.Renew%2A>, <xref:System.IdentityModel.SecurityTokenService.Cancel%2A>, and <xref:System.IdentityModel.SecurityTokenService.Validate%2A>) to implement these bindings in your STS.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="fe348-109">Реализация STS готовый к выпуску влечет за собой тщательного планирования и значительные ресурсы, чтобы устранить потенциальные угрозы безопасности, присущих предоставление такой службы.</span><span class="sxs-lookup"><span data-stu-id="fe348-109">Implementing a production-ready STS entails careful planning and considerable resources to mitigate the potential security risks inherent in exposing such a service.</span></span> <span data-ttu-id="fe348-110">Большинство разработчиков, с помощью Windows Identity Foundation (WIF) будет разработки приложений, передачи функций управления удостоверениями службе маркеров безопасности, а не разработки STS, сам.</span><span class="sxs-lookup"><span data-stu-id="fe348-110">Most developers using Windows Identity Foundation (WIF) will be developing applications that outsource identity management to an STS, rather than developing an STS itself.</span></span> <span data-ttu-id="fe348-111">WIF предоставляет расширение Visual Studio, Identity and Access Tool для Visual Studio 2012, чтобы помочь разработчикам тестировать решения в среде разработки.</span><span class="sxs-lookup"><span data-stu-id="fe348-111">WIF provides a Visual Studio extension, the Identity and Access Tool for Visual Studio 2012, to help developers test solutions in the development environment.</span></span> <span data-ttu-id="fe348-112">Это средство включает в себя STS, `LocalSTS`, который можно настроить для обслуживания конкретные утверждения для приложения, которое вы разрабатываете.</span><span class="sxs-lookup"><span data-stu-id="fe348-112">This tool includes an STS, `LocalSTS`, that you can configure to serve specific claims to the application that you are developing.</span></span> <span data-ttu-id="fe348-113">Дополнительные сведения о средстве удостоверениями и доступом, см. в разделе [Identity and Access Tool для Visual Studio 2012](~/docs/framework/security/identity-and-access-tool-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="fe348-113">For more information about the Identity and Access tool, see [Identity and Access Tool for Visual Studio 2012](~/docs/framework/security/identity-and-access-tool-for-vs.md).</span></span> <span data-ttu-id="fe348-114">В некоторых сценариях `LocalSTS` может не предоставлять функциональные возможности, необходимые для адекватного тестирования приложения; например, в сценарии, который включает в себя разработке пользовательского обработчика маркеров для использования приложением.</span><span class="sxs-lookup"><span data-stu-id="fe348-114">In some scenarios, `LocalSTS` may not provide the functionality necessary to adequately test your application; for example, in a scenario that involves developing a custom token handler for use by an application.</span></span> <span data-ttu-id="fe348-115">В таких случаях можно унаследовать <xref:System.IdentityModel.SecurityTokenService> для создания одного или нескольких простых серверов службы токенов безопасности, можно развернуть в среде разработки, и который может использоваться для тестирования таких функций в приложении.</span><span class="sxs-lookup"><span data-stu-id="fe348-115">In these cases, you can derive from <xref:System.IdentityModel.SecurityTokenService> to create one or more simple STSs that can be deployed in your development environment and that can be used to test such features in your application.</span></span> <span data-ttu-id="fe348-116">В оставшейся части этого раздела посвящена методам, предоставляемым <xref:System.IdentityModel.SecurityTokenService> класс, который можно реализовать простой службы маркеров безопасности и расширение конвейера выдачи маркера.</span><span class="sxs-lookup"><span data-stu-id="fe348-116">The rest of this section focuses on the methods exposed by the <xref:System.IdentityModel.SecurityTokenService> class that enable you to implement a simple STS and extend the token issuance pipeline.</span></span>  
  
 <span data-ttu-id="fe348-117">Ниже приведены общие методы важна для разработчика для использования в среде тестирования или разработки.</span><span class="sxs-lookup"><span data-stu-id="fe348-117">The following list provides a brief overview of the methods of primary importance to the developer for use in a test or development environment.</span></span>  
  
-   <span data-ttu-id="fe348-118">метод <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>;</span><span class="sxs-lookup"><span data-stu-id="fe348-118">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method.</span></span> <span data-ttu-id="fe348-119">Этот метод возвращает <xref:System.IdentityModel.Scope> , содержащий сведения о RP.</span><span class="sxs-lookup"><span data-stu-id="fe348-119">This method returns a <xref:System.IdentityModel.Scope> object that contains information about the RP.</span></span> <span data-ttu-id="fe348-120">Этот объект используется в остальной части конвейера выдачи маркера и включает в себя сведения о подписи и шифрования учетных данных для использования в ответе, а также `AppliesTo` и `ReplyTo` (при необходимости) адреса.</span><span class="sxs-lookup"><span data-stu-id="fe348-120">This object is used in the rest of the token issuance pipeline and includes information about the signing and encrypting credentials to use in the response, as well as the `AppliesTo` and `ReplyTo` (if required) addresses.</span></span> <span data-ttu-id="fe348-121">Этот метод необходимо переопределить.</span><span class="sxs-lookup"><span data-stu-id="fe348-121">You must override this method.</span></span>  
  
-   <span data-ttu-id="fe348-122">метод <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A>;</span><span class="sxs-lookup"><span data-stu-id="fe348-122">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method.</span></span> <span data-ttu-id="fe348-123">Этот метод возвращает <xref:System.Security.Claims.ClaimsIdentity> объект, содержащий утверждения, чтобы вернуться к RP.</span><span class="sxs-lookup"><span data-stu-id="fe348-123">This method returns an <xref:System.Security.Claims.ClaimsIdentity> object that contains the claims to return to the RP.</span></span> <span data-ttu-id="fe348-124">Этот метод необходимо переопределить.</span><span class="sxs-lookup"><span data-stu-id="fe348-124">You must override this method.</span></span>  
  
-   <span data-ttu-id="fe348-125">метод <xref:System.IdentityModel.SecurityTokenService.Issue%2A>;</span><span class="sxs-lookup"><span data-stu-id="fe348-125">The <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="fe348-126">Этот метод реализует конвейер запроса маркера, который обрабатывает входящий запрос токена безопасности (RST) и возвращает ответ (RSTR) в вызывающий объект, содержащий токен, который может использоваться для аутентификации в RP.</span><span class="sxs-lookup"><span data-stu-id="fe348-126">This method implements the token request pipeline, which processes an incoming security token request (RST) and returns a response (RSTR) to the caller that contains a token that can be used to authenticate with an RP.</span></span> <span data-ttu-id="fe348-127">Многие другие методы, определенные в <xref:System.IdentityModel.SecurityTokenService> класса вызываются из этого метода, включая <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> и <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> методы.</span><span class="sxs-lookup"><span data-stu-id="fe348-127">Many of the other methods defined in the <xref:System.IdentityModel.SecurityTokenService> class are called from this method, including the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> and <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> methods.</span></span> <span data-ttu-id="fe348-128">У вас нет в Переопределите этот метод, но представление конвейера запроса маркера, который он реализует могут оказаться полезными.</span><span class="sxs-lookup"><span data-stu-id="fe348-128">You do not have to override this method, but an understanding of the token request pipeline it implements may be helpful.</span></span>  
  
 <span data-ttu-id="fe348-129">STS настраивается с помощью <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration> класса.</span><span class="sxs-lookup"><span data-stu-id="fe348-129">An STS is configured through the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration> class.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="fe348-130">Примеры кода, которые используются в <xref:System.IdentityModel.SecurityTokenService> разделы берутся из `Custom Token` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-130">The code examples that are used in the <xref:System.IdentityModel.SecurityTokenService> topics are taken from the `Custom Token` sample.</span></span> <span data-ttu-id="fe348-131">Этот образец предоставляет пользовательские классы, позволяющие обработки токены Simple Web (SWT), а также реализация пассивной STS, которая может обслуживать маркер SWT.</span><span class="sxs-lookup"><span data-stu-id="fe348-131">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="fe348-132">Пример реализации активная STS, вы увидите `Federation Metadata` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-132">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="fe348-133">Сведения о эти примеры и другие примеры, доступные для WIF и о том, как их загрузить, см. в разделе [индекс образцов кода WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="fe348-133">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span> <span data-ttu-id="fe348-134">Следующий код показывает реализацию пассивной STS с помощью <xref:System.IdentityModel.SecurityTokenService> класса.</span><span class="sxs-lookup"><span data-stu-id="fe348-134">The following code shows the implementation of a passive STS using the <xref:System.IdentityModel.SecurityTokenService> class.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#3](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#3)]  
  
 <span data-ttu-id="fe348-135">Ниже показано, как для вызова пользовательских пассивной STS для обработки запроса WS-Federation, вызвав <xref:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations.ProcessRequest%28System.Web.HttpRequest%2CSystem.Security.Claims.ClaimsPrincipal%2CSystem.IdentityModel.SecurityTokenService%2CSystem.Web.HttpResponse%29?displayProperty=nameWithType> метода из кода программной части в `default.aspx.cs` файл.</span><span class="sxs-lookup"><span data-stu-id="fe348-135">The following code shows how to invoke a custom passive STS to process a WS-Federation request by calling the <xref:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations.ProcessRequest%28System.Web.HttpRequest%2CSystem.Security.Claims.ClaimsPrincipal%2CSystem.IdentityModel.SecurityTokenService%2CSystem.Web.HttpResponse%29?displayProperty=nameWithType> method from the code behind in the `default.aspx.cs` file.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#1](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/default.aspx.cs#1)]  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides">
      <span data-ttu-id="fe348-136">
        <para>Необходимо переопределить оба <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> и <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> методы.</para>
      </span>
      <span class="sxs-lookup">
        <span data-stu-id="fe348-136">
          <para>You must override both the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> and the <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> methods.</para>
        </span>
      </span>
    </block>
    <altmember cref="T:System.IdentityModel.Scope" />
    <altmember cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />
    <altmember cref="T:System.IdentityModel.Services.FederatedPassiveSecurityTokenServiceOperations" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected SecurityTokenService (System.IdentityModel.Configuration.SecurityTokenServiceConfiguration securityTokenServiceConfiguration);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor(class System.IdentityModel.Configuration.SecurityTokenServiceConfiguration securityTokenServiceConfiguration) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.#ctor(System.IdentityModel.Configuration.SecurityTokenServiceConfiguration)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; SecurityTokenService(System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ securityTokenServiceConfiguration);" />
      <MemberSignature Language="F#" Value="new System.IdentityModel.SecurityTokenService : System.IdentityModel.Configuration.SecurityTokenServiceConfiguration -&gt; System.IdentityModel.SecurityTokenService" Usage="new System.IdentityModel.SecurityTokenService securityTokenServiceConfiguration" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="securityTokenServiceConfiguration" Type="System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />
      </Parameters>
      <Docs>
        <param name="securityTokenServiceConfiguration">
          <span data-ttu-id="fe348-137">Объект <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />, содержащий настройки для STS.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-137">A <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> that contains the settings for the STS.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-138">При вызове из производных классов для инициализации класса <see cref="T:System.IdentityModel.SecurityTokenService" />, используя заданные параметры конфигурации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-138">Called from derived classes to initialize the <see cref="T:System.IdentityModel.SecurityTokenService" /> class using the specified configuration settings.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-139">Этот конструктор используется для инициализации области поставщика и сертификат издателя маркера.</span><span class="sxs-lookup"><span data-stu-id="fe348-139">Use this constructor to initialize scope provider and token issuer certificate.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="fe348-140">Свойство <paramref name="securityTokenServiceConfiguration" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-140">
              <paramref name="securityTokenServiceConfiguration" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="BeginCancel">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginCancel (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginCancel(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginCancel (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginCancel(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginCancel : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginCancel : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginCancel (principal, request, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-141">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-141">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-142">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-142">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-143">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-143">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-144">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции отмены.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-144">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous cancel operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-145">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией отмены.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-145">An object that contains state information associated with the asynchronous cancel operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-146">При переопределении в производном классе начинает асинхронный запрос WS-Trust Cancel.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-146">When overridden in a derived class, begins an asynchronous WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-147">Объект <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию отмены.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-147">The <see cref="T:System.IAsyncResult" /> that references the asynchronous cancel operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-148">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-148">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginGetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected virtual IAsyncResult BeginGetOutputClaimsIdentity (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IAsyncResult BeginGetOutputClaimsIdentity(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual IAsyncResult ^ BeginGetOutputClaimsIdentity(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginGetOutputClaimsIdentity : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginGetOutputClaimsIdentity : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginGetOutputClaimsIdentity (principal, request, scope, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-149">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-149">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-150">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-150">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-151">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-151">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="fe348-152">Объект <see cref="T:System.IdentityModel.Scope" />, содержащий информацию о проверяющей стороне, связанной с данным запросом.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-152">The <see cref="T:System.IdentityModel.Scope" /> that contains information about the relying party associated with the request.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-153">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-153">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-154">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-154">An object that contains state information associated with the asynchronous operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-155">При переопределении в производном классе начинает асинхронный вызов метода <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-155">When overridden in a derived class, begins an asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-156">Объект <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-156">The <see cref="T:System.IAsyncResult" /> that references the asynchronous operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-157">Реализация по умолчанию этот метод создает исключение <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-157">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginGetScope">
      <MemberSignature Language="C#" Value="protected virtual IAsyncResult BeginGetScope (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IAsyncResult BeginGetScope(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function BeginGetScope (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual IAsyncResult ^ BeginGetScope(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginGetScope : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginGetScope : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginGetScope (principal, request, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-158">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-158">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-159">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-159">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-160">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-160">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-161">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-161">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-162">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-162">An object that contains state information associated with the asynchronous operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-163">При переопределении в производном классе начинает асинхронный вызов метода <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-163">When overridden in a derived class, begins an asynchronous call for the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-164">Объект <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию отмены.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-164">The <see cref="T:System.IAsyncResult" /> that references the asynchronous cancel operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-165">Реализация по умолчанию этот метод создает исключение <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-165">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginIssue">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginIssue (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginIssue(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginIssue (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginIssue(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginIssue : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginIssue : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginIssue (principal, request, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-166">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-166">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-167">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-167">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-168">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-168">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-169">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции выдачи.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-169">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous issue operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-170">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией выдачи.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-170">An object that contains state information associated with the asynchronous issue operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-171">При переопределении в производном классе начинает асинхронный запрос WS-Trust Issue.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-171">When overridden in a derived class, begins an asynchronous WS-Trust Issue request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-172">
            <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию выдачи.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-172">The <see cref="T:System.IAsyncResult" /> that references the asynchronous issue operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-173">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-173">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginRenew">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginRenew (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginRenew(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginRenew (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginRenew(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginRenew : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginRenew : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginRenew (principal, request, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-174">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-174">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-175">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-175">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-176">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-176">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-177">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции обновления.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-177">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous renew operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-178">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией обновления.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-178">An object that contains state information associated with the asynchronous renew operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-179">При переопределении в производном классе начинает асинхронный запрос WS-Trust Renew.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-179">When overridden in a derived class, begins an asynchronous WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-180">
            <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию обновления.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-180">The <see cref="T:System.IAsyncResult" /> that references the asynchronous renew operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-181">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-181">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="BeginValidate">
      <MemberSignature Language="C#" Value="public virtual IAsyncResult BeginValidate (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, AsyncCallback callback, object state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IAsyncResult BeginValidate(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.AsyncCallback callback, object state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function BeginValidate (principal As ClaimsPrincipal, request As RequestSecurityToken, callback As AsyncCallback, state As Object) As IAsyncResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual IAsyncResult ^ BeginValidate(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, AsyncCallback ^ callback, System::Object ^ state);" />
      <MemberSignature Language="F#" Value="abstract member BeginValidate : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult&#xA;override this.BeginValidate : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * AsyncCallback * obj -&gt; IAsyncResult" Usage="securityTokenService.BeginValidate (principal, request, callback, state)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IAsyncResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="callback" Type="System.AsyncCallback" />
        <Parameter Name="state" Type="System.Object" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-182">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-182">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-183">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-183">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-184">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-184">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="callback">
          <span data-ttu-id="fe348-185">Делегат <see cref="T:System.AsyncCallback" />, принимающий уведомление о завершении асинхронной операции проверки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-185">The <see cref="T:System.AsyncCallback" /> delegate that receives notification of the completion of the asynchronous validate operation.</span>
          </span>
        </param>
        <param name="state">
          <span data-ttu-id="fe348-186">Объект, который содержит сведения о состоянии, связанные с асинхронной операцией проверки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-186">An object that contains state information associated with the asynchronous validate operation.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-187">При переопределении в производном классе начинает асинхронный запрос WS-Trust Validate.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-187">When overridden in a derived class, begins an asynchronous WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-188">
            <see cref="T:System.IAsyncResult" />, который ссылается на асинхронную операцию проверки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-188">The <see cref="T:System.IAsyncResult" /> that references the asynchronous validate operation.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-189">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-189">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Cancel">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Cancel (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Cancel(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Cancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Cancel (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Cancel(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member Cancel : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.Cancel : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.Cancel (principal, request)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-190">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-190">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-191">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-191">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-192">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-192">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-193">При переопределении в производном классе обрабатывает запрос WS-Trust Cancel.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-193">When overridden in a derived class, processes a WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-194">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-194">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-195">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-195">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSecurityTokenDescriptor">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.SecurityTokenDescriptor CreateSecurityTokenDescriptor (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityTokenDescriptor CreateSecurityTokenDescriptor(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::SecurityTokenDescriptor ^ CreateSecurityTokenDescriptor(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberSignature Language="F#" Value="abstract member CreateSecurityTokenDescriptor : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope -&gt; System.IdentityModel.Tokens.SecurityTokenDescriptor&#xA;override this.CreateSecurityTokenDescriptor : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope -&gt; System.IdentityModel.Tokens.SecurityTokenDescriptor" Usage="securityTokenService.CreateSecurityTokenDescriptor (request, scope)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenDescriptor</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="fe348-196">Входящий запрос токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-196">The incoming token request.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="fe348-197">Объект <see cref="P:System.IdentityModel.SecurityTokenService.Scope" />, возвращаемый методом <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-197">The <see cref="P:System.IdentityModel.SecurityTokenService.Scope" /> object returned from <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-198">Создает экземпляр класса <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-198">Creates an instance of a <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-199">
            <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-199">The <see cref="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-200">Вызывается во время выдачи токена после <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="fe348-200">Invoked during token issuance after <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="fe348-201">Свойство <paramref name="request" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-201">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="fe348-202">- или -</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-202">-or-</span>
          </span>
          <span data-ttu-id="fe348-203">Свойство <paramref name="scope" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-203">
              <paramref name="scope" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="EndCancel">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndCancel (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndCancel(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndCancel(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndCancel (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndCancel(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndCancel : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.EndCancel : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.EndCancel result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-204">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-204">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginCancel(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-205">При переопределении в производном классе завершает асинхронный запрос WS-Trust Cancel.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-205">When overridden in a derived class, completes the asynchronous WS-Trust Cancel request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-206">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-206">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-207">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-207">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndGetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected virtual System.Security.Claims.ClaimsIdentity EndGetOutputClaimsIdentity (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Security.Claims.ClaimsIdentity EndGetOutputClaimsIdentity(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndGetOutputClaimsIdentity(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function EndGetOutputClaimsIdentity (result As IAsyncResult) As ClaimsIdentity" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Security::Claims::ClaimsIdentity ^ EndGetOutputClaimsIdentity(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndGetOutputClaimsIdentity : IAsyncResult -&gt; System.Security.Claims.ClaimsIdentity&#xA;override this.EndGetOutputClaimsIdentity : IAsyncResult -&gt; System.Security.Claims.ClaimsIdentity" Usage="securityTokenService.EndGetOutputClaimsIdentity result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsIdentity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-208">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-208">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-209">При переопределении в производном классе завершает асинхронный вызов метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-209">When overridden in a derived class, completes the asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-210">
            <see cref="T:System.Security.Claims.ClaimsIdentity" />, содержащий коллекцию утверждений, которые будут помещены в выданный токен безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-210">A <see cref="T:System.Security.Claims.ClaimsIdentity" /> that contains the collection of claims that will be placed in the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-211">Реализация по умолчанию этот метод создает исключение <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-211">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndGetScope">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Scope EndGetScope (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Scope EndGetScope(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndGetScope(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function EndGetScope (result As IAsyncResult) As Scope" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Scope ^ EndGetScope(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndGetScope : IAsyncResult -&gt; System.IdentityModel.Scope&#xA;override this.EndGetScope : IAsyncResult -&gt; System.IdentityModel.Scope" Usage="securityTokenService.EndGetScope result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-212">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-212">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-213">При переопределении в производном классе завершает асинхронный вызов метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-213">When overridden in a derived class, completes the asynchronous call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-214">
            <see cref="T:System.IdentityModel.Scope" />, который инкапсулирует данные проверяющей стороны (RP), связанные с запросом (RST), указанным в вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-214">A <see cref="T:System.IdentityModel.Scope" /> that encapsulates the relying party (RP) information associated with the request (RST) specified in the call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginGetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-215">Реализация по умолчанию этот метод создает исключение <xref:System.NotImplementedException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-215">The default implementation of this method throws a <xref:System.NotImplementedException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndIssue">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndIssue (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndIssue(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndIssue(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndIssue (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndIssue(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndIssue : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.EndIssue : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.EndIssue result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-216">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-216">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginIssue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-217">При переопределении в производном классе завершает асинхронный запрос WS-Trust Issue.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-217">When overridden in a derived class, completes the asynchronous WS-Trust Issue request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-218">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-218">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-219">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-219">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndRenew">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndRenew (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndRenew(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndRenew(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndRenew (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndRenew(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndRenew : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.EndRenew : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.EndRenew result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-220">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-220">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginRenew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-221">При переопределении в производном классе завершает асинхронный запрос WS-Trust Renew.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-221">When overridden in a derived class, completes the asynchronous WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-222">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-222">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-223">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-223">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="EndValidate">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndValidate (IAsyncResult result);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse EndValidate(class System.IAsyncResult result) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.EndValidate(System.IAsyncResult)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function EndValidate (result As IAsyncResult) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ EndValidate(IAsyncResult ^ result);" />
      <MemberSignature Language="F#" Value="abstract member EndValidate : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.EndValidate : IAsyncResult -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.EndValidate result" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="result" Type="System.IAsyncResult" />
      </Parameters>
      <Docs>
        <param name="result">
          <span data-ttu-id="fe348-224">Объект <see cref="T:System.IAsyncResult" />, возвращаемый при вызове метода <see cref="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-224">The <see cref="T:System.IAsyncResult" /> that is returned by a call to the <see cref="M:System.IdentityModel.SecurityTokenService.BeginValidate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.AsyncCallback,System.Object)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-225">При переопределении в производном классе завершает асинхронный запрос WS-Trust Validate.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-225">When overridden in a derived class, completes the asynchronous WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-226">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-226">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-227">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-227">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetIssuerName">
      <MemberSignature Language="C#" Value="protected virtual string GetIssuerName ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance string GetIssuerName() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetIssuerName" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetIssuerName () As String" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::String ^ GetIssuerName();" />
      <MemberSignature Language="F#" Value="abstract member GetIssuerName : unit -&gt; string&#xA;override this.GetIssuerName : unit -&gt; string" Usage="securityTokenService.GetIssuerName " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>
          <span data-ttu-id="fe348-228">Получает имя службы токенов безопасности (STS).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-228">Gets the name of the security token service (STS).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-229">Имя издателя.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-229">The issuer name.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-230">Этот метод вызывается из реализации конвейера выдачи маркера в значение по умолчанию <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-230">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 <span data-ttu-id="fe348-231">Реализация по умолчанию возвращает <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.TokenIssuerName%2A> свойства из конфигурации через <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="fe348-231">The default implementation returns the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.TokenIssuerName%2A> property from configuration accessed through the <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> property.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetOutputClaimsIdentity">
      <MemberSignature Language="C#" Value="protected abstract System.Security.Claims.ClaimsIdentity GetOutputClaimsIdentity (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Security.Claims.ClaimsIdentity GetOutputClaimsIdentity(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract System::Security::Claims::ClaimsIdentity ^ GetOutputClaimsIdentity(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberSignature Language="F#" Value="abstract member GetOutputClaimsIdentity : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope -&gt; System.Security.Claims.ClaimsIdentity" Usage="securityTokenService.GetOutputClaimsIdentity (principal, request, scope)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsIdentity</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-232">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-232">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-233">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-233">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-234">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-234">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="fe348-235">Объект <see cref="T:System.IdentityModel.Scope" />, содержащий информацию о проверяющей стороне, связанной с данным запросом.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-235">The <see cref="T:System.IdentityModel.Scope" /> that contains information about the relying party associated with the request.</span>
          </span>
          <span data-ttu-id="fe348-236">Это объект <see cref="T:System.IdentityModel.Scope" />, возвращенный методом <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-236">This is the <see cref="T:System.IdentityModel.Scope" /> object that was returned by the <see cref="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" /> method.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-237">При переопределении в производном классе этот метод возвращает коллекцию выходных субъектов, которые должны быть включены в выданный токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-237">When overridden in a derived class, this method returns a collection of output subjects to be included in the issued token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-238">
            <see cref="T:System.Security.Claims.ClaimsIdentity" />, содержащий коллекцию утверждений, которые будут помещены в выданный токен безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-238">A <see cref="T:System.Security.Claims.ClaimsIdentity" /> that contains the collection of claims that will be placed in the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-239"><xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> Метод вызывается из конвейера выдачи токена, который реализован <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-239">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method is called from the token issuance pipeline, which is implemented by the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="fe348-240">Он возвращает <xref:System.Security.Claims.ClaimsIdentity> , содержащий утверждения, чтобы включить в выданный маркер безопасности на основе на запрашивающей стороне токена ( `principal` параметр), входящий RST ( `request` параметр), и проверяющей стороной, для которого маркер является предназначен () `scope` параметр).</span><span class="sxs-lookup"><span data-stu-id="fe348-240">It returns an <xref:System.Security.Claims.ClaimsIdentity> that contains the claims to include in the issued security token based on the requestor of the token (the `principal` parameter), the incoming RST (the `request` parameter), and the relying party for which the token is intended (the `scope` parameter).</span></span> <span data-ttu-id="fe348-241">Логика в этот метод в основном посвящена ответить на следующие вопросы:</span><span class="sxs-lookup"><span data-stu-id="fe348-241">The logic in this method is primarily concerned with answering the following questions:</span></span>  
  
-   <span data-ttu-id="fe348-242">**Также утверждение, типы должны быть включены в ответ с учетом RP, для которого предназначен?**</span><span class="sxs-lookup"><span data-stu-id="fe348-242">**Which claim types should be included in the response based on the RP for which it is intended?**</span></span> <span data-ttu-id="fe348-243">Обычно это определяется на основе-RP из списков типов утверждений, необходимых для каждой RP или на основе отдельных запросов с помощью проверки <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.Claims%2A> запроса.</span><span class="sxs-lookup"><span data-stu-id="fe348-243">Typically this is decided on a per-RP basis from lists of claim types required for each RP or on a per-request basis by examining the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.Claims%2A> property of the request.</span></span> <span data-ttu-id="fe348-244">Тем не менее логика и подробные сведения об определении утверждения для включения в ответ возлагается полностью вашей реализации.</span><span class="sxs-lookup"><span data-stu-id="fe348-244">However, the logic and details for determining the claims to include in the response is completely up to your implementation.</span></span>  
  
-   <span data-ttu-id="fe348-245">**Значения утверждений, который должен быть назначен утверждения в ответе?**</span><span class="sxs-lookup"><span data-stu-id="fe348-245">**Which claim values should be assigned to the claims in the response?**</span></span> <span data-ttu-id="fe348-246">Для поставщика удостоверений (IP-STS) это обычно означает использование одно или несколько утверждений в запрашивающей <xref:System.Security.Claims.ClaimsPrincipal> (предоставляемые `principal` параметр) для доступа к соседствующих (или другая сущность) для возврата значения для обязательных типов требований.</span><span class="sxs-lookup"><span data-stu-id="fe348-246">For an Identity Provider (IP-STS) this typically means using one or more claims in the requestor’s <xref:System.Security.Claims.ClaimsPrincipal> (provided by the `principal` parameter) to access a store (or other entity) to return values for the required claim types.</span></span> <span data-ttu-id="fe348-247">Для поставщика федерации (R-STS) это обычно означает выполнение какого-либо рода обработки на запрашивающей входящих утверждений для выполнения запроса; Возможно, выполняя фильтрация или преобразование на некоторых утверждений, представленных запрашивающая сторона, во время передачи другим пользователям через без изменений.</span><span class="sxs-lookup"><span data-stu-id="fe348-247">For a Federation Provider (R-STS) this typically means performing some kind of processing on the requestor’s incoming claims to fulfill the request; perhaps performing filtering or transformation on some claims presented by the requestor, while passing others through unmodified.</span></span> <span data-ttu-id="fe348-248">Конечно же как в случае принятия решений о том, какие заявки включать в ответе, details и логику того, как определить значения для этих утверждений возлагается вашей реализации.</span><span class="sxs-lookup"><span data-stu-id="fe348-248">Of course, as in the case of deciding which claims to include in the response, the details and logic of how to determine the values of these claims is up to your implementation.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="fe348-249">В примере кода, который используется в этом разделе, взят из `Custom Token` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-249">The code example that is used in this topic is taken from the `Custom Token` sample.</span></span> <span data-ttu-id="fe348-250">Этот образец предоставляет пользовательские классы, позволяющие обработки токены Simple Web (SWT), а также реализация пассивной STS, которая может обслуживать маркер SWT.</span><span class="sxs-lookup"><span data-stu-id="fe348-250">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="fe348-251">Пример реализации активная STS, вы увидите `Federation Metadata` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-251">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="fe348-252">Сведения о эти примеры и другие примеры, доступные для WIF и о том, как их загрузить, см. в разделе [индекс образцов кода WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="fe348-252">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span> <span data-ttu-id="fe348-253">Ниже показано, как переопределить <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> метод для возврата утверждений для STS.</span><span class="sxs-lookup"><span data-stu-id="fe348-253">The following code shows how to override the <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method to return claims for your STS.</span></span> <span data-ttu-id="fe348-254">В этом примере сообщения запроса маркера безопасности (RST) учитывается, и возвращается коллекция требований, в зависимости от пользователя, проверки подлинности в STS.</span><span class="sxs-lookup"><span data-stu-id="fe348-254">In this example, the Request Security Token (RST) message is ignored and a collection of claims based on the user as authenticated at the STS is returned.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#6](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#6)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides">
          <span data-ttu-id="fe348-255">
            <para>Этот метод необходимо переопределить в текущей реализации <see cref="T:System.IdentityModel.SecurityTokenService" /> класса.</para>
          </span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-255">
              <para>You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</para>
            </span>
          </span>
        </block>
        <altmember cref="T:System.IdentityModel.Scope" />
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetProofToken">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.ProofDescriptor GetProofToken (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Scope scope);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.ProofDescriptor GetProofToken(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Scope scope) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetProofToken(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Scope)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::ProofDescriptor ^ GetProofToken(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Scope ^ scope);" />
      <MemberSignature Language="F#" Value="abstract member GetProofToken : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope -&gt; System.IdentityModel.Tokens.ProofDescriptor&#xA;override this.GetProofToken : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Scope -&gt; System.IdentityModel.Tokens.ProofDescriptor" Usage="securityTokenService.GetProofToken (request, scope)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.ProofDescriptor</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="scope" Type="System.IdentityModel.Scope" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="fe348-256">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий входящий запрос токена (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-256">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming token request (RST).</span>
          </span>
        </param>
        <param name="scope">
          <span data-ttu-id="fe348-257">Экземпляр <see cref="T:System.IdentityModel.Scope" />, инкапсулирующий сведения о проверяющей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-257">The <see cref="T:System.IdentityModel.Scope" /> instance that encapsulates information about the relying party.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-258">Получает токен проверки для включения в отклик (RSTR).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-258">Gets the proof token to be included in the response (RSTR).</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-259">Объект <see cref="T:System.IdentityModel.Tokens.ProofDescriptor" />, представляющий только что созданный дескриптор проверки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-259">A <see cref="T:System.IdentityModel.Tokens.ProofDescriptor" /> that represents the newly created proof descriptor.</span>
          </span>
          <span data-ttu-id="fe348-260">Дескриптор проверки может быть асимметричным дескриптором проверки, симметричным дескриптором проверки или иметь значение <see langword="null" /> в случае токена, не являющегося подтверждающим.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-260">The proof descriptor can be an asymmetric proof descriptor, a symmetric proof descriptor, or <see langword="null" /> in the bearer token case.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-261">Этот метод вызывается из реализации конвейера выдачи маркера в значение по умолчанию <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-261">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 <span data-ttu-id="fe348-262">Реализация по умолчанию возвращает дескриптор проверки или выдает исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-262">The default implementation returns a proof descriptor or throws an appropriate exception.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="fe348-263">Свойство <paramref name="request" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-263">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="fe348-264">- или -</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-264">-or-</span>
          </span>
          <span data-ttu-id="fe348-265">Свойство <paramref name="scope" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-265">
              <paramref name="scope" /> is <see langword="null" />.</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetRequestorProofEncryptingCredentials">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.EncryptingCredentials GetRequestorProofEncryptingCredentials (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.EncryptingCredentials GetRequestorProofEncryptingCredentials(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetRequestorProofEncryptingCredentials(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetRequestorProofEncryptingCredentials (request As RequestSecurityToken) As EncryptingCredentials" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::EncryptingCredentials ^ GetRequestorProofEncryptingCredentials(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetRequestorProofEncryptingCredentials : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Tokens.EncryptingCredentials&#xA;override this.GetRequestorProofEncryptingCredentials : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Tokens.EncryptingCredentials" Usage="securityTokenService.GetRequestorProofEncryptingCredentials request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.EncryptingCredentials</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="fe348-266">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий входящий запрос токена (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-266">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming token request (RST).</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-267">Получает учетные данные шифрования проверки запрашивающей стороны.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-267">Gets the requestor's proof encrypting credentials.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-268">Объект <see cref="T:System.IdentityModel.Tokens.EncryptingCredentials" />, представляющий учетные данные запрашивающего объекта при шифровании.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-268">An <see cref="T:System.IdentityModel.Tokens.EncryptingCredentials" /> object that represents the requestor’s encrypting credentials.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-269">Этот метод вызывается из <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-269">This method is called from the <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> method.</span></span>  
  
 <span data-ttu-id="fe348-270">Реализация по умолчанию выполняет следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="fe348-270">The default implementation does the following.</span></span> <span data-ttu-id="fe348-271">Возвращает `null` имеется ли токен не шифрования, указанный в запросе ( <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.ProofEncryption%2A?displayProperty=nameWithType> свойство `null`).</span><span class="sxs-lookup"><span data-stu-id="fe348-271">Returns `null` if there is no encryption token specified in the request (the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken.ProofEncryption%2A?displayProperty=nameWithType> property is `null`).</span></span> <span data-ttu-id="fe348-272">В противном случае, если оно может получить маркер в качестве <xref:System.IdentityModel.Tokens.X509SecurityToken>, он возвращает учетные данные, на основе этого токена.</span><span class="sxs-lookup"><span data-stu-id="fe348-272">Otherwise, if it can get the token as an <xref:System.IdentityModel.Tokens.X509SecurityToken>, it returns credentials based on that token.</span></span> <span data-ttu-id="fe348-273">При невозможности разрешить маркер в качестве <xref:System.IdentityModel.Tokens.X509SecurityToken>, <xref:System.IdentityModel.RequestFailedException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-273">If it cannot resolve the token as an <xref:System.IdentityModel.Tokens.X509SecurityToken>, a <xref:System.IdentityModel.RequestFailedException> is thrown.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="fe348-274">Свойство <paramref name="request" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-274">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="GetResponse">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse GetResponse (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, System.IdentityModel.Tokens.SecurityTokenDescriptor tokenDescriptor);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse GetResponse(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request, class System.IdentityModel.Tokens.SecurityTokenDescriptor tokenDescriptor) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetResponse(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken,System.IdentityModel.Tokens.SecurityTokenDescriptor)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetResponse (request As RequestSecurityToken, tokenDescriptor As SecurityTokenDescriptor) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ GetResponse(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request, System::IdentityModel::Tokens::SecurityTokenDescriptor ^ tokenDescriptor);" />
      <MemberSignature Language="F#" Value="abstract member GetResponse : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Tokens.SecurityTokenDescriptor -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.GetResponse : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken * System.IdentityModel.Tokens.SecurityTokenDescriptor -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.GetResponse (request, tokenDescriptor)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
        <Parameter Name="tokenDescriptor" Type="System.IdentityModel.Tokens.SecurityTokenDescriptor" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="fe348-275">RST, в котором содержится запроса токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-275">The RST that contains the token request.</span>
          </span>
        </param>
        <param name="tokenDescriptor">
          <span data-ttu-id="fe348-276">Дескриптор токена, который содержит сведения для использования для выданного токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-276">The token descriptor that contains the information to use for the issued token.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-277">Создает ответ (RSTR), содержащий токен выданный за счет заданного запроса (RST) и токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-277">Creates the response (RSTR) that contains the issued token by using the specified request (RST) and security token descriptor.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-278">Ответ (RSTR) или значение <see langword="null" />, если ответ не может быть создан из указанного дескриптора запроса и токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-278">The response (RSTR) or <see langword="null" /> if a response cannot be created from the specified request and token descriptor.</span>
          </span>
          <span data-ttu-id="fe348-279">В реализации по умолчанию возвращается значение <see langword="null" />, если параметр <paramref name="tokenDescriptor" /> — <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-279">The default implementation returns <see langword="null" /> if the <paramref name="tokenDescriptor" /> parameter is <see langword="null" />.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-280"><xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> Метод вызывается на последнем этапе из конвейера выдачи токена, который реализован <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-280">The <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> method is called as the last step from the token issuance pipeline, which is implemented by the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span> <span data-ttu-id="fe348-281">Он создает и возвращает ответ (RSTR), используя исходный входящий запрос (RST) и дескриптор токена, который был построен во время предыдущего действия в конвейере выдачи маркера.</span><span class="sxs-lookup"><span data-stu-id="fe348-281">It creates and returns the response (RSTR) by using the original incoming request (RST) and the token descriptor that was built up during previous steps in the token issuance pipeline.</span></span>  
  
 <span data-ttu-id="fe348-282">Реализация по умолчанию создает RSTR, передав RST, указанный в параметре запроса к <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse.%23ctor%28System.IdentityModel.Protocols.WSTrust.WSTrustMessage%29?displayProperty=nameWithType> конструктор, вызов <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.ApplyTo%2A?displayProperty=nameWithType> переданный метод для дескриптора токена <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> для применения свойства, чтобы вновь создан RSTR, установка <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.AppliesTo%2A> свойства в RSTR с помощью <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A> свойства дескриптора токена и наконец <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> свойства в RSTR в соответствии со следующей таблицей:</span><span class="sxs-lookup"><span data-stu-id="fe348-282">The default implementation creates the RSTR by passing the RST specified in the request parameter to the <xref:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse.%23ctor%28System.IdentityModel.Protocols.WSTrust.WSTrustMessage%29?displayProperty=nameWithType> constructor, invoking the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.ApplyTo%2A?displayProperty=nameWithType> method on the token descriptor passed into <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> to apply its properties to the newly created RSTR, setting the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.AppliesTo%2A> property on the RSTR by using the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A> property on the token descriptor, and finally setting the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> property on the RSTR according to the following table:</span></span>  
  
|<span data-ttu-id="fe348-283">Свойство `RST.ReplyTo`</span><span class="sxs-lookup"><span data-stu-id="fe348-283">`RST.ReplyTo` property</span></span>|<span data-ttu-id="fe348-284">Свойство <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fe348-284"><xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType> property.</span></span>|<span data-ttu-id="fe348-285">Свойство `RSTR.ReplyTo`</span><span class="sxs-lookup"><span data-stu-id="fe348-285">`RSTR.ReplyTo` property</span></span>|  
|----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------|  
|<span data-ttu-id="fe348-286">Задать</span><span class="sxs-lookup"><span data-stu-id="fe348-286">Set</span></span>|<span data-ttu-id="fe348-287">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-287">Not Set</span></span>|<span data-ttu-id="fe348-288">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-288">Not Set</span></span>|  
|<span data-ttu-id="fe348-289">Задать</span><span class="sxs-lookup"><span data-stu-id="fe348-289">Set</span></span>|<span data-ttu-id="fe348-290">Задать</span><span class="sxs-lookup"><span data-stu-id="fe348-290">Set</span></span>|<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.AppliesToAddress%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="fe348-291">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-291">Not Set</span></span>|<span data-ttu-id="fe348-292">Задать</span><span class="sxs-lookup"><span data-stu-id="fe348-292">Set</span></span>|<span data-ttu-id="fe348-293">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-293">Not Set</span></span>|  
|<span data-ttu-id="fe348-294">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-294">Not Set</span></span>|<span data-ttu-id="fe348-295">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-295">Not Set</span></span>|<span data-ttu-id="fe348-296">Не задано</span><span class="sxs-lookup"><span data-stu-id="fe348-296">Not Set</span></span>|  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetScope">
      <MemberSignature Language="C#" Value="protected abstract System.IdentityModel.Scope GetScope (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Scope GetScope(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetScope(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected MustOverride Function GetScope (principal As ClaimsPrincipal, request As RequestSecurityToken) As Scope" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract System::IdentityModel::Scope ^ GetScope(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member GetScope : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Scope" Usage="securityTokenService.GetScope (principal, request)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-297">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий клиента, производящего запрос.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-297">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the client making the request.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-298">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий входящий запрос (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-298">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the incoming request (RST).</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-299">Получает объект <see cref="T:System.IdentityModel.Scope" />, содержащий информацию о проверяющей стороне (RP), связанной с указанным запросом (RST).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-299">Gets a <see cref="T:System.IdentityModel.Scope" /> object that contains information about the relying party (RP) associated with the specified request (RST).</span>
          </span>
          <span data-ttu-id="fe348-300">Этот метод необходимо переопределить при реализации класса <see cref="T:System.IdentityModel.SecurityTokenService" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-300">You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-301">Объект <see cref="T:System.IdentityModel.Scope" />, предоставляющий оболочку сведения о PR, связанные с запросом.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-301">A <see cref="T:System.IdentityModel.Scope" /> that encapsulates the RP information associated with the request.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-302"><xref:System.IdentityModel.SecurityTokenService.GetScope%2A> Из конвейера после выдачи маркера вызывается метод <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> метод и должен возвращать <xref:System.IdentityModel.Scope> объект, настроенный для входящего запроса.</span><span class="sxs-lookup"><span data-stu-id="fe348-302">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method is called from the token issuance pipeline after the <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method and should return a <xref:System.IdentityModel.Scope> object configured for the incoming request.</span></span> <span data-ttu-id="fe348-303">(Реализовано в конвейере выдачи маркера <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.) <xref:System.IdentityModel.Scope> Инкапсулирует информацию о RP, связанный с запросом маркера безопасности (RST).</span><span class="sxs-lookup"><span data-stu-id="fe348-303">(The token issuance pipeline is implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.) The <xref:System.IdentityModel.Scope> object encapsulates information about the RP associated with the security token request (RST).</span></span> <span data-ttu-id="fe348-304">Сюда входят сведения об учетных данных шифрования и подписи для использования с RP и ли для шифрования всех выданных токенов и симметричные ключи в ответе.</span><span class="sxs-lookup"><span data-stu-id="fe348-304">This includes information about the encrypting and signing credentials to be used with the RP and whether or not to encrypt any issued tokens and/or symmetric keys in the response.</span></span> <span data-ttu-id="fe348-305">Некоторые типичные задачи, выполняемые в <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> метод:</span><span class="sxs-lookup"><span data-stu-id="fe348-305">Some typical tasks performed in the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method are:</span></span>  
  
-   <span data-ttu-id="fe348-306">Определите, является ли RP, для которого предназначен маркер распознанных RP.</span><span class="sxs-lookup"><span data-stu-id="fe348-306">Determine whether the RP for which the token is intended is a recognized RP.</span></span> <span data-ttu-id="fe348-307">Метод выполнения этой задачи зависит от реализации.</span><span class="sxs-lookup"><span data-stu-id="fe348-307">How this is accomplished depends on your implementation.</span></span> <span data-ttu-id="fe348-308">Если предполагаемого RP не является допустимым RP для службы токенов безопасности, то метод должен создавать <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-308">If the intended RP is not a valid RP for this STS, then the method should throw an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
-   <span data-ttu-id="fe348-309">Определить, подписывание учетные данные в ответ (RSTR) и задают <xref:System.IdentityModel.Scope.SigningCredentials%2A> свойство соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="fe348-309">Determine the signing credentials to be used in the response (RSTR) and set the <xref:System.IdentityModel.Scope.SigningCredentials%2A> property accordingly.</span></span>  
  
-   <span data-ttu-id="fe348-310">Определите ли должны шифроваться ответа и/или любые включенные симметричные ключи и учетные данные, используемые для шифрования.</span><span class="sxs-lookup"><span data-stu-id="fe348-310">Determine whether the response and/or any included symmetrical keys should be encrypted and the credentials to be used for encryption.</span></span> <span data-ttu-id="fe348-311">Задайте <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A>, <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A>, и <xref:System.IdentityModel.Scope.EncryptingCredentials%2A> свойства соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="fe348-311">Set the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A>, <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A>, and <xref:System.IdentityModel.Scope.EncryptingCredentials%2A> properties accordingly.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="fe348-312">По умолчанию <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A> и <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A> свойств `true` для предотвращения STS выдает маркеры, которые не являются безопасными.</span><span class="sxs-lookup"><span data-stu-id="fe348-312">By default, the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A> and <xref:System.IdentityModel.Scope.SymmetricKeyEncryptionRequired%2A> properties are set `true` to prevent the STS from issuing tokens that are not secure.</span></span> <span data-ttu-id="fe348-313">Рекомендуется никогда не устанавливать эти свойства `false` в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="fe348-313">It is recommended that these properties never be set to `false` in a production environment.</span></span>  
  
-   <span data-ttu-id="fe348-314">Определите адрес, к которому должен возвращаться ответ.</span><span class="sxs-lookup"><span data-stu-id="fe348-314">Determine the address to which the response should be returned.</span></span> <span data-ttu-id="fe348-315">Задана <xref:System.IdentityModel.Scope.AppliesToAddress%2A> или <xref:System.IdentityModel.Scope.ReplyToAddress%2A> свойство соответствующим образом.</span><span class="sxs-lookup"><span data-stu-id="fe348-315">Set either the <xref:System.IdentityModel.Scope.AppliesToAddress%2A> or <xref:System.IdentityModel.Scope.ReplyToAddress%2A> property accordingly.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="fe348-316">В примере кода, который используется в этом разделе, взят из `Custom Token` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-316">The code example that is used in this topic is taken from the `Custom Token` sample.</span></span> <span data-ttu-id="fe348-317">Этот образец предоставляет пользовательские классы, позволяющие обработки токены Simple Web (SWT), а также реализация пассивной STS, которая может обслуживать маркер SWT.</span><span class="sxs-lookup"><span data-stu-id="fe348-317">This sample provides custom classes that enable processing of Simple Web Tokens (SWT) and it includes an implementation of a passive STS that is capable of serving an SWT token.</span></span> <span data-ttu-id="fe348-318">Пример реализации активная STS, вы увидите `Federation Metadata` образца.</span><span class="sxs-lookup"><span data-stu-id="fe348-318">For an example of how to implement an active STS, you can see the `Federation Metadata` sample.</span></span> <span data-ttu-id="fe348-319">Сведения о эти примеры и другие примеры, доступные для WIF и о том, как их загрузить, см. в разделе [индекс образцов кода WIF](~/docs/framework/security/wif-code-sample-index.md).</span><span class="sxs-lookup"><span data-stu-id="fe348-319">For information about these samples and other samples available for WIF and about where to download them, see [WIF Code Sample Index](~/docs/framework/security/wif-code-sample-index.md).</span></span>  
  
 <span data-ttu-id="fe348-320">В следующем примере кода показана реализация метода <xref:System.IdentityModel.SecurityTokenService.GetScope%2A>.</span><span class="sxs-lookup"><span data-stu-id="fe348-320">The following code example shows an implementation of the <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method.</span></span> <span data-ttu-id="fe348-321">Эта реализация проверяет, что RP распознается службой маркеров безопасности, проверяет <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> адрес в запрос и задает <xref:System.IdentityModel.Scope.ReplyToAddress%2A?displayProperty=nameWithType> свойства соответствующим образом, и устанавливает подписывания и шифрования учетных данных для использования с RP на основе сертификатов, которые жестко заданы в файле.</span><span class="sxs-lookup"><span data-stu-id="fe348-321">This implementation verifies that the RP is recognized by the STS, validates the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.ReplyTo%2A> address in the request and sets the <xref:System.IdentityModel.Scope.ReplyToAddress%2A?displayProperty=nameWithType> property accordingly, and sets the signing and encrypting credentials to use with the RP based on certificates that are hard-coded in the file.</span></span>  
  
 [!code-csharp[WIFCustomTokenSTS#4](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#4)]  
[!code-csharp[WIFCustomTokenSTS#5](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#5)]  
[!code-csharp[WIFCustomTokenSTS#7](~/samples/snippets/csharp/VS_Snippets_Misc/wifcustomtokensts/cs/passivests/customsecuritytokenservice.cs#7)]  
  
 ]]></format>
        </remarks>
        <block subset="none" type="overrides">
          <span data-ttu-id="fe348-322">
            <para>Этот метод необходимо переопределить в текущей реализации <see cref="T:System.IdentityModel.SecurityTokenService" /> класса.</para>
          </span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-322">
              <para>You must override this method in your implementation of the <see cref="T:System.IdentityModel.SecurityTokenService" /> class.</para>
            </span>
          </span>
        </block>
        <altmember cref="T:System.IdentityModel.Scope" />
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetSecurityTokenHandler">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Tokens.SecurityTokenHandler GetSecurityTokenHandler (string requestedTokenType);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Tokens.SecurityTokenHandler GetSecurityTokenHandler(string requestedTokenType) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler(System.String)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetSecurityTokenHandler (requestedTokenType As String) As SecurityTokenHandler" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Tokens::SecurityTokenHandler ^ GetSecurityTokenHandler(System::String ^ requestedTokenType);" />
      <MemberSignature Language="F#" Value="abstract member GetSecurityTokenHandler : string -&gt; System.IdentityModel.Tokens.SecurityTokenHandler&#xA;override this.GetSecurityTokenHandler : string -&gt; System.IdentityModel.Tokens.SecurityTokenHandler" Usage="securityTokenService.GetSecurityTokenHandler requestedTokenType" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenHandler</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="requestedTokenType" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="requestedTokenType">
          <span data-ttu-id="fe348-323">Строка, содержащая универсальный код ресурса (URI) типа запрашиваемого токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-323">A string that contains the requested token type URI.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-324">Получает соответствующий обработчик токенов безопасности для создания токена безопасности указанного типа.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-324">Gets the appropriate security token handler for issuing a security token of the specified type.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-325">
            <see cref="T:System.IdentityModel.Tokens.SecurityTokenHandler" />, представляющее обработчик токена, используемый для создания выданного токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-325">A <see cref="T:System.IdentityModel.Tokens.SecurityTokenHandler" /> that represents the token handler to be used for creating the issued security token.</span>
          </span>
          <span data-ttu-id="fe348-326">Возвращает значение <see langword="null" />, если не поддерживается запрашиваемый тип токена (никаких обработчиков не настроено для определенного типа токена).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-326">Returns <see langword="null" /> if the requested token type is not supported (there is no handler configured for the specified token type).</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-327">В реализации по умолчанию если `requestedTokenType` является `null` или является пустой строкой, значение по умолчанию используется тип токена из конфигурации.</span><span class="sxs-lookup"><span data-stu-id="fe348-327">In the default implementation if `requestedTokenType` is `null` or an empty string, the default token type from configuration is used.</span></span> <span data-ttu-id="fe348-328">Этот режим задается <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenType%2A> свойства объекта конфигурации службы маркеров безопасности, через <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="fe348-328">This is specified by the <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenType%2A> property of the STS configuration object accessed through the <xref:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration%2A> property.</span></span>  
  
 <span data-ttu-id="fe348-329">Этот метод вызывается из реализации конвейера выдачи маркера в значение по умолчанию <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-329">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="GetTokenLifetime">
      <MemberSignature Language="C#" Value="protected virtual System.IdentityModel.Protocols.WSTrust.Lifetime GetTokenLifetime (System.IdentityModel.Protocols.WSTrust.Lifetime requestLifetime);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.Lifetime GetTokenLifetime(class System.IdentityModel.Protocols.WSTrust.Lifetime requestLifetime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.GetTokenLifetime(System.IdentityModel.Protocols.WSTrust.Lifetime)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function GetTokenLifetime (requestLifetime As Lifetime) As Lifetime" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::IdentityModel::Protocols::WSTrust::Lifetime ^ GetTokenLifetime(System::IdentityModel::Protocols::WSTrust::Lifetime ^ requestLifetime);" />
      <MemberSignature Language="F#" Value="abstract member GetTokenLifetime : System.IdentityModel.Protocols.WSTrust.Lifetime -&gt; System.IdentityModel.Protocols.WSTrust.Lifetime&#xA;override this.GetTokenLifetime : System.IdentityModel.Protocols.WSTrust.Lifetime -&gt; System.IdentityModel.Protocols.WSTrust.Lifetime" Usage="securityTokenService.GetTokenLifetime requestLifetime" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.Lifetime</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="requestLifetime" Type="System.IdentityModel.Protocols.WSTrust.Lifetime" />
      </Parameters>
      <Docs>
        <param name="requestLifetime">
          <span data-ttu-id="fe348-330">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" />, представляющий запрошенное время жизни.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-330">A <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> that represents the requested lifetime.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-331">Получает время жизни выданного токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-331">Gets the lifetime for the issued token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-332">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" />, представляющий выданное время жизни.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-332">A <see cref="T:System.IdentityModel.Protocols.WSTrust.Lifetime" /> that represents the granted lifetime.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-333">Этот метод обычно вызывается со временем существования поступления в RST.</span><span class="sxs-lookup"><span data-stu-id="fe348-333">This method is normally called with the lifetime that arrived in the RST.</span></span> <span data-ttu-id="fe348-334">В реализации по умолчанию время существования маркера вычисляется согласно следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="fe348-334">In the default implementation, the token lifetime is calculated according to the following table.</span></span>  
  
|<span data-ttu-id="fe348-335">(В)</span><span class="sxs-lookup"><span data-stu-id="fe348-335">Created (in)</span></span>|<span data-ttu-id="fe348-336">Срок действия истекает (через)</span><span class="sxs-lookup"><span data-stu-id="fe348-336">Expires (in)</span></span>|<span data-ttu-id="fe348-337">(В)</span><span class="sxs-lookup"><span data-stu-id="fe348-337">Created (in)</span></span>|<span data-ttu-id="fe348-338">Срок действия истекает (out)</span><span class="sxs-lookup"><span data-stu-id="fe348-338">Expires (out)</span></span>|  
|--------------------|--------------------|--------------------|---------------------|  
|`null`|`null`|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType>|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType> + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType>|  
|<span data-ttu-id="fe348-339">В</span><span class="sxs-lookup"><span data-stu-id="fe348-339">C</span></span>|`null`|<span data-ttu-id="fe348-340">В</span><span class="sxs-lookup"><span data-stu-id="fe348-340">C</span></span>|<span data-ttu-id="fe348-341">C + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="fe348-341">C + <xref:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration.DefaultTokenLifetime%2A?displayProperty=nameWithType></span></span>|  
|`null`|<span data-ttu-id="fe348-342">E</span><span class="sxs-lookup"><span data-stu-id="fe348-342">E</span></span>|<xref:System.DateTime.UtcNow%2A?displayProperty=nameWithType>|<span data-ttu-id="fe348-343">E</span><span class="sxs-lookup"><span data-stu-id="fe348-343">E</span></span>|  
|<span data-ttu-id="fe348-344">В</span><span class="sxs-lookup"><span data-stu-id="fe348-344">C</span></span>|<span data-ttu-id="fe348-345">E</span><span class="sxs-lookup"><span data-stu-id="fe348-345">E</span></span>|<span data-ttu-id="fe348-346">В</span><span class="sxs-lookup"><span data-stu-id="fe348-346">C</span></span>|<span data-ttu-id="fe348-347">E</span><span class="sxs-lookup"><span data-stu-id="fe348-347">E</span></span>|  
  
 <span data-ttu-id="fe348-348">Этот метод вызывается из реализации конвейера выдачи маркера в значение по умолчанию <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="fe348-348">This method is called from the default token issuance pipeline implemented in the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
    <Member MemberName="Issue">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Issue (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Issue(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Issue (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Issue(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member Issue : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.Issue : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.Issue (principal, request)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-349">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-349">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-350">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-350">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-351">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-351">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-352">Выдает токен безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-352">Issues a security token.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-353">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, содержащий выданный токен безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-353">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that contains the issued security token.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-354">Этот метод реализует проблема привязку, определенную в спецификации WS-Trust.</span><span class="sxs-lookup"><span data-stu-id="fe348-354">This method implements the Issue binding defined in the WS-Trust specification.</span></span> <span data-ttu-id="fe348-355">Реализация по умолчанию <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод обрабатывает входящий запрос (RST) через конвейер выдачи маркера (выдачи утверждений) и возвращает любой ответ (RSTR), содержащий маркер безопасности с соответствующими утверждениями для проверки подлинности запрашивающей стороне с RP или соответствующее исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-355">The default implementation of the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method processes the incoming request (RST) through a token issuance (claims issuance) pipeline and returns either a response (RSTR) that contains a security token with the appropriate claims to authenticate the requestor with the RP or an appropriate exception.</span></span> <span data-ttu-id="fe348-356">Конвейер выдачи маркера в реализации по умолчанию состоит из следующих методов (из <xref:System.IdentityModel.SecurityTokenService> класса).</span><span class="sxs-lookup"><span data-stu-id="fe348-356">The token issuance pipeline in the default implementation consists of calls to the following methods (of the <xref:System.IdentityModel.SecurityTokenService> class).</span></span>  
  
1.  <span data-ttu-id="fe348-357"><xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> Метод, чтобы проверить запрос (RST).</span><span class="sxs-lookup"><span data-stu-id="fe348-357">The <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method to validate the request (RST).</span></span>  
  
2.  <span data-ttu-id="fe348-358"><xref:System.IdentityModel.SecurityTokenService.GetScope%2A> Метод для получения <xref:System.IdentityModel.Scope> объект, содержащий сведения о проверяющей стороне (RP), связанный с запросом.</span><span class="sxs-lookup"><span data-stu-id="fe348-358">The <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> method to get a <xref:System.IdentityModel.Scope> object that contains information about the relying party (RP) associated with the request.</span></span> <span data-ttu-id="fe348-359">Этот метод необходимо переопределить.</span><span class="sxs-lookup"><span data-stu-id="fe348-359">You must override this method.</span></span> <span data-ttu-id="fe348-360">Если <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> возвращает `null`, <xref:System.InvalidOperationException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-360">If <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> returns `null`, a <xref:System.InvalidOperationException> is thrown.</span></span>  
  
3.  <span data-ttu-id="fe348-361"><xref:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor%2A> Для возврата дескриптора токена безопасности на основании RST и <xref:System.IdentityModel.Scope> возвращен объект на предыдущем шаге.</span><span class="sxs-lookup"><span data-stu-id="fe348-361">The <xref:System.IdentityModel.SecurityTokenService.CreateSecurityTokenDescriptor%2A> method to return a security token descriptor based on the RST and the <xref:System.IdentityModel.Scope> object returned in the previous step.</span></span> <span data-ttu-id="fe348-362">Дескриптор токена безопасности (<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor>) содержит сведения о запросе в форме, которая может использоваться обработчика токенов.</span><span class="sxs-lookup"><span data-stu-id="fe348-362">The security token descriptor (<xref:System.IdentityModel.Tokens.SecurityTokenDescriptor>) contains information about the request in a form that can be used by a token handler.</span></span> <span data-ttu-id="fe348-363"><xref:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor%2A?displayProperty=nameWithType> Свойству дескриптор, возвращенный вызовом метода.</span><span class="sxs-lookup"><span data-stu-id="fe348-363">The <xref:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor%2A?displayProperty=nameWithType> property is set to the descriptor returned by the call.</span></span> <span data-ttu-id="fe348-364">Если `null` возвращается или, если <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.SigningCredentials%2A> свойство дескриптора `null`, <xref:System.InvalidOperationException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-364">If `null` is returned or if the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.SigningCredentials%2A> property of the descriptor is `null`, an <xref:System.InvalidOperationException> is thrown.</span></span> <span data-ttu-id="fe348-365">Исключение возникает также в том случае, если <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A?displayProperty=nameWithType> свойство `true` , но <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.EncryptingCredentials%2A> свойство на дескриптор, возвращенный `null`.</span><span class="sxs-lookup"><span data-stu-id="fe348-365">The exception is also thrown if the <xref:System.IdentityModel.Scope.TokenEncryptionRequired%2A?displayProperty=nameWithType> property is `true` but the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.EncryptingCredentials%2A> property on the returned descriptor is `null`.</span></span>  
  
4.  <span data-ttu-id="fe348-366"><xref:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler%2A> Метод для получения לאנךונמג зависимости от типа запроса маркера.</span><span class="sxs-lookup"><span data-stu-id="fe348-366">The <xref:System.IdentityModel.SecurityTokenService.GetSecurityTokenHandler%2A> method to get the appropriate token handler based on the kind of token requested.</span></span> <span data-ttu-id="fe348-367">Если `null` возвращается, <xref:System.NotImplementedException> возникает исключение.</span><span class="sxs-lookup"><span data-stu-id="fe348-367">If `null` is returned, a <xref:System.NotImplementedException> is thrown.</span></span>  
  
5.  <span data-ttu-id="fe348-368"><xref:System.IdentityModel.SecurityTokenService.GetIssuerName%2A> Метод для получения имени издателя маркера.</span><span class="sxs-lookup"><span data-stu-id="fe348-368">The <xref:System.IdentityModel.SecurityTokenService.GetIssuerName%2A> method to get the issuer name for the token.</span></span> <span data-ttu-id="fe348-369">Создает <xref:System.InvalidOperationException> Если имя `null` или пуста; в противном случае задает <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.TokenIssuerName%2A> свойства дескриптора.</span><span class="sxs-lookup"><span data-stu-id="fe348-369">Throws an <xref:System.InvalidOperationException> if the name is `null` or empty; otherwise sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.TokenIssuerName%2A> property on the descriptor.</span></span>  
  
6.  <span data-ttu-id="fe348-370"><xref:System.IdentityModel.SecurityTokenService.GetTokenLifetime%2A> Метод, чтобы получить время существования маркера и наборов <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Lifetime%2A> свойства дескриптора.</span><span class="sxs-lookup"><span data-stu-id="fe348-370">The <xref:System.IdentityModel.SecurityTokenService.GetTokenLifetime%2A> method to get the lifetime for the token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Lifetime%2A> property on the descriptor.</span></span>  
  
7.  <span data-ttu-id="fe348-371"><xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> Метод, чтобы получить маркер проверки для включения в выданный маркер и задает <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Proof%2A> свойства дескриптора.</span><span class="sxs-lookup"><span data-stu-id="fe348-371">The <xref:System.IdentityModel.SecurityTokenService.GetProofToken%2A> method to get the proof token to include in the issued token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Proof%2A> property on the descriptor.</span></span>  
  
8.  <span data-ttu-id="fe348-372"><xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> Метод получать утверждения для включения в выданный маркер и задает <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Subject%2A> свойства дескриптора.</span><span class="sxs-lookup"><span data-stu-id="fe348-372">The <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> method to get the claims to include in the issued token and sets the <xref:System.IdentityModel.Tokens.SecurityTokenDescriptor.Subject%2A> property on the descriptor.</span></span> <span data-ttu-id="fe348-373">Этот метод необходимо переопределить.</span><span class="sxs-lookup"><span data-stu-id="fe348-373">You must override this method.</span></span>  
  
9. <span data-ttu-id="fe348-374"><xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> Метод, чтобы создать ответ (RSTR), содержащий выданный маркер.</span><span class="sxs-lookup"><span data-stu-id="fe348-374">The <xref:System.IdentityModel.SecurityTokenService.GetResponse%2A> method to create a response (RSTR) that contains the issued token.</span></span>  
  
 <span data-ttu-id="fe348-375">Можно переопределить <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод для реализации конвейера выдачи пользовательских маркеров; тем не менее это обычно не является обязательным в средах разработки и тестирования, для которого наиболее пользовательские реализации <xref:System.IdentityModel.SecurityTokenService> предназначены класса.</span><span class="sxs-lookup"><span data-stu-id="fe348-375">You can override the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method to implement a custom token issuance pipeline; however this is typically not necessary in the development and test environments for which most custom implementations of the <xref:System.IdentityModel.SecurityTokenService> class are intended.</span></span> <span data-ttu-id="fe348-376">Во многих случаях переопределить <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> и <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> методов и при необходимости переопределить <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> метод, чтобы предоставить обслуживанию службы маркеров безопасности для вашей среды.</span><span class="sxs-lookup"><span data-stu-id="fe348-376">In many of these cases you override the <xref:System.IdentityModel.SecurityTokenService.GetOutputClaimsIdentity%2A> and <xref:System.IdentityModel.SecurityTokenService.GetScope%2A> methods and optionally override the <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method  to provide a serviceable STS for your environment.</span></span> <span data-ttu-id="fe348-377">Если дальнейшей необходимости настройки часто его можно было предоставить путем переопределения методов, реализующих каждого этапа конвейера выдачи токена, перечисленные выше значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="fe348-377">If further customization is necessary you can often provide it by overriding the methods that implement each stage of the default token issuance pipeline listed above.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Principal">
      <MemberSignature Language="C#" Value="public System.Security.Claims.ClaimsPrincipal Principal { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.Security.Claims.ClaimsPrincipal Principal" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Principal" />
      <MemberSignature Language="VB.NET" Value="Public Property Principal As ClaimsPrincipal" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Security::Claims::ClaimsPrincipal ^ Principal { System::Security::Claims::ClaimsPrincipal ^ get(); void set(System::Security::Claims::ClaimsPrincipal ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Principal : System.Security.Claims.ClaimsPrincipal with get, set" Usage="System.IdentityModel.SecurityTokenService.Principal" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Security.Claims.ClaimsPrincipal</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="fe348-378">Получает или задает субъект, связанный с текущим экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-378">Gets or sets the principal associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="fe348-379">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий текущий субъект.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-379">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the current principal.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Renew">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Renew (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Renew(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Renew(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Renew (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Renew(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member Renew : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.Renew : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.Renew (principal, request)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-380">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-380">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-381">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-381">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-382">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-382">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-383">При переопределении в производном классе обрабатывает запрос WS-Trust Renew.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-383">When overridden in a derived class, processes a WS-Trust Renew request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-384">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-384">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-385">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-385">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="Request">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Protocols.WSTrust.RequestSecurityToken Request { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken Request" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Request" />
      <MemberSignature Language="VB.NET" Value="Public Property Request As RequestSecurityToken" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ Request { System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ get(); void set(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Request : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken with get, set" Usage="System.IdentityModel.SecurityTokenService.Request" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityToken</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="fe348-386">Получает или задает запрос на токен безопасности (RST), связанный с текущим экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-386">Gets or sets the security token request (RST) associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="fe348-387">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, содержащий запрос.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-387">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that contains the request.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Scope">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Scope Scope { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Scope Scope" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.Scope" />
      <MemberSignature Language="VB.NET" Value="Public Property Scope As Scope" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Scope ^ Scope { System::IdentityModel::Scope ^ get(); void set(System::IdentityModel::Scope ^ value); };" />
      <MemberSignature Language="F#" Value="member this.Scope : System.IdentityModel.Scope with get, set" Usage="System.IdentityModel.SecurityTokenService.Scope" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Scope</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="fe348-388">Получает или задает область, связанную с текущим экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-388">Gets or sets the scope associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="fe348-389">
            <see cref="T:System.IdentityModel.Scope" />, которое представляет конфигурацию для запроса выпуска токена.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-389">A <see cref="T:System.IdentityModel.Scope" /> that represents the configuration for the token issuance request.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenDescriptor">
      <MemberSignature Language="C#" Value="protected System.IdentityModel.Tokens.SecurityTokenDescriptor SecurityTokenDescriptor { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Tokens.SecurityTokenDescriptor SecurityTokenDescriptor" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />
      <MemberSignature Language="VB.NET" Value="Protected Property SecurityTokenDescriptor As SecurityTokenDescriptor" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; property System::IdentityModel::Tokens::SecurityTokenDescriptor ^ SecurityTokenDescriptor { System::IdentityModel::Tokens::SecurityTokenDescriptor ^ get(); void set(System::IdentityModel::Tokens::SecurityTokenDescriptor ^ value); };" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenDescriptor : System.IdentityModel.Tokens.SecurityTokenDescriptor with get, set" Usage="System.IdentityModel.SecurityTokenService.SecurityTokenDescriptor" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Tokens.SecurityTokenDescriptor</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="fe348-390">Получает или задает <see cref="T:System.IdentityModel.Tokens.SecurityTokenDescriptor" />, связанный с текущим экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-390">Gets or sets the <see cref="T:System.IdentityModel.Tokens.SecurityTokenDescriptor" /> associated with the current instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="fe348-391">Дескриптор токена безопасности, связанный с текущим экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-391">The security token descriptor that is associated with the current instance.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
        <exception cref="T:System.ArgumentNullException">
          <span data-ttu-id="fe348-392">Предпринята попытка задать для свойства значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-392">An attempt to set the property to <see langword="null" /> occurs.</span>
          </span>
        </exception>
      </Docs>
    </Member>
    <Member MemberName="SecurityTokenServiceConfiguration">
      <MemberSignature Language="C#" Value="public System.IdentityModel.Configuration.SecurityTokenServiceConfiguration SecurityTokenServiceConfiguration { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance class System.IdentityModel.Configuration.SecurityTokenServiceConfiguration SecurityTokenServiceConfiguration" />
      <MemberSignature Language="DocId" Value="P:System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property SecurityTokenServiceConfiguration As SecurityTokenServiceConfiguration" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ SecurityTokenServiceConfiguration { System::IdentityModel::Configuration::SecurityTokenServiceConfiguration ^ get(); };" />
      <MemberSignature Language="F#" Value="member this.SecurityTokenServiceConfiguration : System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" Usage="System.IdentityModel.SecurityTokenService.SecurityTokenServiceConfiguration" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Configuration.SecurityTokenServiceConfiguration</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="fe348-393">Получает экземпляр конфигурации владельца.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-393">Gets the owner configuration instance.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="fe348-394">Объект <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" />, содержащий конфигурацию для текущего экземпляра.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-394">A <see cref="T:System.IdentityModel.Configuration.SecurityTokenServiceConfiguration" /> that contains the configuration for the current instance.</span>
          </span>
        </value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="Validate">
      <MemberSignature Language="C#" Value="public virtual System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Validate (System.Security.Claims.ClaimsPrincipal principal, System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse Validate(class System.Security.Claims.ClaimsPrincipal principal, class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.Validate(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Function Validate (principal As ClaimsPrincipal, request As RequestSecurityToken) As RequestSecurityTokenResponse" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::IdentityModel::Protocols::WSTrust::RequestSecurityTokenResponse ^ Validate(System::Security::Claims::ClaimsPrincipal ^ principal, System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member Validate : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse&#xA;override this.Validate : System.Security.Claims.ClaimsPrincipal * System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" Usage="securityTokenService.Validate (principal, request)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="principal" Type="System.Security.Claims.ClaimsPrincipal" />
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="principal">
          <span data-ttu-id="fe348-395">Объект <see cref="T:System.Security.Claims.ClaimsPrincipal" />, представляющий удостоверение стороны, запрашивающей токен.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-395">A <see cref="T:System.Security.Claims.ClaimsPrincipal" /> that represents the identity of the token requestor.</span>
          </span>
        </param>
        <param name="request">
          <span data-ttu-id="fe348-396">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос токена безопасности.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-396">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the security token request.</span>
          </span>
          <span data-ttu-id="fe348-397">Содержит сообщение запроса, а также другую связанную с клиентом информацию, например контекст авторизации.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-397">This includes the request message as well as other client related information such as authorization context.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-398">При переопределении в производном классе обрабатывает запрос WS-Trust Validate.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-398">When overridden in a derived class, processes a WS-Trust Validate request.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="fe348-399">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" />, представляющий RSTR, возвращаемый вызывающей стороне.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-399">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityTokenResponse" /> that represents the RSTR to return to the caller.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-400">Реализация по умолчанию этот метод создает исключение <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span><span class="sxs-lookup"><span data-stu-id="fe348-400">The default implementation of this method throws an <xref:System.IdentityModel.Protocols.WSTrust.InvalidRequestException>.</span></span>  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidateRequest">
      <MemberSignature Language="C#" Value="protected virtual void ValidateRequest (System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ValidateRequest(class System.IdentityModel.Protocols.WSTrust.RequestSecurityToken request) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.SecurityTokenService.ValidateRequest(System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Sub ValidateRequest (request As RequestSecurityToken)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual void ValidateRequest(System::IdentityModel::Protocols::WSTrust::RequestSecurityToken ^ request);" />
      <MemberSignature Language="F#" Value="abstract member ValidateRequest : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; unit&#xA;override this.ValidateRequest : System.IdentityModel.Protocols.WSTrust.RequestSecurityToken -&gt; unit" Usage="securityTokenService.ValidateRequest request" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="request" Type="System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />
      </Parameters>
      <Docs>
        <param name="request">
          <span data-ttu-id="fe348-401">Объект <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" />, представляющий запрос.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-401">A <see cref="T:System.IdentityModel.Protocols.WSTrust.RequestSecurityToken" /> that represents the request.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="fe348-402">Проверяет запрос токена безопасности (RST), инкапсулированный данным экземпляром.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-402">Validates the security token request (RST) encapsulated by this instance.</span>
          </span>
        </summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="fe348-403"><xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> Метод вызывается из конвейера выдачи маркера ( <xref:System.IdentityModel.SecurityTokenService.Issue%2A> метод) для проверки входящих RST.</span><span class="sxs-lookup"><span data-stu-id="fe348-403">The <xref:System.IdentityModel.SecurityTokenService.ValidateRequest%2A> method is called from the token issuance pipeline (the <xref:System.IdentityModel.SecurityTokenService.Issue%2A> method) to validate the incoming RST.</span></span> <span data-ttu-id="fe348-404">RST проверяется на соответствие требованиям службы маркеров безопасности (политики) и соответствующее исключение возникает в том случае, если оно является недопустимым.</span><span class="sxs-lookup"><span data-stu-id="fe348-404">The RST is validated against the requirements (policy) of the STS and an appropriate exception is thrown if it is not valid.</span></span>  
  
 <span data-ttu-id="fe348-405">Реализация по умолчанию <xref:System.IdentityModel.SecurityTokenService> класс поддерживает только шаблон RST RSTR и только привязки в спецификации WS-Trust Issue ( <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType%2A> запроса должно быть присвоено <xref:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="fe348-405">The default implementation of the <xref:System.IdentityModel.SecurityTokenService> class supports only the RST-RSTR pattern and only the Issue binding of the WS-Trust specification (the <xref:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType%2A> property of the request must be set to <xref:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue?displayProperty=nameWithType>).</span></span> <span data-ttu-id="fe348-406">Реализация по умолчанию этот метод, обеспечивающий выполнение этих требований (и другим пользователям, указаны в раздел "исключения").</span><span class="sxs-lookup"><span data-stu-id="fe348-406">The default implementation of this method enforces these requirements (and others noted in the exceptions section).</span></span> <span data-ttu-id="fe348-407">Этот метод можно переопределить, если необходимо принудительно установить требования проверки для вашей пользовательской STS.</span><span class="sxs-lookup"><span data-stu-id="fe348-407">You can override this method if you must enforce different validation requirements for your custom STS.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.IdentityModel.Protocols.WSTrust.InvalidRequestException">
          <span data-ttu-id="fe348-408">Свойство <paramref name="request" /> имеет значение <see langword="null" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-408">
              <paramref name="request" /> is <see langword="null" />.</span>
          </span>
          <span data-ttu-id="fe348-409">- или -</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-409">-or-</span>
          </span>
          <span data-ttu-id="fe348-410">Для свойства <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType" /> запроса не задано значение <see cref="F:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-410">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.RequestType" /> property of the request is not set to <see cref="F:System.IdentityModel.Protocols.WSTrust.RequestTypes.Issue" />.</span>
          </span>
          <span data-ttu-id="fe348-411">- или -</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-411">-or-</span>
          </span>
          <span data-ttu-id="fe348-412">Свойство <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> запроса не равно <see langword="null" /> или одной из констант, определенных в классе <see cref="T:System.IdentityModel.Protocols.WSTrust.KeyTypes" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-412">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> property of the request is not <see langword="null" /> or one of the constants defined in the <see cref="T:System.IdentityModel.Protocols.WSTrust.KeyTypes" /> class.</span>
          </span>
          <span data-ttu-id="fe348-413">- или -</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-413">-or-</span>
          </span>
          <span data-ttu-id="fe348-414">Свойство <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> запроса имеет значение <see cref="F:System.IdentityModel.Protocols.WSTrust.KeyTypes.Bearer" />, а элемент <see langword="KeySize" /> присутствует, но его значение не равно нулю.</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-414">The <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.KeyType" /> of the request is <see cref="F:System.IdentityModel.Protocols.WSTrust.KeyTypes.Bearer" /> and the <see langword="KeySize" /> element is present, but its value is not equal to zero.</span>
          </span>
        </exception>
        <exception cref="T:System.IdentityModel.UnsupportedTokenTypeBadRequestException">
          <span data-ttu-id="fe348-415">Служба токенов безопасности не поддерживает тип токена запроса (на основе значения свойства <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.TokenType" /> запроса).</span>
          <span class="sxs-lookup">
            <span data-stu-id="fe348-415">The STS does not support the request token type (based on the value of the <see cref="P:System.IdentityModel.Protocols.WSTrust.WSTrustMessage.TokenType" /> property of the request).</span>
          </span>
        </exception>
        <altmember cref="M:System.IdentityModel.SecurityTokenService.Issue(System.Security.Claims.ClaimsPrincipal,System.IdentityModel.Protocols.WSTrust.RequestSecurityToken)" />
      </Docs>
    </Member>
  </Members>
</Type>