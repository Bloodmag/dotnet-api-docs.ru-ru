<Type Name="Parallel" FullName="System.Threading.Tasks.Parallel">
  <Metadata><Meta Name="ms.openlocfilehash" Value="2e5877b668a67baf4ed3de602d3e7d81869f3db6" /><Meta Name="ms.sourcegitcommit" Value="9e3550fb2088d4faf2043f0acb29da4555519937" /><Meta Name="ms.translationtype" Value="HT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="12/12/2018" /><Meta Name="ms.locfileid" Value="53297181" /></Metadata><TypeSignature Language="C#" Value="public static class Parallel" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract sealed beforefieldinit Parallel extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Threading.Tasks.Parallel" />
  <TypeSignature Language="VB.NET" Value="Public Class Parallel" />
  <TypeSignature Language="C++ CLI" Value="public ref class Parallel abstract sealed" />
  <TypeSignature Language="F#" Value="type Parallel = class" />
  <AssemblyInfo>
    <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.3.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>mscorlib</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary><span data-ttu-id="be7f8-101">Предоставляет поддержку параллельных циклов и областей.</span><span class="sxs-lookup"><span data-stu-id="be7f8-101">Provides support for parallel loops and regions.</span></span></summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-102"><xref:System.Threading.Tasks.Parallel> Класс предоставляет данных на основе библиотеки параллельных замен для общих операций таких как циклы, для каждого цикла и выполнения набора инструкций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-102">The <xref:System.Threading.Tasks.Parallel> class provides library-based data parallel replacements for common operations such as for loops, for each loops, and execution of a set of statements.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-103">В этом примере демонстрируется несколько подходов к реализации параллельного цикла с помощью нескольких языковых конструкций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-103">This example demonstrates several approaches to implementing a parallel loop using multiple language constructs.</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#07](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelintro.cs#07)]
 [!code-vb[System.Threading.Tasks.Parallel#07](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelintro.vb#07)]  
  
 ]]></format>
    </remarks>
    <threadsafe><span data-ttu-id="be7f8-104">Все открытые и защищенные члены <see cref="T:System.Threading.Tasks.Parallel" /> являются потокобезопасными и могут быть использованы одновременно из нескольких потоков.</span><span class="sxs-lookup"><span data-stu-id="be7f8-104">All public and protected members of <see cref="T:System.Threading.Tasks.Parallel" /> are thread-safe and may be used concurrently from multiple threads.</span></span></threadsafe>
    <related type="Article" href="~/docs/standard/parallel-programming/data-parallelism-task-parallel-library.md"><span data-ttu-id="be7f8-105">Параллелизм данных (библиотека параллельных задач)</span><span class="sxs-lookup"><span data-stu-id="be7f8-105">Data Parallelism (Task Parallel Library)</span></span></related>
    <related type="ExternalDocumentation" href="https://code.msdn.microsoft.com/Samples-for-Parallel-b4b76364"><span data-ttu-id="be7f8-106">Примеры параллельного программирования в .NET Framework</span><span class="sxs-lookup"><span data-stu-id="be7f8-106">Samples for Parallel Programming with the .NET Framework</span></span></related>
  </Docs>
  <Members>
    <MemberGroup MemberName="For">
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="be7f8-107">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-107">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop in which iterations may run in parallel.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (int fromInclusive, int toExclusive, Action&lt;int,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int32 fromInclusive, int32 toExclusive, class System.Action`2&lt;int32, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int32,System.Int32,System.Action{System.Int32,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For (fromInclusive As Integer, toExclusive As Integer, body As Action(Of Integer, ParallelLoopState)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, Action&lt;int, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int * int * Action&lt;int, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="body" Type="System.Action&lt;System.Int32,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-108">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-108">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-109">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-109">The end index, exclusive.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-110">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-110">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-111">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-111">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop in which iterations may run in parallel and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-112">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-112">A  structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-113">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-113">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-114">Он входит в состав два аргумента:</span><span class="sxs-lookup"><span data-stu-id="be7f8-114">It is provided with two arguments:</span></span>  
  
-   <span data-ttu-id="be7f8-115"><xref:System.Int32> Значение, представляющее число итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-115">An <xref:System.Int32> value that represents the iteration count.</span></span>  
  
-   <span data-ttu-id="be7f8-116">Объект <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-116">A <xref:System.Threading.Tasks.ParallelLoopState> instance that can be used to break out of the loop prematurely.</span></span> <span data-ttu-id="be7f8-117"><xref:System.Threading.Tasks.ParallelLoopState> Объекта создается компилятором; он не может быть создан в пользовательском коде.</span><span class="sxs-lookup"><span data-stu-id="be7f8-117">The <xref:System.Threading.Tasks.ParallelLoopState> object is created by the compiler; it cannot be instantiated in user code.</span></span>  
  
 <span data-ttu-id="be7f8-118">Вызов <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> метод сообщает `for` операции, что не требуется выполнение итераций после текущей.</span><span class="sxs-lookup"><span data-stu-id="be7f8-118">Calling the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> method informs the `for` operation that iterations after the current one don't have to execute.</span></span> <span data-ttu-id="be7f8-119">Тем не менее всех итераций до текущего один по-прежнему будет выполняться, если он еще.</span><span class="sxs-lookup"><span data-stu-id="be7f8-119">However, all iterations before the current one will still have to be executed if they haven't already.</span></span>  
  
 <span data-ttu-id="be7f8-120">Таким образом, вызов <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> похоже на использование операцию приостановки выполнения с помощью обычного `for` цикл в языке вроде C#, но это не идеальное замены: Например нет никакой гарантии, итераций после текущей определенно не будут выполнены.</span><span class="sxs-lookup"><span data-stu-id="be7f8-120">Therefore, calling <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> is similar to using a break operation within a conventional `for` loop in a language like C#, but it is not a perfect substitute: For example, there is no guarantee that iterations after the current one will definitely not execute.</span></span>  
  
 <span data-ttu-id="be7f8-121">Если для выполнения всех итераций до текущего не требуется, используйте <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> метода вместо использования <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>.</span><span class="sxs-lookup"><span data-stu-id="be7f8-121">If executing all iterations before the current one is not necessary, use the <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> method instead of using <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>.</span></span> <span data-ttu-id="be7f8-122">Вызов <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> информирует `for` цикла, можно пропустить всех оставшихся итераций, независимо от того, находятся ли они до или после текущей итерации, так как все необходимые работы может быть уже заполнена.</span><span class="sxs-lookup"><span data-stu-id="be7f8-122">Calling <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> informs the `for` loop that it may abandon all remaining iterations, regardless of whether they're before or after the current iteration, because all required work will have already been completed.</span></span> <span data-ttu-id="be7f8-123">Однако, как с помощью <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>, нет никаких гарантий, в соответствии с которыми не будет выполняться другими итерациями.</span><span class="sxs-lookup"><span data-stu-id="be7f8-123">However, as with <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>, there are no guarantees regarding which other iterations will not execute.</span></span>  
  
 <span data-ttu-id="be7f8-124">Если цикл завершается преждевременно, <xref:System.Threading.Tasks.ParallelLoopResult> структуру, возвращаемую будет содержать важные сведения о завершении цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-124">If a loop is ended prematurely, the <xref:System.Threading.Tasks.ParallelLoopResult> structure that is returned will contain relevant information about the loop's completion.</span></span>  
  
 <span data-ttu-id="be7f8-125">Если `fromInclusive` больше или равно `toExclusive`, метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-125">If `fromInclusive` is greater than or equal to `toExclusive`, the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-126">В следующем примере выполняется до 100 итераций цикла в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="be7f8-126">The following example executes up to 100 iterations of a loop in parallel.</span></span> <span data-ttu-id="be7f8-127">Каждая итерация приостанавливает случайный промежуток времени от 1 до 1000 миллисекунд.</span><span class="sxs-lookup"><span data-stu-id="be7f8-127">Each iteration pauses for a random interval from 1 to 1,000 milliseconds.</span></span> <span data-ttu-id="be7f8-128">Случайно сгенерированное значение определяет, на какие итерации цикла <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> вызывается метод.</span><span class="sxs-lookup"><span data-stu-id="be7f8-128">A randomly generated value determines on which iteration of the loop the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> method is called.</span></span> <span data-ttu-id="be7f8-129">Как видно в результатах показано в примере, нет итераций, индекс которого больше, чем <xref:System.Threading.Tasks.ParallelLoopState.LowestBreakIteration%2A?displayProperty=nameWithType> начальное значение свойства после вызова <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> метод.</span><span class="sxs-lookup"><span data-stu-id="be7f8-129">As the output from the example shows, no iterations whose index is greater than the <xref:System.Threading.Tasks.ParallelLoopState.LowestBreakIteration%2A?displayProperty=nameWithType> property value start after the call to the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> method.</span></span>  
  
 [!code-csharp[System.Threading.Tasks.ParallelLoopState#2](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallelloopstate/cs/break1.cs#2)]
 [!code-vb[System.Threading.Tasks.ParallelLoopState#2](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallelloopstate/vb/break1.vb#2)]  
  
 <span data-ttu-id="be7f8-130">Поскольку итерации цикла, скорее всего, будет исполняться при <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> вызывается метод, вызовы функций каждой итерации <xref:System.Threading.Tasks.ParallelLoopState.ShouldExitCurrentIteration%2A?displayProperty=nameWithType> свойство для проверки, вызвал ли другую итерацию <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> метод.</span><span class="sxs-lookup"><span data-stu-id="be7f8-130">Because iterations of the loop are still likely to be executing when the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> method is called, each iteration calls the <xref:System.Threading.Tasks.ParallelLoopState.ShouldExitCurrentIteration%2A?displayProperty=nameWithType> property to check whether another iteration has called the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="be7f8-131">Если свойство имеет значение `true`, итерации проверяет значение <xref:System.Threading.Tasks.ParallelLoopState.LowestBreakIteration%2A?displayProperty=nameWithType> свойства и, если это больше, чем значение индекса текущей итерации, возвращается немедленно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-131">If  the property value is `true`, the iteration checks the value of the <xref:System.Threading.Tasks.ParallelLoopState.LowestBreakIteration%2A?displayProperty=nameWithType> property and, if it is greater than the current iteration's index value, returns immediately.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-132">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-132">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-133">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-133">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <altmember cref="T:System.Threading.Tasks.ParallelLoopState" />
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-134">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-134">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (int fromInclusive, int toExclusive, Action&lt;int&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int32 fromInclusive, int32 toExclusive, class System.Action`1&lt;int32&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int32,System.Int32,System.Action{System.Int32})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For (fromInclusive As Integer, toExclusive As Integer, body As Action(Of Integer)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, Action&lt;int&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int * int * Action&lt;int&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="body" Type="System.Action&lt;System.Int32&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-135">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-135">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-136">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-136">The end index, exclusive.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-137">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-137">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-138">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-138">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop in which iterations may run in parallel.</span></span></summary>
        <returns><span data-ttu-id="be7f8-139">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-139">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-140">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-140">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-141">Предоставляется с числом итераций (<xref:System.Int32>) как параметр.</span><span class="sxs-lookup"><span data-stu-id="be7f8-141">It is provided with the iteration count (<xref:System.Int32>) as a parameter.</span></span>  
  
 <span data-ttu-id="be7f8-142">Если `fromInclusive` больше или равно `toExclusive`, метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-142">If `fromInclusive` is greater than or equal to `toExclusive`, the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-143">В следующем примере используется <xref:System.Threading.Tasks.Parallel.For%2A> метод 100 вызовов делегата, который создает случайных байтовых значений и вычисляет их сумму.</span><span class="sxs-lookup"><span data-stu-id="be7f8-143">The following example uses the <xref:System.Threading.Tasks.Parallel.For%2A> method for 100 invocations of a delegate that generates random byte values and computes their sum.</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel.For#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel.for/cs/for1.cs#1)]
 [!code-vb[System.Threading.Tasks.Parallel.For#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel.for/vb/for1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-144">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-144">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-145">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-145">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-146">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-146">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (long fromInclusive, long toExclusive, Action&lt;long,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int64 fromInclusive, int64 toExclusive, class System.Action`2&lt;int64, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int64,System.Int64,System.Action{System.Int64,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For (fromInclusive As Long, toExclusive As Long, body As Action(Of Long, ParallelLoopState)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, Action&lt;long, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * Action&lt;int64, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="body" Type="System.Action&lt;System.Int64,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-147">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-147">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-148">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-148">The end index, exclusive.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-149">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-149">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-150">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-150">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop with 64-bit indexes in which iterations may run in parallel and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-151">Структура <see cref="T:System.Threading.Tasks.ParallelLoopResult" />, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-151">A <see cref="T:System.Threading.Tasks.ParallelLoopResult" /> structure that contains information on what portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-152">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-152">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-153">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int64>) и <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-153">It is provided with the following parameters: the iteration count (<xref:System.Int64>), and a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely.</span></span>  
  
 <span data-ttu-id="be7f8-154">Вызов <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> метод сообщает `for` операцию, которая итераций после текущего не должны быть выполнены, но у всех итераций до текущего.</span><span class="sxs-lookup"><span data-stu-id="be7f8-154">Calling the <xref:System.Threading.Tasks.ParallelLoopState.Break%2A> method informs the `for` operation that iterations after the current one don't have to be executed, but all iterations before the current one do.</span></span>  
  
 <span data-ttu-id="be7f8-155">Таким образом, вызвав Break похоже на использование операцию приостановки выполнения с помощью обычного `for` цикл в языке вроде C#, но это не идеальное замены: Например нет никакой гарантии, итераций после текущей определенно не будут выполнены.</span><span class="sxs-lookup"><span data-stu-id="be7f8-155">Therefore, calling Break is similar to using a break operation within a conventional `for` loop in a language like C#, but it is not a perfect substitute: For example, there is no guarantee that iterations after the current one will definitely not execute.</span></span>  
  
 <span data-ttu-id="be7f8-156">Если для выполнения всех итераций до текущего не требуется, используйте <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> метода вместо использования <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>.</span><span class="sxs-lookup"><span data-stu-id="be7f8-156">If executing all iterations before the current one is not necessary, use the <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> method instead of using <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>.</span></span> <span data-ttu-id="be7f8-157">Вызов <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> информирует `for` цикла, можно пропустить всех оставшихся итераций, независимо от того, находятся ли они до или после текущей итерации, так как все необходимые работы может быть уже заполнена.</span><span class="sxs-lookup"><span data-stu-id="be7f8-157">Calling <xref:System.Threading.Tasks.ParallelLoopState.Stop%2A> informs the `for` loop that it may abandon all remaining iterations, regardless of whether they're before or after the current iteration, because all required work will have already been completed.</span></span> <span data-ttu-id="be7f8-158">Однако, как с помощью <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>, нет никаких гарантий, в соответствии с которыми не будет выполняться другими итерациями.</span><span class="sxs-lookup"><span data-stu-id="be7f8-158">However, as with <xref:System.Threading.Tasks.ParallelLoopState.Break%2A>, there are no guarantees regarding which other iterations will not execute.</span></span>  
  
 <span data-ttu-id="be7f8-159">Если цикл завершается преждевременно, <xref:System.Threading.Tasks.ParallelLoopResult> структуру, возвращаемую будет содержать важные сведения о завершении цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-159">If a loop is ended prematurely, the <xref:System.Threading.Tasks.ParallelLoopResult> structure that is returned will contain relevant information about the loop's completion.</span></span>  
  
 <span data-ttu-id="be7f8-160">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-160">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-161">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-161">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-162">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-162">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-163">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-163">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (long fromInclusive, long toExclusive, Action&lt;long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int64 fromInclusive, int64 toExclusive, class System.Action`1&lt;int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int64,System.Int64,System.Action{System.Int64})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For (fromInclusive As Long, toExclusive As Long, body As Action(Of Long)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, Action&lt;long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * Action&lt;int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="body" Type="System.Action&lt;System.Int64&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-164">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-164">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-165">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-165">The end index, exclusive.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-166">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-166">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-167">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами, в котором итерации могут выполняться параллельно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-167">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop with 64-bit indexes in which iterations may run in parallel.</span></span></summary>
        <returns><span data-ttu-id="be7f8-168">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-168">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-169">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-169">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-170">Предоставляется с числом итераций (<xref:System.Int64>) как параметр.</span><span class="sxs-lookup"><span data-stu-id="be7f8-170">It is provided with the iteration count (<xref:System.Int64>) as a parameter.</span></span>  
  
 <span data-ttu-id="be7f8-171">Если `fromInclusive` больше или равно `toExclusive`, метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-171">If `fromInclusive` is greater than or equal to `toExclusive`, the method returns immediately without performing any iterations.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-172">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-172">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-173">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-173">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-174">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-174">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (int fromInclusive, int toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;int,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int32 fromInclusive, int32 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`2&lt;int32, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int32,System.Int32,System.Threading.Tasks.ParallelOptions,System.Action{System.Int32,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;int, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int * int * System.Threading.Tasks.ParallelOptions * Action&lt;int, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;System.Int32,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-175">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-175">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-176">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-176">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-177">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-177">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-178">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-178">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-179">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-179">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-180">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-180">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-181">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-181">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-182">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int32>) и <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-182">It is provided with the following parameters: the iteration count (<xref:System.Int32>), and a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely.</span></span>  
  
 <span data-ttu-id="be7f8-183">Если `fromInclusive` больше или равно `toExclusive`, метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-183">If `fromInclusive` is greater than or equal to `toExclusive`, the method returns immediately without performing any iterations.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-184">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-184">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-185">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-185">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-186">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-186">-or-</span></span> 
<span data-ttu-id="be7f8-187">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-187">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-188">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-188">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-189"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-189">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-190">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-190">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (int fromInclusive, int toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;int&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int32 fromInclusive, int32 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`1&lt;int32&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int32,System.Int32,System.Threading.Tasks.ParallelOptions,System.Action{System.Int32})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;int&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int * int * System.Threading.Tasks.ParallelOptions * Action&lt;int&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;System.Int32&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-191">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-191">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-192">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-192">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-193">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-193">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-194">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-194">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-195">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций и настройки параметров цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-195">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop in which iterations may run in parallel and loop options can be configured.</span></span></summary>
        <returns><span data-ttu-id="be7f8-196">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-196">A  structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-197">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-197">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-198">Предоставляется с числом итераций (<xref:System.Int32>) как параметр.</span><span class="sxs-lookup"><span data-stu-id="be7f8-198">It is provided with the iteration count (<xref:System.Int32>) as a parameter.</span></span>  
  
 <span data-ttu-id="be7f8-199">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-199">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-200">В следующем примере показано, как отменить параллельный цикл:</span><span class="sxs-lookup"><span data-stu-id="be7f8-200">The following example shows how to cancel a parallel loop:</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#05](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelforcancel.cs#05)]
 [!code-vb[System.Threading.Tasks.Parallel#05](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelforcancel.vb#05)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-201">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-201">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-202">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-202">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-203">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-203">-or-</span></span> 
<span data-ttu-id="be7f8-204">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-204">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-205">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-205">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-206"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-206">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-207">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-207">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (long fromInclusive, long toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;long,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int64 fromInclusive, int64 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`2&lt;int64, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int64,System.Int64,System.Threading.Tasks.ParallelOptions,System.Action{System.Int64,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;long, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * System.Threading.Tasks.ParallelOptions * Action&lt;int64, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;System.Int64,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-208">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-208">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-209">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-209">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-210">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-210">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-211">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-211">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-212">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-212">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic)  loop with 64-bit indexes in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-213">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-213">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-214">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-214">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-215">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int64>) и <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-215">It is provided with the following parameters: the iteration count (<xref:System.Int64>), and a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely.</span></span>  
  
 <span data-ttu-id="be7f8-216">Если `fromInclusive` больше или равно `toExclusive`, метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-216">If `fromInclusive` is greater than or equal to `toExclusive`, the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-217">В следующем примере показано, как использовать <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> метод с <xref:System.Threading.Tasks.ParallelOptions> объекта:</span><span class="sxs-lookup"><span data-stu-id="be7f8-217">The following example shows how to use the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> method with a <xref:System.Threading.Tasks.ParallelOptions> object:</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#03](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelfor.cs#03)]
 [!code-vb[System.Threading.Tasks.Parallel#03](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelfor.vb#03)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-218">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-218">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-219">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-219">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-220">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-220">-or-</span></span> 
<span data-ttu-id="be7f8-221">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-221">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-222">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-222">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-223"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-223">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-224">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-224">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For (long fromInclusive, long toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For(int64 fromInclusive, int64 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`1&lt;int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For(System.Int64,System.Int64,System.Threading.Tasks.ParallelOptions,System.Action{System.Int64})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * System.Threading.Tasks.ParallelOptions * Action&lt;int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;System.Int64&gt;" />
      </Parameters>
      <Docs>
        <param name="fromInclusive"><span data-ttu-id="be7f8-225">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-225">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-226">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-226">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-227">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-227">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-228">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-228">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-229">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами, обеспечивая возможность параллельного выполнения итераций и настройки параметров цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-229">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop with 64-bit indexes in which iterations may run in parallel and loop options can be configured.</span></span></summary>
        <returns><span data-ttu-id="be7f8-230">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-230">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-231">Поддерживает 64-разрядными индексами.</span><span class="sxs-lookup"><span data-stu-id="be7f8-231">Supports 64-bit indexes.</span></span> <span data-ttu-id="be7f8-232">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-232">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-233">Предоставляется с числом итераций (<xref:System.Int64>) как параметр.</span><span class="sxs-lookup"><span data-stu-id="be7f8-233">It is provided with the iteration count (<xref:System.Int64>) as a parameter.</span></span>  
  
 <span data-ttu-id="be7f8-234">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-234">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-235">В следующем примере показано, как использовать <xref:System.Threading.Tasks.ParallelOptions> для указания пользовательского планировщика:</span><span class="sxs-lookup"><span data-stu-id="be7f8-235">The following example shows how to use <xref:System.Threading.Tasks.ParallelOptions> to specify a custom task scheduler:</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#06](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelforwithscheduler.cs#06)]
 [!code-vb[System.Threading.Tasks.Parallel#06](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelforwithscheduler.vb#06)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-236">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-236">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-237">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-237">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-238">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-238">-or-</span></span> 
<span data-ttu-id="be7f8-239">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-239">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-240">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-240">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-241"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-241">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-242">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-242">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For&lt;TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt; (int fromInclusive, int toExclusive, Func&lt;TLocal&gt; localInit, Func&lt;int,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt;(int32 fromInclusive, int32 toExclusive, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;int32, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For``1(System.Int32,System.Int32,System.Func{``0},System.Func{System.Int32,System.Threading.Tasks.ParallelLoopState,``0,``0},System.Action{``0})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For(Of TLocal) (fromInclusive As Integer, toExclusive As Integer, localInit As Func(Of TLocal), body As Func(Of Integer, ParallelLoopState, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, Func&lt;TLocal&gt; ^ localInit, Func&lt;int, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member For : int * int * Func&lt;'Local&gt; * Func&lt;int, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;System.Int32,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-243">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-243">The type of the thread-local data.</span></span></typeparam>
        <param name="fromInclusive"><span data-ttu-id="be7f8-244">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-244">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-245">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-245">The end index, exclusive.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-246">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-246">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-247">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-247">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-248">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-248">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-249">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с локальными данными потока, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-249">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop with thread-local data in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-250">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-250">A  structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-251">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-251">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-252">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int32>), <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-252">It is provided with the following parameters: the iteration count (<xref:System.Int32>), a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-253">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-253">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-254">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-254">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-255">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-255">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-256">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-256">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-257">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-257">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-258">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-258">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-259"><xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-259">The <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-260">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-260">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 <span data-ttu-id="be7f8-261">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-261">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
 <span data-ttu-id="be7f8-262">Пример использования этого метода, см. в разделе [как: Написание цикла Parallel.For с локальные переменные потока](~/docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-262">For an example that uses this method, see [How to: Write a Parallel.For Loop with Thread-Local Variables](~/docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-263">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-263">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-264">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-264">-or-</span></span> 
<span data-ttu-id="be7f8-265">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-265">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-266">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-266">-or-</span></span> 
<span data-ttu-id="be7f8-267">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-267">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-268">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-268">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-269">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-269">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For&lt;TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt; (long fromInclusive, long toExclusive, Func&lt;TLocal&gt; localInit, Func&lt;long,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt;(int64 fromInclusive, int64 toExclusive, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;int64, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For``1(System.Int64,System.Int64,System.Func{``0},System.Func{System.Int64,System.Threading.Tasks.ParallelLoopState,``0,``0},System.Action{``0})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function For(Of TLocal) (fromInclusive As Long, toExclusive As Long, localInit As Func(Of TLocal), body As Func(Of Long, ParallelLoopState, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, Func&lt;TLocal&gt; ^ localInit, Func&lt;long, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * Func&lt;'Local&gt; * Func&lt;int64, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;System.Int64,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-270">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-270">The type of the thread-local data.</span></span></typeparam>
        <param name="fromInclusive"><span data-ttu-id="be7f8-271">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-271">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-272">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-272">The end index, exclusive.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-273">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-273">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-274">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-274">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-275">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-275">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-276">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами и локальными данными потока, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-276">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic)  loop with 64-bit indexes and thread-local data in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-277">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-277">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-278">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-278">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-279">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int64>), <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются на ту же задачу.</span><span class="sxs-lookup"><span data-stu-id="be7f8-279">It is provided with the following parameters: the iteration count (<xref:System.Int64>), a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same task.</span></span>  
  
 <span data-ttu-id="be7f8-280">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-280">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-281">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-281">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-282">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-282">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-283">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-283">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-284">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-284">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-285">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-285">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-286"><xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-286">The <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-287">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-287">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 <span data-ttu-id="be7f8-288">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-288">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
 <span data-ttu-id="be7f8-289">Пример использования этого метода, см. в разделе [как: Написание цикла Parallel.For с локальные переменные потока](~/docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-289">For an example that uses this method, see [How to: Write a Parallel.For Loop with Thread-Local Variables](~/docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-290">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-290">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-291">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-291">-or-</span></span> 
<span data-ttu-id="be7f8-292">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-292">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-293">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-293">-or-</span></span> 
<span data-ttu-id="be7f8-294">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-294">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-295">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-295">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-296">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-296">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For&lt;TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt; (int fromInclusive, int toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;int,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt;(int32 fromInclusive, int32 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;int32, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For``1(System.Int32,System.Int32,System.Threading.Tasks.ParallelOptions,System.Func{``0},System.Func{System.Int32,System.Threading.Tasks.ParallelLoopState,``0,``0},System.Action{``0})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult For(int fromInclusive, int toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;int, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member For : int * int * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;int, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int32" />
        <Parameter Name="toExclusive" Type="System.Int32" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;System.Int32,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-297">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-297">The type of the thread-local data.</span></span></typeparam>
        <param name="fromInclusive"><span data-ttu-id="be7f8-298">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-298">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-299">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-299">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-300">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-300">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-301">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-301">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-302">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-302">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-303">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-303">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-304">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с локальными данными потока, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-304">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic)  loop with thread-local data in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-305">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-305">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-306">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-306">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-307">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int32>), <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются на ту же задачу.</span><span class="sxs-lookup"><span data-stu-id="be7f8-307">It is provided with the following parameters: the iteration count (<xref:System.Int32>), a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same task.</span></span>  
  
 <span data-ttu-id="be7f8-308">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-308">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-309">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-309">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-310">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-310">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-311">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-311">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-312">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-312">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-313">Этот делегат может быть вызван одновременно несколькими потоками; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-313">This delegate might be invoked concurrently on multiple threads; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-314"><xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-314">The <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-315">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-315">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 <span data-ttu-id="be7f8-316">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-316">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-317">Следующий пример использует локальные переменные потока для вычисления суммы результаты длительных операций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-317">The following example uses thread-local variables to compute the sum of the results of many lengthy operations.</span></span> <span data-ttu-id="be7f8-318">В этом примере ограничивает степень параллелизма до четырех.</span><span class="sxs-lookup"><span data-stu-id="be7f8-318">This example limits the degree of parallelism to four.</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#04](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/threadlocalforwithoptions.cs#04)]
 [!code-vb[System.Threading.Tasks.Parallel#04](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/threadlocalforwithoptions.vb#04)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-319">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-319">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-320">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-320">-or-</span></span> 
<span data-ttu-id="be7f8-321">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-321">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-322">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-322">-or-</span></span> 
<span data-ttu-id="be7f8-323">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-323">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-324">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-324">-or-</span></span> 
<span data-ttu-id="be7f8-325">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-325">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-326">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-326">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-327"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-327">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-328">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-328">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-329">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-329">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="For&lt;TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt; (long fromInclusive, long toExclusive, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;long,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult For&lt;TLocal&gt;(int64 fromInclusive, int64 toExclusive, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;int64, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.For``1(System.Int64,System.Int64,System.Threading.Tasks.ParallelOptions,System.Func{``0},System.Func{System.Int64,System.Threading.Tasks.ParallelLoopState,``0,``0},System.Action{``0})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult For(long fromInclusive, long toExclusive, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;long, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member For : int64 * int64 * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;int64, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.For (fromInclusive, toExclusive, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="fromInclusive" Type="System.Int64" />
        <Parameter Name="toExclusive" Type="System.Int64" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;System.Int64,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-330">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-330">The type of the thread-local data.</span></span></typeparam>
        <param name="fromInclusive"><span data-ttu-id="be7f8-331">Начальный индекс, включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-331">The start index, inclusive.</span></span></param>
        <param name="toExclusive"><span data-ttu-id="be7f8-332">Конечный индекс, не включительно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-332">The end index, exclusive.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-333">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-333">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-334">Делегат функции, который возвращает начальное состояние локальных данных для каждого потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-334">The function delegate that returns the initial state of the local data for each thread.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-335">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-335">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-336">Делегат, который выполняет финальное действие с локальным состоянием каждого потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-336">The delegate that performs a final action on the local state of each thread.</span></span></param>
        <summary><span data-ttu-id="be7f8-337">Выполняет цикл <see langword="for" /> (<see langword="For" /> в Visual Basic) с 64-разрядными индексами и локальными данными потока, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-337">Executes a <see langword="for" /> (<see langword="For" /> in Visual Basic) loop with 64-bit indexes and thread-local data in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-338">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-338">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-339">`body` Делегат вызывается один раз для каждого значения в диапазоне итерации (`fromInclusive`, `toExclusive`).</span><span class="sxs-lookup"><span data-stu-id="be7f8-339">The `body` delegate is invoked once for each value in the iteration range (`fromInclusive`, `toExclusive`).</span></span> <span data-ttu-id="be7f8-340">Он предоставляется со следующими параметрами: число итераций (<xref:System.Int64>), <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-340">It is provided with the following parameters: the iteration count (<xref:System.Int64>), a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-341">`localInit` Делегат вызывается один раз для каждого потока, который участвует в выполнении цикла и возвращает начальное локальное состояние для каждого из этих потоков.</span><span class="sxs-lookup"><span data-stu-id="be7f8-341">The `localInit` delegate is invoked once for each thread that participates in the loop's execution and returns the initial local state for each of those threads.</span></span> <span data-ttu-id="be7f8-342">Эти начальные состояния передаются первому `body` вызовов в каждом потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-342">These initial states are passed to the first `body` invocations on each thread.</span></span> <span data-ttu-id="be7f8-343">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-343">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-344">Наконец, последний вызов тела в каждом потоке возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-344">Finally, the last body invocation on each thread returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-345">`localFinally` Делегат вызывается один раз за поток, выполняющий финальное действие с локальным состоянием каждого потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-345">The `localFinally` delegate is invoked once per thread to perform a final action on each thread's local state.</span></span> <span data-ttu-id="be7f8-346">Этот делегат может быть вызван одновременно несколькими потоками; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-346">This delegate might be invoked concurrently on multiple threads; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-347"><xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-347">The <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-348">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-348">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 <span data-ttu-id="be7f8-349">Если `fromInclusive` больше или равно `toExclusive`, то метод немедленно возвращает без выполнения итерации.</span><span class="sxs-lookup"><span data-stu-id="be7f8-349">If `fromInclusive` is greater than or equal to `toExclusive`, then the method returns immediately without performing any iterations.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-350">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-350">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-351">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-351">-or-</span></span> 
<span data-ttu-id="be7f8-352">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-352">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-353">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-353">-or-</span></span> 
<span data-ttu-id="be7f8-354">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-354">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-355">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-355">-or-</span></span> 
<span data-ttu-id="be7f8-356">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-356">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-357">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-357">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-358"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-358">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-359">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-359">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-360">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-360">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="ForEach&lt;TSource&gt;">
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="be7f8-361">Выполняет операцию <see langword="foreach" /> (<see langword="For Each " /> в Visual Basic), обеспечивая возможность параллельного выполнения итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-361">Executes a <see langword="foreach" /> (<see langword="For Each " /> in Visual Basic) operation in which iterations may run in parallel.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt; source, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.OrderablePartitioner`1&lt;!!TSource&gt; source, class System.Action`3&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.OrderablePartitioner{``0},System.Action{``0,System.Threading.Tasks.ParallelLoopState,System.Int64})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As OrderablePartitioner(Of TSource), body As Action(Of TSource, ParallelLoopState, Long)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::OrderablePartitioner&lt;TSource&gt; ^ source, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.OrderablePartitioner&lt;'Source&gt; * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-362">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-362">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-363">Упорядочиваемый разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-363">The orderable partitioner that contains the original data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-364">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-364">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-365">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-365">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" /> in which iterations may run in parallel and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-366">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-366">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-367">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-367">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-368">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-368">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-369"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-369">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-370">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-370">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-371">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-371">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-372">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-372">-or-</span></span> 
<span data-ttu-id="be7f8-373">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-373">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-374">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в упорядочиваемом разделителе <paramref name="source" /> возвращает значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-374">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> orderable partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-375">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-375">-or-</span></span> 
<span data-ttu-id="be7f8-376">Свойство <see cref="P:System.Collections.Concurrent.OrderablePartitioner`1.KeysNormalized" /> в упорядочиваемом разделителе источника возвращает значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-376">The <see cref="P:System.Collections.Concurrent.OrderablePartitioner`1.KeysNormalized" /> property in the source orderable partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-377">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-377">-or-</span></span> 
<span data-ttu-id="be7f8-378">Все методы в упорядочиваемом модуле разделения источника возвращают <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-378">Any methods in the source orderable partitioner return <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-379">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-379">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Action`2&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.Partitioner{``0},System.Action{``0,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As Partitioner(Of TSource), body As Action(Of TSource, ParallelLoopState)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-380">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-380">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-381">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-381">The partitioner that contains the original data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-382">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-382">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-383">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-383">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-384">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-384">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-385">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-385">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-386">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-386">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-387"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-387">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-388">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-388">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-389">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-389">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-390">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-390">-or-</span></span> 
<span data-ttu-id="be7f8-391">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-391">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-392">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /> возвращает <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-392">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-393">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-393">-or-</span></span> 
<span data-ttu-id="be7f8-394">Метод в разделителе <paramref name="source" /> возвращает <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-394">A method in the <paramref name="source" /> partitioner returns <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-395">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-395">-or-</span></span> 
<span data-ttu-id="be7f8-396">Метод <see cref="M:System.Collections.Concurrent.Partitioner`1.GetPartitions(System.Int32)" /> в разделителе <paramref name="source" /> не возвращает правильное число разделов.</span><span class="sxs-lookup"><span data-stu-id="be7f8-396">The <see cref="M:System.Collections.Concurrent.Partitioner`1.GetPartitions(System.Int32)" /> method in the <paramref name="source" /> partitioner does not return the correct number of partitions.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-397">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-397">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, Action&lt;TSource&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Action`1&lt;!!TSource&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.Partitioner{``0},System.Action{``0})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As Partitioner(Of TSource), body As Action(Of TSource)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, Action&lt;TSource&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * Action&lt;'Source&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-398">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-398">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-399">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-399">The partitioner that contains the original data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-400">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-400">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-401">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-401">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel.</span></span></summary>
        <returns><span data-ttu-id="be7f8-402">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-402">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-403">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-403">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-404">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-404">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-405"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-405">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-406">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-406">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-407">В следующем примере показано, как реализация модуля разделения диапазона для использования с <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>:</span><span class="sxs-lookup"><span data-stu-id="be7f8-407">The following example shows how to implement a range partitioner for use with <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>:</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel_RangePartitioners#01](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel_rangepartitioners/cs/rangepartitioner.cs#01)]
 [!code-vb[System.Threading.Tasks.Parallel_RangePartitioners#01](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel_rangepartitioners/vb/rangepart.vb#01)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-408">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-408">The <paramref name="source" /> argument is  <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-409">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-409">-or-</span></span> 
<span data-ttu-id="be7f8-410">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-410">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-411">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /> возвращает <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-411">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-412">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-412">-or-</span></span> 
<span data-ttu-id="be7f8-413">Исключение, которое возникает, когда какие-либо методы в разделителе <paramref name="source" /> возвращают значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-413">The exception that is thrown when any methods in the <paramref name="source" /> partitioner return <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-414">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-414">-or-</span></span> 
<span data-ttu-id="be7f8-415">Метод <see cref="M:System.Collections.Concurrent.Partitioner`1.GetPartitions(System.Int32)" /> в разделителе <paramref name="source" /> не возвращает правильное число разделов.</span><span class="sxs-lookup"><span data-stu-id="be7f8-415">The <see cref="M:System.Collections.Concurrent.Partitioner`1.GetPartitions(System.Int32)" /> method in the <paramref name="source" /> partitioner does not return the correct number of partitions.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-416">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-416">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Action`3&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Action{``0,System.Threading.Tasks.ParallelLoopState,System.Int64})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As IEnumerable(Of TSource), body As Action(Of TSource, ParallelLoopState, Long)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-417">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-417">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-418">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-418">An enumerable data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-419">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-419">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-420">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с 64-разрядными индексами для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-420">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with 64-bit indexes on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-421">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-421">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-422">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-422">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-423">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и индекс текущего элемента (<xref:System.Int64>).</span><span class="sxs-lookup"><span data-stu-id="be7f8-423">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and the current element's index (<xref:System.Int64>).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-424">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-424">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-425">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-425">-or-</span></span> 
<span data-ttu-id="be7f8-426">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-426">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-427">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-427">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-428">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-428">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Action`2&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Action{``0,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As IEnumerable(Of TSource), body As Action(Of TSource, ParallelLoopState)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-429">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-429">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-430">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-430">An enumerable data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-431">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-431">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-432">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-432">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-433">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-433">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-434">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-434">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-435">Он предоставляется со следующими параметрами: текущего элемента и <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-435">It is provided with the following parameters: the current element, and a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-436">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-436">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-437">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-437">-or-</span></span> 
<span data-ttu-id="be7f8-438">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-438">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-439">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-439">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-440">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-440">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, Action&lt;TSource&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Action`1&lt;!!TSource&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Action{``0})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource) (source As IEnumerable(Of TSource), body As Action(Of TSource)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, Action&lt;TSource&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * Action&lt;'Source&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="body" Type="System.Action&lt;TSource&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-441">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-441">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-442">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-442">An enumerable data source.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-443">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-443">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-444">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций.</span><span class="sxs-lookup"><span data-stu-id="be7f8-444">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel.</span></span></summary>
        <returns><span data-ttu-id="be7f8-445">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-445">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-446">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-446">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-447">Предоставляется с текущим элементом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="be7f8-447">It is provided with the current element as a parameter.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-448">В следующем примере используется <xref:System.Threading.Tasks.Parallel.ForEach%60%601%28System.Collections.Generic.IEnumerable%7B%60%600%7D%2CSystem.Action%7B%60%600%7D%29> метод для подсчета числа гласные и отличных от пробела символов в текстовом файле.</span><span class="sxs-lookup"><span data-stu-id="be7f8-448">The following example uses the <xref:System.Threading.Tasks.Parallel.ForEach%60%601%28System.Collections.Generic.IEnumerable%7B%60%600%7D%2CSystem.Action%7B%60%600%7D%29> method to count the number of vowels and non-white-space characters in a text file.</span></span> <span data-ttu-id="be7f8-449">В этом случае <xref:System.Threading.Tasks.ParallelLoopResult> учитывается значение, возвращаемое этим методом.</span><span class="sxs-lookup"><span data-stu-id="be7f8-449">In this case, the <xref:System.Threading.Tasks.ParallelLoopResult> value returned by the method is ignored.</span></span> <span data-ttu-id="be7f8-450">Обратите внимание на то, что, так как операции могут выполняться в параллельном режиме, необходимо убедиться, увеличивая переменных счетчика является атомарной операцией, и что несколько потоков пытаются одновременно получить доступ к переменных счетчика.</span><span class="sxs-lookup"><span data-stu-id="be7f8-450">Note that, because operations can run in parallel, you must ensure that incrementing the counter variables is an atomic operation, and that multiple threads do not attempt to access the counter variables simultaneously.</span></span> <span data-ttu-id="be7f8-451">Для этой цели в примере используется `lock` инструкции (в C#) и `SyncLock` (в Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="be7f8-451">For this purpose, the example uses the `lock` statement (in C#) and the `SyncLock` statement (in Visual Basic).</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel.ForEach#1](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel.foreach/cs/foreach1.cs#1)]
 [!code-vb[System.Threading.Tasks.Parallel.ForEach#1](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel.foreach/vb/foreach1.vb#1)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-452">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-452">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-453">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-453">-or-</span></span> 
<span data-ttu-id="be7f8-454">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-454">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-455">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-455">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-456">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-456">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.OrderablePartitioner`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`3&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.OrderablePartitioner{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0,System.Threading.Tasks.ParallelLoopState,System.Int64})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::OrderablePartitioner&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.OrderablePartitioner&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-457">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-457">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-458">Упорядочиваемый разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-458">The orderable partitioner that contains the original data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-459">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-459">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-460">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-460">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-461">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-461">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-462">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-462">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-463">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-463">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-464">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-464">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-465"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-465">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-466">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-466">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-467">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен</span><span class="sxs-lookup"><span data-stu-id="be7f8-467">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-468">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-468">The <paramref name="source" /> argument is  <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-469">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-469">-or-</span></span> 
<span data-ttu-id="be7f8-470">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-470">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-471">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-471">-or-</span></span> 
<span data-ttu-id="be7f8-472">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-472">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-473"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-473">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-474">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в упорядочиваемом разделителе <paramref name="source" /> возвращает значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-474">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> orderable partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-475">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-475">-or-</span></span> 
<span data-ttu-id="be7f8-476">Свойство <see cref="P:System.Collections.Concurrent.OrderablePartitioner`1.KeysNormalized" /> в упорядочиваемом разделителе <paramref name="source" /> возвращает значение <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-476">The <see cref="P:System.Collections.Concurrent.OrderablePartitioner`1.KeysNormalized" /> property in the <paramref name="source" /> orderable partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-477">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-477">-or-</span></span> 
<span data-ttu-id="be7f8-478">Исключение, которое возникает, когда методы в упорядочиваемом разделителе <paramref name="source" /> возвращают значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-478">The exception that is thrown when any methods in the <paramref name="source" /> orderable partitioner return <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-479">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-479">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`2&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.Partitioner{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-480">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-480">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-481">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-481">The partitioner that contains the original data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-482">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-482">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-483">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-483">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-484">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-484">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-485">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-485">A  structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-486">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-486">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-487">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-487">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-488"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-488">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-489">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-489">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-490">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-490">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-491"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-491">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-492">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-492">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-493">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-493">-or-</span></span> 
<span data-ttu-id="be7f8-494">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-494">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-495">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-495">-or-</span></span> 
<span data-ttu-id="be7f8-496">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-496">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-497">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /> возвращает <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-497">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-498">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-498">-or-</span></span> 
<span data-ttu-id="be7f8-499">Исключение, которое возникает, когда какие-либо методы в разделителе <paramref name="source" /> возвращают значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-499">The exception that is thrown when any methods in the <paramref name="source" /> partitioner return <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-500">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-500">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`1&lt;!!TSource&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Concurrent.Partitioner{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-501">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-501">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-502">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-502">The partitioner that contains the original data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-503">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-503">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-504">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-504">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-505">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций и настройки параметров цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-505">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel and loop options can be configured.</span></span></summary>
        <returns><span data-ttu-id="be7f8-506">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-506">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-507">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-507">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-508">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-508">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-509"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-509">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-510">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-510">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-511">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-511">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-512"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-512">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-513">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-513">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-514">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-514">-or-</span></span> 
<span data-ttu-id="be7f8-515">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-515">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-516">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-516">-or-</span></span> 
<span data-ttu-id="be7f8-517">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-517">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-518">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /> возвращает <see langword="false" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-518">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /> partitioner returns <see langword="false" />.</span></span>  
  
<span data-ttu-id="be7f8-519">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-519">-or-</span></span> 
<span data-ttu-id="be7f8-520">Исключение, которое возникает, когда какие-либо методы в разделителе <paramref name="source" /> возвращают значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-520">The exception that is thrown when any methods in the <paramref name="source" /> partitioner return <see langword="null" />.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-521">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-521">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,long&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`3&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0,System.Threading.Tasks.ParallelLoopState,System.Int64})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-522">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-522">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-523">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-523">An enumerable data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-524">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-524">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-525">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-525">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-526">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с 64-разрядными индексами для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-526">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with 64-bit indexes on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-527">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-527">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-528">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-528">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-529">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и индекс текущего элемента (<xref:System.Int64>).</span><span class="sxs-lookup"><span data-stu-id="be7f8-529">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and the current element's index (<xref:System.Int64>).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-530">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен</span><span class="sxs-lookup"><span data-stu-id="be7f8-530">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-531">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-531">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-532">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-532">-or-</span></span> 
<span data-ttu-id="be7f8-533">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-533">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-534">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-534">-or-</span></span> 
<span data-ttu-id="be7f8-535">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-535">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-536">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-536">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-537"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-537">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-538">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-538">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`2&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0,System.Threading.Tasks.ParallelLoopState})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource, System::Threading::Tasks::ParallelLoopState ^&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source, System.Threading.Tasks.ParallelLoopState&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource,System.Threading.Tasks.ParallelLoopState&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-539">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-539">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-540">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-540">An enumerable data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-541">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-541">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-542">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-542">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-543">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-543">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-544">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-544">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-545">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-545">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-546">Он предоставляется со следующими параметрами: текущего элемента и <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-546">It is provided with the following parameters: the current element, and a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-547">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен</span><span class="sxs-lookup"><span data-stu-id="be7f8-547">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-548">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-548">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-549">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-549">-or-</span></span> 
<span data-ttu-id="be7f8-550">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-550">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-551">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-551">-or-</span></span> 
<span data-ttu-id="be7f8-552">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-552">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-553">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-553">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-554"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-554">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-555">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-555">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Action&lt;TSource&gt; body);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action`1&lt;!!TSource&gt; body) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``1(System.Collections.Generic.IEnumerable{``0},System.Threading.Tasks.ParallelOptions,System.Action{``0})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Action&lt;TSource&gt; ^ body);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Action&lt;'Source&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, body)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="body" Type="System.Action&lt;TSource&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-556">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-556">The type of the data in the source.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-557">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-557">An enumerable data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-558">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-558">An object that configures the behavior of this operation.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-559">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-559">The delegate that is invoked once per iteration.</span></span></param>
        <summary><span data-ttu-id="be7f8-560">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций и настройки параметров цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-560">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel and loop options can be configured.</span></span></summary>
        <returns><span data-ttu-id="be7f8-561">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-561">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-562">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-562">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-563">Предоставляется с текущим элементом в качестве параметра.</span><span class="sxs-lookup"><span data-stu-id="be7f8-563">It is provided with the current element as a parameter.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-564">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен</span><span class="sxs-lookup"><span data-stu-id="be7f8-564">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-565">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-565">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-566">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-566">-or-</span></span> 
<span data-ttu-id="be7f8-567">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-567">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-568">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-568">-or-</span></span> 
<span data-ttu-id="be7f8-569">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-569">The <paramref name="body" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-570">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-570">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-571"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-571">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-572">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-572">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt; source, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,long,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Concurrent.OrderablePartitioner`1&lt;!!TSource&gt; source, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`5&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Concurrent.OrderablePartitioner{``0},System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,System.Int64,``1,``1},System.Action{``1})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource, TLocal) (source As OrderablePartitioner(Of TSource), localInit As Func(Of TLocal), body As Func(Of TSource, ParallelLoopState, Long, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::OrderablePartitioner&lt;TSource&gt; ^ source, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.OrderablePartitioner&lt;'Source&gt; * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt;" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-573">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-573">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-574">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-574">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-575">Упорядочиваемый разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-575">The orderable partitioner that contains the original data source.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-576">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-576">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-577">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-577">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-578">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-578">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-579">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-579">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data on a <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-580">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-580">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-581">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-581">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-582">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-582">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-583"><xref:System.Threading.Tasks.Parallel.ForEach%2A> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-583">The <xref:System.Threading.Tasks.Parallel.ForEach%2A> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-584">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-584">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 <span data-ttu-id="be7f8-585">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-585">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-586">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-586">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-587">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-587">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-588">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-588">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-589">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-589">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-590">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-590">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-591"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-591">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-592">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-592">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-593">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-593">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-594">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-594">-or-</span></span> 
<span data-ttu-id="be7f8-595">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-595">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-596">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-596">-or-</span></span> 
<span data-ttu-id="be7f8-597">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-597">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-598">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-598">-or-</span></span> 
<span data-ttu-id="be7f8-599">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-599">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-600">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> возвращает значение <see langword="false" /> или разделитель возвращает части со значением <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-600">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> returns <see langword="false" /> or the partitioner returns <see langword="null" /> partitions.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-601">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-601">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-602">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-602">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Concurrent.Partitioner{``0},System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,``1,``1},System.Action{``1})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource, TLocal) (source As Partitioner(Of TSource), localInit As Func(Of TLocal), body As Func(Of TSource, ParallelLoopState, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-603">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-603">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-604">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-604">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-605">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-605">The partitioner that contains the original data source.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-606">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-606">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-607">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-607">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-608">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-608">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-609">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-609">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-610">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-610">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-611">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-611">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-612">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-612">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-613"><xref:System.Threading.Tasks.Parallel.ForEach%2A> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-613">The <xref:System.Threading.Tasks.Parallel.ForEach%2A> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-614">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-614">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 <span data-ttu-id="be7f8-615">`localInit` Делегат вызывается один раз для каждого потока, который участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-615">The `localInit` delegate is invoked once for each thread that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-616">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-616">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-617">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-617">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-618">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-618">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-619">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-619">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-620">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-620">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-621"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-621">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-622">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-622">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-623">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-623">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-624">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-624">-or-</span></span> 
<span data-ttu-id="be7f8-625">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-625">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-626">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-626">-or-</span></span> 
<span data-ttu-id="be7f8-627">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-627">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-628">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-628">-or-</span></span> 
<span data-ttu-id="be7f8-629">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-629">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-630">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> возвращает значение <see langword="false" /> или разделитель возвращает части со значением <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-630">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> returns <see langword="false" /> or the partitioner returns <see langword="null" /> partitions.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-631">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-631">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-632">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-632">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,long,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`5&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Generic.IEnumerable{``0},System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,System.Int64,``1,``1},System.Action{``1})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource, TLocal) (source As IEnumerable(Of TSource), localInit As Func(Of TLocal), body As Func(Of TSource, ParallelLoopState, Long, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-633">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-633">The type of the data in the source.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-634">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-634">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-635">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-635">An enumerable data source.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-636">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-636">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-637">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-637">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-638">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-638">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-639">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-639">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-640">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-640">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-641">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-641">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-642">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно, индекс текущего элемента (<xref:System.Int64>) и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-642">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, the current element's index (<xref:System.Int64>), and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-643">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-643">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-644">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-644">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-645">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-645">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-646">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-646">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-647">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-647">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-648">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-648">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-649"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-649">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-650">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-650">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-651">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-651">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-652">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-652">-or-</span></span> 
<span data-ttu-id="be7f8-653">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-653">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-654">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-654">-or-</span></span> 
<span data-ttu-id="be7f8-655">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-655">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-656">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-656">-or-</span></span> 
<span data-ttu-id="be7f8-657">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-657">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-658">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-658">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-659">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-659">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Generic.IEnumerable{``0},System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,``1,``1},System.Action{``1})" />
      <MemberSignature Language="VB.NET" Value="Public Shared Function ForEach(Of TSource, TLocal) (source As IEnumerable(Of TSource), localInit As Func(Of TLocal), body As Func(Of TSource, ParallelLoopState, TLocal, TLocal), localFinally As Action(Of TLocal)) As ParallelLoopResult" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-660">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-660">The type of the data in the source.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-661">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-661">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-662">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-662">An enumerable data source.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-663">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-663">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-664">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-664">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-665">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-665">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-666">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-666">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-667">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-667">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-668">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-668">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-669">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-669">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-670">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-670">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-671">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-671">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-672">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-672">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-673">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-673">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-674">`localFinally` Делегат вызывается один раз за поток, выполняющий финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-674">The `localFinally` delegate is invoked once per thread to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-675">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-675">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-676"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-676">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-677">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-677">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-678">В следующем примере показано, как использовать <xref:System.Threading.Tasks.Parallel.ForEach%2A> метод с локальным состоянием:</span><span class="sxs-lookup"><span data-stu-id="be7f8-678">The following example shows how to use a <xref:System.Threading.Tasks.Parallel.ForEach%2A> method with local state:</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#02](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelforeach.cs#02)]
 [!code-vb[System.Threading.Tasks.Parallel#02](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelforeach.vb#02)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-679">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-679">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-680">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-680">-or-</span></span> 
<span data-ttu-id="be7f8-681">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-681">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-682">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-682">-or-</span></span> 
<span data-ttu-id="be7f8-683">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-683">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-684">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-684">-or-</span></span> 
<span data-ttu-id="be7f8-685">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-685">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-686">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-686">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-687">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-687">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,long,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Concurrent.OrderablePartitioner`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`5&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Concurrent.OrderablePartitioner{``0},System.Threading.Tasks.ParallelOptions,System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,System.Int64,``1,``1},System.Action{``1})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::OrderablePartitioner&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.OrderablePartitioner&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.OrderablePartitioner&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-688">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-688">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-689">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-689">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-690">Упорядочиваемый разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-690">The orderable partitioner that contains the original data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-691">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-691">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-692">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-692">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-693">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-693">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-694">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-694">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-695">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с 64-разрядными индексами и локальными данными потока для объекта <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-695">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with 64-bit indexes and  with thread-local data on a <see cref="T:System.Collections.Concurrent.OrderablePartitioner`1" /> in which iterations may run in parallel , loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-696">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-696">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-697">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-697">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-698">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-698">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-699"><xref:System.Threading.Tasks.Parallel.ForEach%2A> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-699">The <xref:System.Threading.Tasks.Parallel.ForEach%2A> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-700">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-700">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 <span data-ttu-id="be7f8-701">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-701">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-702">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-702">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-703">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-703">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-704">Наконец, последний вызов тела в каждом потоке возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-704">Finally, the last body invocation on each thread returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-705">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-705">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-706">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-706">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-707"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-707">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-708">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-708">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-709">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-709">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-710">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-710">-or-</span></span> 
<span data-ttu-id="be7f8-711">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-711">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-712">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-712">-or-</span></span> 
<span data-ttu-id="be7f8-713">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-713">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-714">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-714">-or-</span></span> 
<span data-ttu-id="be7f8-715">Аргумент <paramref name="localInit" /> или аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-715">The <paramref name="localInit" /> or <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-716">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> возвращает значение <see langword="false" /> или разделитель возвращает части со значением <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-716">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> returns <see langword="false" /> or the partitioner returns <see langword="null" /> partitions.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-717">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-717">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-718">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-718">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-719"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-719">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-720">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-720">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Concurrent.Partitioner&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Concurrent.Partitioner`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Concurrent.Partitioner{``0},System.Threading.Tasks.ParallelOptions,System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,``1,``1},System.Action{``1})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Concurrent::Partitioner&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : System.Collections.Concurrent.Partitioner&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Concurrent.Partitioner&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-721">Тип элементов в объекте <paramref name="source" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-721">The type of the elements in <paramref name="source" />.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-722">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-722">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-723">Разделитель, содержащий исходный источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-723">The partitioner that contains the original data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-724">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-724">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-725">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-725">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-726">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-726">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-727">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-727">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-728">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.Concurrent.Partitioner" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-728">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation  with thread-local data on a <see cref="T:System.Collections.Concurrent.Partitioner" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-729">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-729">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-730">Эта перегрузка предоставляется для сценариев, где вы хотите переопределить схему разбиения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-730">This overload is provided for scenarios where you want to override the default partitioning scheme.</span></span> <span data-ttu-id="be7f8-731">Например небольших тел циклов может использовать разделение диапазона.</span><span class="sxs-lookup"><span data-stu-id="be7f8-731">For example, small loop bodies might benefit from partitioning the range.</span></span> <span data-ttu-id="be7f8-732"><xref:System.Threading.Tasks.Parallel.ForEach%2A> Метод ожидает, что пользовательские разделители для поддержки динамического секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-732">The <xref:System.Threading.Tasks.Parallel.ForEach%2A> method expects custom partitioners to support dynamic partitioning.</span></span> <span data-ttu-id="be7f8-733">Эта перегрузка предоставляется для сценариев с помощью небольших тел циклов, которые могут использовать преимущества статического диапазона секционирования.</span><span class="sxs-lookup"><span data-stu-id="be7f8-733">This overload is provided for scenarios with small loop bodies that might benefit from static range partitioning.</span></span> <span data-ttu-id="be7f8-734">Разделители должны поддерживать динамические секции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-734">Partitioners must support dynamic partitions.</span></span>  <span data-ttu-id="be7f8-735">Дополнительные сведения см. в разделе [пользовательские разделители для PLINQ и TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) и [как: Реализация динамических разделов](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-735">For more information, see [Custom Partitioners for PLINQ and TPL](~/docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [How to: Implement Dynamic Partitions](~/docs/standard/parallel-programming/how-to-implement-dynamic-partitions.md).</span></span>  
  
 <span data-ttu-id="be7f8-736">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-736">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-737">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-737">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-738">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-738">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-739">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-739">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-740">`localFinally` Делегат вызывается один раз на задачу для выполнения финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-740">The `localFinally` delegate is invoked once per task to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-741">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-741">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-742"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-742">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-743">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-743">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-744">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-744">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-745">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-745">-or-</span></span> 
<span data-ttu-id="be7f8-746">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-746">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-747">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-747">-or-</span></span> 
<span data-ttu-id="be7f8-748">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-748">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-749">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-749">-or-</span></span> 
<span data-ttu-id="be7f8-750">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-750">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-751">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-751">-or-</span></span> 
<span data-ttu-id="be7f8-752">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-752">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.InvalidOperationException"><span data-ttu-id="be7f8-753">Свойство <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> в разделителе <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> возвращает значение <see langword="false" /> или разделитель возвращает части со значением <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-753">The <see cref="P:System.Collections.Concurrent.Partitioner`1.SupportsDynamicPartitions" /> property in the <paramref name="source" /><see cref="T:System.Collections.Concurrent.Partitioner" /> returns <see langword="false" /> or the partitioner returns <see langword="null" /> partitions.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-754">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-754">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-755">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-755">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-756"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-756">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-757">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-757">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,long,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`5&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, int64, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Generic.IEnumerable{``0},System.Threading.Tasks.ParallelOptions,System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,System.Int64,``1,``1},System.Action{``1})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, long, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, int64, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,System.Int64,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-758">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-758">The type of the data in the source.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-759">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-759">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-760">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-760">An enumerable data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-761">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-761">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-762">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-762">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-763">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-763">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-764">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-764">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-765">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с 64-разрядными индексами и локальными данными потока для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-765">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data and 64-bit indexes on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-766">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-766">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-767">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-767">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-768">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно, индекс текущего элемента (<xref:System.Int64>) и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-768">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, the current element's index (<xref:System.Int64>), and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-769">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-769">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-770">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-770">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-771">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-771">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-772">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-772">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-773">`localFinally` Делегат вызывается один раз за поток, выполняющий финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-773">The `localFinally` delegate is invoked once per thread to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-774">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-774">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-775"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-775">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-776">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-776">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-777">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-777">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-778">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-778">-or-</span></span> 
<span data-ttu-id="be7f8-779">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-779">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-780">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-780">-or-</span></span> 
<span data-ttu-id="be7f8-781">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-781">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-782">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-782">-or-</span></span> 
<span data-ttu-id="be7f8-783">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-783">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-784">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-784">-or-</span></span> 
<span data-ttu-id="be7f8-785">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-785">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-786">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-786">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-787"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-787">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-788">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-788">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-789">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-789">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <Member MemberName="ForEach&lt;TSource,TLocal&gt;">
      <MemberSignature Language="C#" Value="public static System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource,TLocal&gt; (System.Collections.Generic.IEnumerable&lt;TSource&gt; source, System.Threading.Tasks.ParallelOptions parallelOptions, Func&lt;TLocal&gt; localInit, Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt; body, Action&lt;TLocal&gt; localFinally);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig valuetype System.Threading.Tasks.ParallelLoopResult ForEach&lt;TSource, TLocal&gt;(class System.Collections.Generic.IEnumerable`1&lt;!!TSource&gt; source, class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Func`1&lt;!!TLocal&gt; localInit, class System.Func`4&lt;!!TSource, class System.Threading.Tasks.ParallelLoopState, !!TLocal, !!TLocal&gt; body, class System.Action`1&lt;!!TLocal&gt; localFinally) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.ForEach``2(System.Collections.Generic.IEnumerable{``0},System.Threading.Tasks.ParallelOptions,System.Func{``1},System.Func{``0,System.Threading.Tasks.ParallelLoopState,``1,``1},System.Action{``1})" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA;generic &lt;typename TSource, typename TLocal&gt;&#xA; static System::Threading::Tasks::ParallelLoopResult ForEach(System::Collections::Generic::IEnumerable&lt;TSource&gt; ^ source, System::Threading::Tasks::ParallelOptions ^ parallelOptions, Func&lt;TLocal&gt; ^ localInit, Func&lt;TSource, System::Threading::Tasks::ParallelLoopState ^, TLocal, TLocal&gt; ^ body, Action&lt;TLocal&gt; ^ localFinally);" />
      <MemberSignature Language="F#" Value="static member ForEach : seq&lt;'Source&gt; * System.Threading.Tasks.ParallelOptions * Func&lt;'Local&gt; * Func&lt;'Source, System.Threading.Tasks.ParallelLoopState, 'Local, 'Local&gt; * Action&lt;'Local&gt; -&gt; System.Threading.Tasks.ParallelLoopResult" Usage="System.Threading.Tasks.Parallel.ForEach (source, parallelOptions, localInit, body, localFinally)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Threading.Tasks.ParallelLoopResult</ReturnType>
      </ReturnValue>
      <TypeParameters>
        <TypeParameter Name="TSource" />
        <TypeParameter Name="TLocal" />
      </TypeParameters>
      <Parameters>
        <Parameter Name="source" Type="System.Collections.Generic.IEnumerable&lt;TSource&gt;" />
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="localInit" Type="System.Func&lt;TLocal&gt;" />
        <Parameter Name="body" Type="System.Func&lt;TSource,System.Threading.Tasks.ParallelLoopState,TLocal,TLocal&gt;" />
        <Parameter Name="localFinally" Type="System.Action&lt;TLocal&gt;" />
      </Parameters>
      <Docs>
        <typeparam name="TSource"><span data-ttu-id="be7f8-790">Тип данных в источнике.</span><span class="sxs-lookup"><span data-stu-id="be7f8-790">The type of the data in the source.</span></span></typeparam>
        <typeparam name="TLocal"><span data-ttu-id="be7f8-791">Тип данных, локальных для потока.</span><span class="sxs-lookup"><span data-stu-id="be7f8-791">The type of the thread-local data.</span></span></typeparam>
        <param name="source"><span data-ttu-id="be7f8-792">Перечислимый источник данных.</span><span class="sxs-lookup"><span data-stu-id="be7f8-792">An enumerable data source.</span></span></param>
        <param name="parallelOptions"><span data-ttu-id="be7f8-793">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-793">An object that configures the behavior of this operation.</span></span></param>
        <param name="localInit"><span data-ttu-id="be7f8-794">Делегат функции, который возвращает начальное состояние локальных данных для каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-794">The function delegate that returns the initial state of the local data for each task.</span></span></param>
        <param name="body"><span data-ttu-id="be7f8-795">Делегат, который вызывается один раз за итерацию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-795">The delegate that is invoked once per iteration.</span></span></param>
        <param name="localFinally"><span data-ttu-id="be7f8-796">Делегат, который выполняет финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-796">The delegate that performs a final action on the local state of each task.</span></span></param>
        <summary><span data-ttu-id="be7f8-797">Выполняет операцию <see langword="foreach" /> (<see langword="For Each" /> в Visual Basic) с локальными данными потока для объекта <see cref="T:System.Collections.IEnumerable" />, обеспечивая возможность параллельного выполнения итераций, настройки параметров цикла, а также контроля состояния цикла и управления этим состоянием.</span><span class="sxs-lookup"><span data-stu-id="be7f8-797">Executes a <see langword="foreach" /> (<see langword="For Each" /> in Visual Basic) operation with thread-local data on an <see cref="T:System.Collections.IEnumerable" /> in which iterations may run in parallel, loop options can be configured, and the state of the loop can be monitored and manipulated.</span></span></summary>
        <returns><span data-ttu-id="be7f8-798">Структура, в которой содержатся сведения о выполненной части цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-798">A structure that contains information about which portion of the loop completed.</span></span></returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-799">`body` Делегат вызывается один раз для каждого элемента в `source` enumerable.</span><span class="sxs-lookup"><span data-stu-id="be7f8-799">The `body` delegate is invoked once for each element in the `source` enumerable.</span></span> <span data-ttu-id="be7f8-800">Он предоставляется со следующими параметрами: текущего элемента, <xref:System.Threading.Tasks.ParallelLoopState> экземпляр, который может использоваться для выхода из цикла, преждевременно и некоторые локальное состояние, которое может быть общим для итераций, которые выполняются в одном потоке.</span><span class="sxs-lookup"><span data-stu-id="be7f8-800">It is provided with the following parameters: the current element, a <xref:System.Threading.Tasks.ParallelLoopState> instance that may be used to break out of the loop prematurely, and some local state that may be shared amongst iterations that execute on the same thread.</span></span>  
  
 <span data-ttu-id="be7f8-801">`localInit` Делегат вызывается один раз для каждой задачи, которая участвует в выполнении цикла и возвращает начальное локальное состояние для каждой из этих задач.</span><span class="sxs-lookup"><span data-stu-id="be7f8-801">The `localInit` delegate is invoked once for each task that participates in the loop's execution and returns the initial local state for each of those tasks.</span></span> <span data-ttu-id="be7f8-802">Эти начальные состояния передаются первому `body` вызовов по каждой задаче.</span><span class="sxs-lookup"><span data-stu-id="be7f8-802">These initial states are passed to the first `body` invocations on each task.</span></span> <span data-ttu-id="be7f8-803">Затем вызов каждого последующего тела возвращает потенциально измененное значение состояния, передается следующему вызову тела.</span><span class="sxs-lookup"><span data-stu-id="be7f8-803">Then, every subsequent body invocation returns a possibly modified state value that is passed to the next body invocation.</span></span> <span data-ttu-id="be7f8-804">Наконец, последний вызов текст на каждой задачи возвращает значение состояния, который передается `localFinally` делегировать.</span><span class="sxs-lookup"><span data-stu-id="be7f8-804">Finally, the last body invocation on each task returns a state value that is passed to the `localFinally` delegate.</span></span> <span data-ttu-id="be7f8-805">`localFinally` Делегат вызывается один раз за поток, выполняющий финальное действие с локальным состоянием каждой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-805">The `localFinally` delegate is invoked once per thread to perform a final action on each task's local state.</span></span> <span data-ttu-id="be7f8-806">Этот делегат может быть вызван одновременно несколько задач; Таким образом необходимо синхронизировать доступ ко всем общим переменным.</span><span class="sxs-lookup"><span data-stu-id="be7f8-806">This delegate might be invoked concurrently on multiple tasks; therefore, you must synchronize access to any shared variables.</span></span>  
  
 <span data-ttu-id="be7f8-807"><xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> Метод может использовать несколько задач, чем число потоков на протяжении всего его выполнения, при завершении существующих задач и заменяются новой задачи.</span><span class="sxs-lookup"><span data-stu-id="be7f8-807">The <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method may use more tasks than threads over the lifetime of its execution, as existing tasks complete and are replaced by new tasks.</span></span> <span data-ttu-id="be7f8-808">Это обеспечивает базовый <xref:System.Threading.Tasks.TaskScheduler> объекта вероятность того, чтобы добавить, изменить или удалить потоков, обслуживающих цикла.</span><span class="sxs-lookup"><span data-stu-id="be7f8-808">This gives the underlying <xref:System.Threading.Tasks.TaskScheduler> object the chance to add, change, or remove threads that service the loop.</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-809">Аргумент <paramref name="source" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-809">The <paramref name="source" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-810">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-810">-or-</span></span> 
<span data-ttu-id="be7f8-811">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-811">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-812">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-812">-or-</span></span> 
<span data-ttu-id="be7f8-813">Аргумент <paramref name="body" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-813">The <paramref name="body" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-814">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-814">-or-</span></span> 
<span data-ttu-id="be7f8-815">Аргумент <paramref name="localInit" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-815">The <paramref name="localInit" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-816">- или -</span><span class="sxs-lookup"><span data-stu-id="be7f8-816">-or-</span></span> 
<span data-ttu-id="be7f8-817">Аргумент <paramref name="localFinally" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-817">The <paramref name="localFinally" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-818">Токен <see cref="T:System.Threading.CancellationToken" /> в аргументе <paramref name="parallelOptions" /> отменен.</span><span class="sxs-lookup"><span data-stu-id="be7f8-818">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> argument is canceled.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-819"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-819">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-820">Исключение, которое содержит все отдельные исключения, создаваемые во всех потоках.</span><span class="sxs-lookup"><span data-stu-id="be7f8-820">The exception that contains all the individual exceptions thrown on all threads.</span></span></exception>
        <related type="Article" href="https://docs.microsoft.com/previous-versions/msp-n-p/ff963552(v=pandp.10)"><span data-ttu-id="be7f8-821">Параллельные циклы</span><span class="sxs-lookup"><span data-stu-id="be7f8-821">Parallel Loops</span></span></related>
      </Docs>
    </Member>
    <MemberGroup MemberName="Invoke">
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <Docs>
        <summary><span data-ttu-id="be7f8-822">Выполняет все предоставленные действия, по возможности в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="be7f8-822">Executes each of the provided actions, possibly in parallel.</span></span></summary>
      </Docs>
    </MemberGroup>
    <Member MemberName="Invoke">
      <MemberSignature Language="C#" Value="public static void Invoke (params Action[] actions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Invoke(class System.Action[] actions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.Invoke(System.Action[])" />
      <MemberSignature Language="VB.NET" Value="Public Shared Sub Invoke (ParamArray actions As Action())" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Invoke(... cli::array &lt;Action ^&gt; ^ actions);" />
      <MemberSignature Language="F#" Value="static member Invoke : Action[] -&gt; unit" Usage="System.Threading.Tasks.Parallel.Invoke actions" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="actions" Type="System.Action[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="actions"><span data-ttu-id="be7f8-823">Массив действий <see cref="T:System.Action" /> для выполнения.</span><span class="sxs-lookup"><span data-stu-id="be7f8-823">An array of <see cref="T:System.Action" /> to execute.</span></span></param>
        <summary><span data-ttu-id="be7f8-824">Выполняет все предоставленные действия, по возможности в параллельном режиме.</span><span class="sxs-lookup"><span data-stu-id="be7f8-824">Executes each of the provided actions, possibly in parallel.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-825">Этот метод может использоваться для выполнения набора операций, потенциально параллельно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-825">This method can be used to execute a set of operations, potentially in parallel.</span></span>  
  
 <span data-ttu-id="be7f8-826">Нет гарантии предоставляются о порядке, в которой выполнение операции, или они выполняются параллельно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-826">No guarantees are made about the order in which the operations execute or whether they execute in parallel.</span></span> <span data-ttu-id="be7f8-827">Этот метод не возвращает до завершения каждой из предоставленного операций, независимо от того, происходит ли завершение из-за обычного или в результате исключения.</span><span class="sxs-lookup"><span data-stu-id="be7f8-827">This method does not return until each of the provided operations has completed, regardless of whether completion occurs due to normal or exceptional termination.</span></span>  
  
 <span data-ttu-id="be7f8-828">Дополнительные сведения см. в разделе [Практическое руководство. Использование метода Parallel.Invoke для выполнения простых параллельных задач](~/docs/standard/parallel-programming/how-to-use-parallel-invoke-to-execute-parallel-operations.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-828">For more information, see [How to: Use Parallel.Invoke to Execute Parallel Operations](~/docs/standard/parallel-programming/how-to-use-parallel-invoke-to-execute-parallel-operations.md).</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="be7f8-829">В этом примере демонстрируется использование <xref:System.Threading.Tasks.Parallel.Invoke%2A> метод с помощью других методов, анонимных делегатов и лямбда-выражения.</span><span class="sxs-lookup"><span data-stu-id="be7f8-829">This example demonstrates how to use the <xref:System.Threading.Tasks.Parallel.Invoke%2A> method with other methods, anonymous delegates, and lambda expressions.</span></span>  
  
 [!code-csharp[System.Threading.Tasks.Parallel#01](~/samples/snippets/csharp/VS_Snippets_CLR_System/system.threading.tasks.parallel/cs/parallelinvoke.cs#01)]
 [!code-vb[System.Threading.Tasks.Parallel#01](~/samples/snippets/visualbasic/VS_Snippets_CLR_System/system.threading.tasks.parallel/vb/parallelinvoke.vb#01)]  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-830">Аргумент <paramref name="actions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-830">The <paramref name="actions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-831">Исключение, которое возникает, когда любое действие в массиве <paramref name="actions" /> создает исключение.</span><span class="sxs-lookup"><span data-stu-id="be7f8-831">The exception that is thrown when any action in the <paramref name="actions" /> array throws an exception.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="be7f8-832">Массив <paramref name="actions" /> содержит элемент <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-832">The <paramref name="actions" /> array contains a <see langword="null" /> element.</span></span></exception>
      </Docs>
    </Member>
    <Member MemberName="Invoke">
      <MemberSignature Language="C#" Value="public static void Invoke (System.Threading.Tasks.ParallelOptions parallelOptions, params Action[] actions);" />
      <MemberSignature Language="ILAsm" Value=".method public static hidebysig void Invoke(class System.Threading.Tasks.ParallelOptions parallelOptions, class System.Action[] actions) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Threading.Tasks.Parallel.Invoke(System.Threading.Tasks.ParallelOptions,System.Action[])" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static void Invoke(System::Threading::Tasks::ParallelOptions ^ parallelOptions, ... cli::array &lt;Action ^&gt; ^ actions);" />
      <MemberSignature Language="F#" Value="static member Invoke : System.Threading.Tasks.ParallelOptions * Action[] -&gt; unit" Usage="System.Threading.Tasks.Parallel.Invoke (parallelOptions, actions)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Threading.Tasks.Parallel</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.3.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>mscorlib</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="parallelOptions" Type="System.Threading.Tasks.ParallelOptions" />
        <Parameter Name="actions" Type="System.Action[]">
          <Attributes>
            <Attribute>
              <AttributeName>System.ParamArray</AttributeName>
            </Attribute>
          </Attributes>
        </Parameter>
      </Parameters>
      <Docs>
        <param name="parallelOptions"><span data-ttu-id="be7f8-833">Объект, используемый для настройки поведения этой операции.</span><span class="sxs-lookup"><span data-stu-id="be7f8-833">An object that configures the behavior of this operation.</span></span></param>
        <param name="actions"><span data-ttu-id="be7f8-834">Массив действий для выполнения.</span><span class="sxs-lookup"><span data-stu-id="be7f8-834">An array of actions to execute.</span></span></param>
        <summary><span data-ttu-id="be7f8-835">Выполняет каждое из указанных действий по возможности в параллельном режиме, если операция не отменена пользователем.</span><span class="sxs-lookup"><span data-stu-id="be7f8-835">Executes each of the provided actions, possibly in parallel, unless the operation is cancelled by the user.</span></span></summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="be7f8-836">Этот метод может использоваться для выполнения набора операций, потенциально параллельно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-836">This method can be used to execute a set of operations, potentially in parallel.</span></span> <span data-ttu-id="be7f8-837">Токен отмены, переданный с помощью <xref:System.Threading.Tasks.ParallelOptions> структура позволяет вызывающему объекту отменить всю операцию.</span><span class="sxs-lookup"><span data-stu-id="be7f8-837">The cancellation token passed in with the <xref:System.Threading.Tasks.ParallelOptions> structure enables the caller to cancel the entire operation.</span></span> <span data-ttu-id="be7f8-838">См. дополнительные сведения об [отмене в управляемых потоках](~/docs/standard/threading/cancellation-in-managed-threads.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-838">For more information, see [Cancellation in Managed Threads](~/docs/standard/threading/cancellation-in-managed-threads.md).</span></span>  
  
 <span data-ttu-id="be7f8-839">Нет гарантии предоставляются о порядке, в которой выполнение операции, или они выполняются параллельно.</span><span class="sxs-lookup"><span data-stu-id="be7f8-839">No guarantees are made about the order in which the operations execute or whether they execute in parallel.</span></span> <span data-ttu-id="be7f8-840">Этот метод не возвращает до завершения каждой из предоставленного операций, независимо от того, происходит ли завершение из-за обычного или в результате исключения.</span><span class="sxs-lookup"><span data-stu-id="be7f8-840">This method does not return until each of the provided operations has completed, regardless of whether completion occurs due to normal or exceptional termination.</span></span>  
  
 <span data-ttu-id="be7f8-841">Дополнительные сведения см. в разделе [Практическое руководство. Использование метода Parallel.Invoke для выполнения простых параллельных задач](~/docs/standard/parallel-programming/how-to-use-parallel-invoke-to-execute-parallel-operations.md).</span><span class="sxs-lookup"><span data-stu-id="be7f8-841">For more information, see [How to: Use Parallel.Invoke to Execute Parallel Operations](~/docs/standard/parallel-programming/how-to-use-parallel-invoke-to-execute-parallel-operations.md).</span></span>  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.OperationCanceledException"><span data-ttu-id="be7f8-842"><see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" /> задан.</span><span class="sxs-lookup"><span data-stu-id="be7f8-842">The <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> is set.</span></span></exception>
        <exception cref="T:System.ArgumentNullException"><span data-ttu-id="be7f8-843">Аргумент <paramref name="actions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-843">The <paramref name="actions" /> argument is <see langword="null" />.</span></span>  
  
<span data-ttu-id="be7f8-844">-или-</span><span class="sxs-lookup"><span data-stu-id="be7f8-844">-or-</span></span> 
<span data-ttu-id="be7f8-845">Аргумент <paramref name="parallelOptions" /> имеет значение <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-845">The <paramref name="parallelOptions" /> argument is <see langword="null" />.</span></span></exception>
        <exception cref="T:System.AggregateException"><span data-ttu-id="be7f8-846">Исключение, которое возникает, когда любое действие в массиве <paramref name="actions" /> создает исключение.</span><span class="sxs-lookup"><span data-stu-id="be7f8-846">The exception that is thrown when any action in the <paramref name="actions" /> array throws an exception.</span></span></exception>
        <exception cref="T:System.ArgumentException"><span data-ttu-id="be7f8-847">Массив <paramref name="actions" /> содержит элемент <see langword="null" />.</span><span class="sxs-lookup"><span data-stu-id="be7f8-847">The <paramref name="actions" /> array contains a <see langword="null" /> element.</span></span></exception>
        <exception cref="T:System.ObjectDisposedException"><span data-ttu-id="be7f8-848"><see cref="T:System.Threading.CancellationTokenSource" />, связанный с <see cref="T:System.Threading.CancellationToken" /> в <paramref name="parallelOptions" />, удален.</span><span class="sxs-lookup"><span data-stu-id="be7f8-848">The <see cref="T:System.Threading.CancellationTokenSource" /> associated with the <see cref="T:System.Threading.CancellationToken" /> in the <paramref name="parallelOptions" /> has been disposed.</span></span></exception>
      </Docs>
    </Member>
  </Members>
</Type>