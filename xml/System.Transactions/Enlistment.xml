<Type Name="Enlistment" FullName="System.Transactions.Enlistment">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="83677dcd285d02d338157cbdb038740221f092c8" />
    <Meta Name="ms.sourcegitcommit" Value="6a0b904069161bbaec4ffd02aa7d9cf38c61e72e" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="06/24/2018" />
    <Meta Name="ms.locfileid" Value="36406281" />
  </Metadata>
  <TypeSignature Language="C#" Value="public class Enlistment" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit Enlistment extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Transactions.Enlistment" />
  <TypeSignature Language="VB.NET" Value="Public Class Enlistment" />
  <TypeSignature Language="C++ CLI" Value="public ref class Enlistment" />
  <TypeSignature Language="F#" Value="type Enlistment = class" />
  <AssemblyInfo>
    <AssemblyName>System.Transactions</AssemblyName>
    <AssemblyVersion>2.0.5.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>netstandard</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <AssemblyInfo>
    <AssemblyName>System.Transactions.Local</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Облегчает взаимодействие между включенным в список участником транзакции и диспетчером транзакций на завершающем этапе транзакции.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Когда <xref:System.Transactions.Transaction.EnlistVolatile%2A> и <xref:System.Transactions.Transaction.EnlistDurable%2A> методы <xref:System.Transactions.Transaction> объекта вызываются заключается в зачислении участника в транзакцию, они возвращают этот объект, описывающий зачисление.  
  
 Во время фазы фиксации транзакции диспетчера транзакций передает этот объект реализации диспетчера ресурсов <xref:System.Transactions.IEnlistmentNotification> интерфейс, который прикрепляется к транзакции. В частности, диспетчер транзакций вызывает либо <xref:System.Transactions.IEnlistmentNotification.Commit%2A> или <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> метод участника, в зависимости от того, было ли последнее принял решение зафиксировать или откатить транзакцию. Участник должен вызывать <xref:System.Transactions.Enlistment.Done%2A> метод этого объекта, чтобы знать, что он завершил свою работу диспетчера транзакций.  
  
 Перечисления можно вызвать <xref:System.Transactions.Enlistment.Done%2A> в любое время перед его вызван метод <xref:System.Transactions.PreparingEnlistment.Prepared%2A> на этапе подготовки.  Таким образом, прикрепление является приведение чтения только голоса, это означает, что оно голосует за фиксацию транзакции, но не требуется получения окончательного результата. Обратите внимание, что после <xref:System.Transactions.Enlistment.Done%2A> вызывается метод, прикрепленная участник получает больше не будет получать уведомлений от диспетчера транзакций.  
  
   
  
## Examples  
 В следующем примере показана реализация <xref:System.Transactions.IEnlistmentNotification> интерфейс и когда <xref:System.Transactions.Enlistment.Done%2A> метод должен вызываться.  
  
 [!code-csharp[Tx_Enlist#2](~/samples/snippets/csharp/VS_Snippets_CFX/tx_enlist/cs/enlist.cs#2)]
 [!code-vb[Tx_Enlist#2](~/samples/snippets/visualbasic/VS_Snippets_CFX/tx_enlist/vb/enlist.vb#2)]  
  
 ]]></format>
    </remarks>
    <threadsafe>Данный тип потокобезопасен.</threadsafe>
    <altmember cref="T:System.Transactions.PreparingEnlistment" />
    <altmember cref="T:System.Transactions.IEnlistmentNotification" />
  </Docs>
  <Members>
    <Member MemberName="Done">
      <MemberSignature Language="C#" Value="public void Done ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance void Done() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Transactions.Enlistment.Done" />
      <MemberSignature Language="VB.NET" Value="Public Sub Done ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; void Done();" />
      <MemberSignature Language="F#" Value="member this.Done : unit -&gt; unit" Usage="enlistment.Done " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Transactions</AssemblyName>
        <AssemblyVersion>2.0.5.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>netstandard</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <AssemblyInfo>
        <AssemblyName>System.Transactions.Local</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Указывает, что участник транзакции завершил свою работу.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Во время фазы фиксации транзакции, диспетчер транзакций вызывает <xref:System.Transactions.IEnlistmentNotification.Commit%2A>, <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> или <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> метод участника, в зависимости от того, было ли транзакция зафиксирована или выполнен откат. Диспетчер ресурсов должен выполнить любые действия, необходимые для завершения транзакции и затем информирования диспетчера транзакций о завершении путем вызова <xref:System.Transactions.Enlistment.Done%2A> метод `enlistment` параметра.  
  
 Если диспетчер ресурсов включен в список, но не отвечает, вызвав <xref:System.Transactions.Enlistment.Done%2A> , диспетчер транзакций сомнения в том, что диспетчер ресурсов получил вызов соответствующие уведомления. Таким образом диспетчер транзакций отслеживает Ожидание ответа и хранит сведения, относящиеся к этой транзакции.  Если <xref:System.Transactions.Enlistment.Done%2A> — никогда не вызывается, этот фрагмент данных хранятся бессрочно в памяти или системных ресурсов. Это приводит к ресурсам, не может быть освобождена. В случае распределенных транзакций это со временем заполнения журнала MSDTC, которое останавливает процесс MSDTC. В случае транзакции, управляемой <xref:System.Transactions>, это приводит к постепенному увеличению потребления памяти процессом диспетчера ресурсов. Таким образом, очень важно, вызвать <xref:System.Transactions.Enlistment.Done%2A> метод после завершения диспетчер ресурсов вашей Подготовка работы.  
  
 Перечисления можно вызвать <xref:System.Transactions.Enlistment.Done%2A> в любое время перед его вызван метод <xref:System.Transactions.PreparingEnlistment.Prepared%2A> на этапе подготовки. Таким образом, прикрепление является приведение чтения только голоса, это означает, что оно голосует за фиксацию транзакции, но не требуется получения окончательного результата. Обратите внимание, что после вызова этого метода, прикрепленная участник получает больше не будет получать уведомлений от диспетчера транзакций.  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Transactions.PreparingEnlistment" />
        <altmember cref="T:System.Transactions.IEnlistmentNotification" />
      </Docs>
    </Member>
  </Members>
</Type>