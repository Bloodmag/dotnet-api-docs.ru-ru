<Type Name="PersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.PersonalizationProvider">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="e6b4385b1e11acc80b4dbe543f5244ffb8f83df9" />
    <Meta Name="ms.sourcegitcommit" Value="d31dc2ede16f6f7bc64e90d9f897ff54c4e3869b" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="04/03/2018" />
    <Meta Name="ms.locfileid" Value="30590998" />
  </Metadata>
  <TypeSignature Language="C#" Value="public abstract class PersonalizationProvider : System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi abstract beforefieldinit PersonalizationProvider extends System.Configuration.Provider.ProviderBase" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public MustInherit Class PersonalizationProvider&#xA;Inherits ProviderBase" />
  <TypeSignature Language="C++ CLI" Value="public ref class PersonalizationProvider abstract : System::Configuration::Provider::ProviderBase" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Configuration.Provider.ProviderBase</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Реализует базовые функциональные возможности для поставщика личной настройки.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Это абстрактный базовый класс, который определяет требуемую функциональность поставщик персонализации. Поставщик персонализации загружает и хранит данные персонализации, от имени которого <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляра.  
  
 Базовый класс определяет поведение по стандарту для числа методов. абстрактными помечаются только те методы, которые специально предназначены для работы с базового хранилища данных. Это позволяет разработчику писать пользовательский поставщик для взаимодействия с хранилищем данных, без необходимости реализации стандартных функций, используемых <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класса.  
  
 ]]></format>
    </remarks>
    <block subset="none" type="overrides">
      <para>Можно наследовать от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> и предоставляют реализации абстрактных методов, определенных в этом классе. Абстрактные методы работы, в частности для сохранения и загрузки данных к физическому хранилищу данных и администрирования хранилища данных. Настраиваемый поставщик должен иметь возможность работы с ними персонализации таким способом, который отличает <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> данные из <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> данных. Кроме того поставщик должен разделять данные персонализации по страницам и приложением.  
  
 Реализации <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> тесно связана с реализациями <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" /> , так как некоторые методы поставщик персонализации возвращают экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />-производные классы. Для облегчения разработки настраиваемых поставщиков <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" /> базовый класс содержит реализацию по умолчанию персонализации логики и логики сериализации или десериализации, используемый напрямую с помощью <see cref="T:System.Web.UI.WebControls.WebParts.WebPartPersonalization" /> класса. В результате создания пользовательского поставщика, предназначенного исключительно для работы с другим хранилищем данных, необходимо реализовать только следующие абстрактные методы:  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" /> -Этот метод необходимо подсчета числа строк данных персонализации в базе данных для предоставленного запроса параметров.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" /> -Заданный путь и имя пользователя, этот метод загружает два больших двоичных объектов (BLOB) из базы данных: один BLOB-объект для данных, так и пользовательские данные. Если указать путь и имя пользователя, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> элемента управления для доступа к данным страницы, который будет поставлять данные путь и имя пользователя.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" /> -Заданный путь и имя пользователя, этот метод удаляет соответствующую строку в базе данных. Если указать путь и имя пользователя, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> элемента управления для доступа к данным страницы, который будет поставлять данные путь и имя пользователя.  
  
-   <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" /> -Заданный путь и имя пользователя, этот метод сохраняет указанный большой двоичный объект в базе данных. Если указать путь и имя пользователя, то нет необходимости <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" /> элемента управления для доступа к данным страницы, который будет поставлять данные путь и имя пользователя.  
  
 Во всех этих методов если только предоставляется путь, который указывает, что выполняется работа с общими данными персонализации для страницы. Если путь и имя пользователя передаваемое методу, данные персонализации пользователя для страницы должен выполнять действия. В случае использования <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />, всегда должны загружаться общих данных для указанного пути, и при необходимости данные персонализации пользователя для пути должен загружаться, если имя пользователя не является <see langword="null" />.  
  
 Все абстрактные методы предназначены для использования только в приложениях администрирования и не используются инфраструктурой веб-частей во время выполнения. Пример реализации поставщика персонализации см. в разделе <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" /> класса.</para>
    </block>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="protected PersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Protected Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; PersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Так как это конструктор абстрактный класс должен переопределять этот метод для создания экземпляра класса, который наследует от этого класса.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public abstract string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>При переопределении в производном классе получает или задает имя приложения, настроенного для поставщика.</summary>
        <value>Приложение, настроенное для поставщика личной настройки.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Если имя приложения не указан в файле конфигурации с помощью [поставщики элемент для персонализации для веб-части (схема параметров ASP.NET)](http://msdn.microsoft.com/library/51363b49-eafa-4b9c-b9d0-80086b385195) значение атрибута <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> используется свойство.  
  
> [!CAUTION]
>  Так как один экземпляр поставщика персонализации по умолчанию используется для всех запросов, обслуживаемых <xref:System.Web.HttpApplication> объекта может иметь несколько запросов, выполняемых параллельно, каждая попытка задать <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> значение свойства. <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> Свойство не является потокобезопасным для нескольких операций записи и изменение <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> значение свойства может привести к непредвиденному поведению для нескольких пользователей приложения. Рекомендуется избегать кода, что позволяет пользователям задавать <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> свойство когда не требуется. Параметр <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ApplicationName%2A> свойств может потребоваться, например, в административные приложения, в котором данные персонализации для нескольких приложений.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="CreateSupportedUserCapabilities">
      <MemberSignature Language="C#" Value="protected virtual System.Collections.IList CreateSupportedUserCapabilities ();" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance class System.Collections.IList CreateSupportedUserCapabilities() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities" />
      <MemberSignature Language="VB.NET" Value="Protected Overridable Function CreateSupportedUserCapabilities () As IList" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; virtual System::Collections::IList ^ CreateSupportedUserCapabilities();" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IList</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Возвращает список объектов <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, представляющих набор известных возможностей, используемых набором элементов управления веб-частей.</summary>
        <returns>Объект <see cref="T:System.Collections.IList" />, представляющий набор известных возможностей, используемых набором элементов управления веб-частей.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 В настоящее время этот метод возвращает список, содержащий две возможности: <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability>. Ниже перечислены возможности по умолчанию, которые могут быть определены в [авторизации элемент для персонализации для веб-части (схема параметров ASP.NET)](http://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) элемент в пределах [персонализации элемента для веб-части (ASP.NET Схема параметров)](http://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) элемент[веб-части элемента (схема параметров ASP.NET)](http://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) раздел конфигурации. Если вы решили реализовать инфраструктуры пользовательской персонализации, можно переопределить этот метод и определить собственный набор возможностей, относящихся к авторизации пользователя.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="DetermineInitialScope">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, System.Web.UI.WebControls.WebParts.PersonalizationState loadedState);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope DetermineInitialScope(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, class System.Web.UI.WebControls.WebParts.PersonalizationState loadedState) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineInitialScope(System.Web.UI.WebControls.WebParts.WebPartManager,System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationScope DetermineInitialScope(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::Web::UI::WebControls::WebParts::PersonalizationState ^ loadedState);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationScope</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="loadedState" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, который управляет данными персонализации.</param>
        <param name="loadedState">Сведения о состоянии персонализации.</param>
        <summary>Определяет исходную область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающий текущую область персонализации — <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" /> или <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод определяет, следует ли текущей области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> или <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, используя ссылку на <xref:System.Web.UI.WebControls.WebParts.WebPartManager> управления и персонализации состояние сведения, которые уже была загружена из более ранней версии в жизненном цикле персонализации. Эта информация используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляр для последующих задач, связанных с персонализации.  
  
 Чтобы определить область персонализации используются следующие правила:  
  
-   Область считается изначально <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.  
  
-   Если учетная запись текущего пользователя не прошел проверку подлинности, области значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   Если учетная запись текущего пользователя проходит проверку подлинности, выполняется дополнительная обработка в порядке приоритета:  
  
    -   Если страница находится в режиме обратной передачи, запрос страницы содержит сведения об области из предыдущих визуализации страницы. Если эти данные области указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> использовался области, а затем область, результатом которого является <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
    -   При текущей выполняемой страницы было переноситься на другой странице элемента управления (например, в том случае, если передача управления произошла из-за вызова <xref:System.Web.HttpServerUtility.Transfer%2A> метод; Примечание возникновения этой конкретной проверки для учета между страницы) и, если ранее выполнение страницы были <xref:System.Web.UI.WebControls.WebParts.WebPartManager> экземпляра области присвоено значение `Personalization.Scope` свойство из предыдущего <xref:System.Web.UI.WebControls.WebParts.WebPartManager> экземпляра.  
  
    -   Если предыдущие условия не выполняются, то область для вычисления значения из <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.InitialScope%2A> свойств для текущего <xref:System.Web.UI.WebControls.WebParts.WebPartManager> элемента управления.  
  
 После внесения предыдущего вычисления, и в том случае, если область, результатом которого является <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области, выполняется следующий процесс:  
  
-   Если учетная запись текущего пользователя есть <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> остается возможность, установленным в области <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   Если учетная запись текущего пользователя не имеет <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> возможностей, а затем область сбрасывается до <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>.  
  
-   Если результат всех предыдущих область вычислений <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>, этот результат хранится в виде скрытого поля на странице выполняться в данный момент. Это механизм, посредством которого страница может воспроизводить определения области в ходе последующих обратных передачах.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          Свойство <paramref name="webPartManager" /> имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="DetermineUserCapabilities">
      <MemberSignature Language="C#" Value="public virtual System.Collections.IDictionary DetermineUserCapabilities (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Collections.IDictionary DetermineUserCapabilities(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.DetermineUserCapabilities(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Collections::IDictionary ^ DetermineUserCapabilities(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Collections.IDictionary</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <summary>Возвращает словарь, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, которые представляют возможности учетной записи текущего пользователя, относящиеся к персонализации.</summary>
        <returns>Объект <see cref="T:System.Collections.IDictionary" />, содержащий экземпляры <see cref="T:System.Web.UI.WebControls.WebParts.WebPartUserCapability" />, если учетная запись пользователя прошла проверку подлинности, или значение <see langword="null" />, если учетная запись текущего пользователя не прошла проверку подлинности.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Реализация по умолчанию этот метод использует сведения в [авторизации элемент для персонализации для веб-части (схема параметров ASP.NET)](http://msdn.microsoft.com/library/d190d4ff-1445-4ee1-88eb-9737c7aa1434) элемент в пределах [персонализации элемент для веб-части (схема параметров ASP.NET)](http://msdn.microsoft.com/library/3d77da55-73ce-46ce-97cf-7d2abcaada09) элемент[веб-части элемента (схема параметров ASP.NET)](http://msdn.microsoft.com/library/90af5acc-5a80-4b39-bba7-74afd06b167c) раздела конфигурации в файле Machine.config или Web.config, чтобы определить пользователя права возможности.  
  
 Возможности в словаре будут членами <xref:System.Collections.IList> объект, возвращаемый <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.CreateSupportedUserCapabilities%2A> метод, который в настоящее время включать <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.EnterSharedScopeUserCapability> возможностей и <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.ModifyStateUserCapability> возможностей.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.  
  
 \- или -  
  
 Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentNullException">
          Свойство <paramref name="webPartManager" /> имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public abstract System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32&amp;" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, содержащий данные персонализации для запроса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <param name="pageIndex">Место, где начинается выполнение запроса.</param>
        <param name="pageSize">Число возвращаемых записей.</param>
        <param name="totalRecords">Общее число доступных записей.</param>
        <summary>При переопределении в производном классе возвращает коллекцию, содержащую объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />, на основании области и указанных параметров запроса.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" />, содержащий объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для запроса данных персонализации. В производных реализациях должны следовать правилам, описанным ниже.  
  
 Набор возвращаемых элементов ограничен `pageIndex` и `pageSize` параметров, где `pageSize` задает количество возвращаемых записей и `pageIndex` определяет, какие записи для возврата. Например `pageIndex` 0 и `pageSize` 25 возвращает первые 25 вхождений, пока `pageIndex` 1 и `pageSize` 25 вернет вхождений 26 до 50. Если вы хотите получить все доступные записи, задайте `pageIndex` 0 и `pageSize` для <xref:System.Int32.MaxValue>.  
  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-Производных объектов возвращаются в алфавитном порядке, а также сортируются по сочетание их <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> и <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A> , как в порядке возрастания значения свойств.  
  
 Этот метод передает подстановочные знаки запроса в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает такие символы, как звездочки (*), символ процента (%) или символ подчеркивания (_).  
  
 Как правило, для SQL-совместимый хранилищ данных, можно выполнять поиск с подстановочными символами на частичный путь с подстановочный знак в начале, интерфейса или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство. Например, чтобы найти все пути, начинающиеся с «~/vdir» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение «~/vdir%».  
  
 Аналогичным образом, поиск с подстановочными символами на имя частичной пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство. Например, чтобы найти все имена пользователей, которые начинаются с «John» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «John %».  
  
 Действуют следующие ограничения запроса.  
  
-   Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать либо `null` или значения по умолчанию, то все записи, соответствующие указанной строке `scope` возвращаются параметра.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, возвращаемые записи также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство не `null`, возвращаемые записи также являются имена отфильтрованный на основе пользователей, соответствующих <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, а затем возвращаемые записи фильтруются также для получения только тех записей, связанных с неактивными пользователями. Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойства меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например код может запросить набор записей состояния персонализации, сопоставленных с определенным именем пользователя в общей области. Поскольку имена пользователей не связаны с общими данными, возвращаемая коллекция будет пустой.  
  
 Следующие сочетания параметров могут возвращать непустые коллекции.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область в сочетании со значениями для нескольких или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public abstract int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для запроса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <summary>При переопределении в производном классе возвращает количество строк в базовом хранилище данных, которые существуют в указанной области.</summary>
        <returns>Количество строк в базовом хранилище данных, которые существуют для заданного параметра <paramref name="scope" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для получения количества строк данных персонализации. В производных реализациях должны следовать правилам, описанным ниже.  
  
 Этот метод передает подстановочные знаки запроса в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает такие символы, как звездочки (*), символ процента (%) или символ подчеркивания (_).  
  
 Как правило, для SQL-совместимый хранилищ данных, можно выполнять поиск с подстановочными символами на частичный путь с подстановочный знак в начале, интерфейса или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство. Например, чтобы найти все пути, начинающиеся с «~/vdir» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение «~/vdir%».  
  
 Аналогичным образом, поиск с подстановочными символами на имя частичной пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство. Например, чтобы найти все имена пользователей, которые начинаются с «John» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «John %».  
  
 Действуют следующие ограничения запроса.  
  
-   Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать либо `null` или значения по умолчанию, то все записи, соответствующие указанной строке `scope` параметр учитываются.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, будут также записи инвентаризации отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство не `null`, подсчитанное записей также являются отфильтрованные пользователем на основе имен, соответствующих <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, то подсчитываемые записей также фильтруются для получения только тех записей, связанных с неактивными пользователями. Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойства меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.  
  
 Обратите внимание, что этот метод не проверяет сочетания параметров запроса. Например код может запросить число записей состояния персонализации, сопоставленных с определенным именем пользователя в общей области. Поскольку имена пользователей не связаны с общими данными, количество возвращаемых результатов будет ноль.  
  
 Следующие сочетания параметров могут возвращать ненулевое количество.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область в сочетании со значениями для нескольких или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected abstract void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]&amp;" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]&amp;" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа для их получения.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа для их получения.</param>
        <param name="sharedDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</param>
        <param name="userDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</param>
        <summary>При переопределении в производном классе загружает необработанные данные персонализации из базового хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализовать этот метод следует использовать `webPartManager`, `path`, и `username` параметров, получения ключей. Вне зависимости от данных хранятся в хранилище данных (в некоторых хранилищах данных может выполнить своего рода интеллектуального хранения), данные персонализации должны возвращаться как упакованного набора байт в двух массивах. Возвращаемые данные должны соответствовать следующим правилам:  
  
-   Данные для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область всегда должен быть возвращен в `sharedDataBlob` параметра.  
  
-   В зависимости от значения ключей <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные возвращаются в виде `userDataBlob` параметра. Значение, отличное от`null` значение для `userName` параметр указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> также должны быть получены данные.  
  
 Поставщик персонализации, который является производным от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализует этот метод можно оптимизировать взаимодействия с хранилищем данных, получая все данные персонализации в один цикл обработки, в отличие от получения <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные в двух отдельные циклов приема-передачи.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationState LoadPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, bool ignoreCurrentUser) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual System::Web::UI::WebControls::WebParts::PersonalizationState ^ LoadPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, bool ignoreCurrentUser);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationState</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="ignoreCurrentUser" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="ignoreCurrentUser">Значение <see cref="T:System.Boolean" />, показывающее, должно ли имя пользователя передаваться поставщику личной настройки.</param>
        <summary>Загружает необработанные данные из базового хранилища данных и преобразует их в объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий данные персонализации.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класс, чтобы загрузить данные индивидуальной настройки. Реализация по умолчанию загружает необработанные данные из базового хранилища данных (функциональная возможность реализуется в производном поставщики), а затем преобразует необработанные данные в <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> экземпляра.  
  
 Если `ignoreCurrentUser` параметр `true`, имя пользователя не передается <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationBlobs%2A> метод. Можно выбрать поставщик персонализации, скорее всего, это означает, что только состояние персонализации с <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области должны быть получены из базового хранилища данных.  
  
 Когда <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization.Load%2A> выполняется метод, он вызывает метод <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState%2A> метода, и существует три типа десериализации ошибок, которые могут произойти при загрузке состояния. Когда происходят эти ошибки, исключение не возникает и вместо регистрации событий ошибок с помощью функции наблюдения за работоспособностью (сведения о мониторе работоспособности и доступе к журналам, создаваемым в разделе [Обзор мониторинга работоспособности ASP.NET ](http://msdn.microsoft.com/library/e003f224-70fe-4cd8-a71a-2dc81e2d7e4c)). В следующих трех сценариях происходят ошибки десериализации, события для записи в журнал:  
  
-   Неудачная попытка десериализации типа свойства, которое использует строку <xref:System.ComponentModel.TypeConverter>.  
  
-   Неудачная попытка десериализации типа свойства, использующего двоичную сериализацию.  
  
-   Неудачная попытка десериализации типа свойства, поскольку не удается создать экземпляр типа.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Значение параметра <paramref name="webPartManager" /> — <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Страница, сопоставленная с объектом <paramref name="webPartManager" />, имеет значение <see langword="null" />.  
  
 \- или -  
  
 Запрос, сопоставленный со страницей, имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа хранилища данных.</param>
        <summary>При переопределении в производном классе удаляет необработанные данные персонализации из базового хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Классы, производные от <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider> и реализовать этот метод следует использовать `webPartManager`, `path`, и `userName` параметры в качестве хранилища ключей. В производных реализациях необходимо изменить хранилище данных, чтобы данные персонализации для переданных ключей хранения фактически удаляется. Зависит от производной реализации как физическое выполнение.  
  
 Поставщик персонализации производном необходима возможность различать данные персонализации в отдельных страниц. Кроме того, для состояния на данной странице, поставщик персонализации должен быть различать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область данных. Если значение, отличное от`null` предоставляется имя пользователя, то операция сброса применяется к <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области; в противном случае операция сброса применяется к <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void ResetPersonalizationState (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void ResetPersonalizationState(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void ResetPersonalizationState(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <summary>Сбрасывает данные персонализации в базовом хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класса, чтобы сбросить данные персонализации. Реализация по умолчанию использует <xref:System.Web.UI.WebControls.WebParts.WebPartManager> управления, чтобы определить путь и имя пользователя для данных требуется сбросить. Затем по умолчанию реализация вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> метод.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          Свойство <paramref name="webPartManager" /> имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">
          Объект <paramref name="webPartManager" /> не сопоставлен со страницей.  
  
 \- или -  
  
 Страница не сопоставлена с выполняющимся запросом <see cref="T:System.Web.HttpRequest" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public abstract int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, которому принадлежат данные персонализации для сброса. Это значение не может быть равно <see langword="null" />.</param>
        <param name="paths">Пути к удаляемым данным персонализации.</param>
        <param name="usernames">Имена пользователей для удаляемых данных персонализации.</param>
        <summary>При переопределении в производном классе удаляет состояние персонализации из базового хранилища данных в зависимости от указанных параметров.</summary>
        <returns>Число удаленных строк.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для удаления данных персонализации. В производных реализациях должны следовать правилам, описанным ниже.  
  
 Этот метод поддерживает нет символа поиск с подстановочными знаками. Если поставщик персонализации предоставляет доступ к данным из хранилища данных с поддержкой транзакций, этот метод должен выполнять свои операции в одной атомарной транзакции.  
  
 Допускаются только следующие сочетания параметров:  
  
-   `scope` Имеет параметр, а все остальные параметры имеют значение `null`. Это сочетание удаляет все данные персонализации веб-частей, связанные с области персонализации, заданной параметром `scope`.  
  
-   `scope` Параметр имеет значение и `paths` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные персонализации веб-частей для указанного пути или пути в области персонализации, заданной параметром `scope`.  
  
-   `scope` Параметра равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметр установлен и содержит только одно значение и `usernames` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные веб-частей для заданного пути, связанный с пользователем или пользователями, которые содержатся в персонализации `usernames`.  
  
-   `scope` Параметра равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметра равным `null`и `usernames` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные веб-частей персонализации пользователя для всех путей, связанных с пользователями, содержащихся в `usernames`.  
  
 Другие сочетания значений параметров является недопустимым и вызывает исключение <xref:System.ArgumentException> исключение. В частности не допускаются следующие два сочетания:  
  
-   `usernames` Параметра не может быть обеспечено при `scope` равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   `paths` Параметр не может содержать более одной операции при `usernames` не `null`.  
  
 Любой `paths` и `usernames` содержатся в соответствующих массивах значения параметров должны соответствовать следующим правилам проверки. Если все правила проверки для любого члена массивы параметров, <xref:System.ArgumentException> исключения. Правила проверки являются:  
  
-   `null` значения не допускаются.  
  
-   Пустая строка ("») не допускается. Параметры должны быть сокращены до выполняется проверка пустая строка.  
  
-   `usernames` Параметр не может содержать запятые (,).  
  
-   Длина `paths` параметра не может превышать 256 символов для базы данных SQL.  
  
-   Длина `usernames` параметра не может превышать 256 символов для базы данных SQL.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public abstract int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public MustOverride Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; abstract int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path">Путь к удаляемым данным персонализации. Это значение может быть равно <see langword="null" />, но не может быть пустой строкой ("").</param>
        <param name="userInactiveSinceDate">Дата, указывающая время последнего изменения данных персонализации пользователем веб-сайта.</param>
        <summary>При переопределении в производном классе удаляет данные персонализации веб-частей из базового хранилища данных в зависимости от указанных параметров.</summary>
        <returns>Количество строк, удаленных из базового хранилища данных.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением административного метода для удаления данных персонализации. Обратите внимание, что этот метод влияет только данные персонализации пользователя и не общих данных.  
  
 В производных реализациях должны следовать правилам, описанным ниже:  
  
-   `path` Параметр не может содержать подстановочные знаки.  
  
-   Если поставщик предоставляет данные из хранилища данных с поддержкой транзакций, этот метод должен выполнять свои операции в одной атомарной транзакции.  
  
-   Если `path` параметра не равно`null`, затем только записи пользовательской персонализации связываются с `path` будут удалены.  
  
-   Только записи пользовательской персонализации, связанные с пользователями, которые считаются неактивными с даты, указанной в `userInactiveSinceDate` параметра будут удалены. В частности, записи, в которых <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньше или равно <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> удаляются.  
  
-   Если указаны оба параметра, удаляются записи, удовлетворяющие обоим ограничениям.  
  
-   `path` Параметр может быть `null`.  
  
-   `path` Параметр не может быть пустой строкой. Должен быть сокращен до выполнения этой проверки.  
  
-   Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не может быть равно `null`.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected abstract void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig newslot virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; abstract void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь к данным персонализации, используемый в качестве ключа хранилища данных.</param>
        <param name="userName">Имя пользователя для данных персонализации, используемое в качестве ключа.</param>
        <param name="dataBlob">Массив байт, представляющий сохраняемые данные.</param>
        <summary>При переопределении в производном классе сохраняет необработанные данные персонализации в базовое хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является абстрактным определением метода, используемого для сохранения необработанных данных персонализации в базовом хранилище данных.  
  
 В производных реализациях следует использовать `webPartManager`, `path`, и `userName` параметры в качестве хранилища ключей. Поставщик персонализации производном необходима возможность различать данные персонализации в отдельных страниц. Кроме того, для состояния на данной странице, поставщик должен быть различать <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> и <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области. Если значение, отличное от`null` предоставляется имя пользователя, то `dataBlob` параметра <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> области; в противном случае `dataBlob` параметр считается в <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationState">
      <MemberSignature Language="C#" Value="public virtual void SavePersonalizationState (System.Web.UI.WebControls.WebParts.PersonalizationState state);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig newslot virtual instance void SavePersonalizationState(class System.Web.UI.WebControls.WebParts.PersonalizationState state) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationState(System.Web.UI.WebControls.WebParts.PersonalizationState)" />
      <MemberSignature Language="VB.NET" Value="Public Overridable Sub SavePersonalizationState (state As PersonalizationState)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual void SavePersonalizationState(System::Web::UI::WebControls::WebParts::PersonalizationState ^ state);" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="state" Type="System.Web.UI.WebControls.WebParts.PersonalizationState" />
      </Parameters>
      <Docs>
        <param name="state">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationState" />, содержащий сохраняемые данные персонализации.</param>
        <summary>Сохраняет данные персонализации в хранилище данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод является главной точкой входа используется <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> класса, чтобы сохранить данные персонализации.  
  
 Реализация по умолчанию этот метод использует методы внутренней реализации <xref:System.Web.UI.WebControls.WebParts.PersonalizationState> упаковать данные персонализации в массив байтов. Если результаты этого упаковки создать пустой массив (так как данные персонализации не завершилась извлечение свойства), по умолчанию реализация вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.ResetPersonalizationBlob%2A> метод. В противном случае по умолчанию реализация вызывает <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider.SavePersonalizationBlob%2A> метод.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">
          Свойство <paramref name="state" /> имеет значение <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentException">Сохраняемый объект <paramref name="state" /> имеет тип, отличный от объекта <paramref name="state" />, возвращенного методом <see cref="M:System.Web.UI.WebControls.WebParts.PersonalizationProvider.LoadPersonalizationState(System.Web.UI.WebControls.WebParts.WebPartManager,System.Boolean)" />.</exception>
      </Docs>
    </Member>
  </Members>
</Type>