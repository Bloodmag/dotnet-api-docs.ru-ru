<Type Name="ListViewInsertionMark" FullName="System.Windows.Forms.ListViewInsertionMark">
  <Metadata>
    <Meta Name="ms.openlocfilehash" Value="2e7383a0bdc59f7b3f55dd5bd6162c3f0cd7390c" />
    <Meta Name="ms.sourcegitcommit" Value="5a49536d99d2d0b54e4cb7280870903e043272df" />
    <Meta Name="ms.translationtype" Value="HT" />
    <Meta Name="ms.contentlocale" Value="ru-RU" />
    <Meta Name="ms.lasthandoff" Value="07/03/2018" />
    <Meta Name="ms.locfileid" Value="37510001" />
  </Metadata>
  <TypeSignature Language="C#" Value="public sealed class ListViewInsertionMark" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit ListViewInsertionMark extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Windows.Forms.ListViewInsertionMark" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class ListViewInsertionMark" />
  <TypeSignature Language="C++ CLI" Value="public ref class ListViewInsertionMark sealed" />
  <TypeSignature Language="F#" Value="type ListViewInsertionMark = class" />
  <AssemblyInfo>
    <AssemblyName>System.Windows.Forms</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>
      <span data-ttu-id="5a3e0-101">Используется для указания предполагаемого места вставки при перетаскивании элемента в новое положение в элементе управления <see cref="T:System.Windows.Forms.ListView" />.</span>
      <span class="sxs-lookup">
        <span data-stu-id="5a3e0-101">Used to indicate the expected drop location when an item is dragged to a new position in a <see cref="T:System.Windows.Forms.ListView" /> control.</span>
      </span>
      <span data-ttu-id="5a3e0-102">Эта возможность доступна только в Windows XP и более поздних версиях.</span>
      <span class="sxs-lookup">
        <span data-stu-id="5a3e0-102">This functionality is available only on Windows XP and later.</span>
      </span>
    </summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-103">Вы можете получить <xref:System.Windows.Forms.ListViewInsertionMark> из <xref:System.Windows.Forms.ListView.InsertionMark%2A> свойство <xref:System.Windows.Forms.ListView> управлять и использовать его для визуального указания предполагаемого места вставки в операции перетаскивания и вставки при перетаскивании элемента в новое положение.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-103">You can retrieve a <xref:System.Windows.Forms.ListViewInsertionMark> from the <xref:System.Windows.Forms.ListView.InsertionMark%2A> property of a <xref:System.Windows.Forms.ListView> control and use it to visually indicate the expected drop location in a drag-and-drop operation when an item is dragged to a new position.</span></span>  
  
 <span data-ttu-id="5a3e0-104">Эта функция работает только тогда, когда <xref:System.Windows.Forms.ListView.AutoArrange%2A?displayProperty=nameWithType> свойству `true` и когда <xref:System.Windows.Forms.ListView> управления не приводит к сортировке элементов автоматически.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-104">This feature works only when the <xref:System.Windows.Forms.ListView.AutoArrange%2A?displayProperty=nameWithType> property is set to `true` and when the <xref:System.Windows.Forms.ListView> control does not sort the items automatically.</span></span> <span data-ttu-id="5a3e0-105">Чтобы предотвратить автоматическую сортировку, <xref:System.Windows.Forms.ListView.Sorting%2A?displayProperty=nameWithType> свойству должно быть присвоено <xref:System.Windows.Forms.SortOrder.None?displayProperty=nameWithType> и <xref:System.Windows.Forms.ListView.View%2A?displayProperty=nameWithType> свойству должно быть присвоено <xref:System.Windows.Forms.View.LargeIcon?displayProperty=nameWithType>, <xref:System.Windows.Forms.View.SmallIcon?displayProperty=nameWithType>, или <xref:System.Windows.Forms.View.Tile?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-105">To prevent automatic sorting, the <xref:System.Windows.Forms.ListView.Sorting%2A?displayProperty=nameWithType> property must be set to <xref:System.Windows.Forms.SortOrder.None?displayProperty=nameWithType> and the <xref:System.Windows.Forms.ListView.View%2A?displayProperty=nameWithType> property must be set to <xref:System.Windows.Forms.View.LargeIcon?displayProperty=nameWithType>, <xref:System.Windows.Forms.View.SmallIcon?displayProperty=nameWithType>, or <xref:System.Windows.Forms.View.Tile?displayProperty=nameWithType>.</span></span> <span data-ttu-id="5a3e0-106">Кроме того, функция метки вставки не может использоваться с <xref:System.Windows.Forms.ListView> функции группирования, так как функция группирования упорядочивает элементы по членство в группе.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-106">Additionally, the insertion mark feature cannot be used with the <xref:System.Windows.Forms.ListView> grouping feature because the grouping feature orders the items by group membership.</span></span>  
  
 <span data-ttu-id="5a3e0-107"><xref:System.Windows.Forms.ListViewInsertionMark> Класс обычно используется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> или <xref:System.Windows.Forms.Control.MouseMove?displayProperty=nameWithType> событием, обновляют позиции знака вставки при перетаскивании элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-107">The <xref:System.Windows.Forms.ListViewInsertionMark> class is typically used in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> or <xref:System.Windows.Forms.Control.MouseMove?displayProperty=nameWithType> event to update the position of the insertion mark as an item is dragged.</span></span> <span data-ttu-id="5a3e0-108">Он также используется в обработчике <xref:System.Windows.Forms.Control.DragDrop?displayProperty=nameWithType> или <xref:System.Windows.Forms.Control.MouseUp?displayProperty=nameWithType> событий для вставки элемента, перетаскиваемого в правильном расположении.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-108">It is also used in a handler for the <xref:System.Windows.Forms.Control.DragDrop?displayProperty=nameWithType> or <xref:System.Windows.Forms.Control.MouseUp?displayProperty=nameWithType> event to insert a dragged item at the correct location.</span></span>  
  
 <span data-ttu-id="5a3e0-109">Чтобы обновить положение знака вставки, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-109">To update the position of the insertion mark, follow these steps:</span></span>  
  
1.  <span data-ttu-id="5a3e0-110">В обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> или <xref:System.Windows.Forms.Control.MouseMove?displayProperty=nameWithType> событий, используйте <xref:System.Windows.Forms.ListView.InsertionMark%2A?displayProperty=nameWithType> свойство для доступа к <xref:System.Windows.Forms.ListViewInsertionMark> объект, связанный с <xref:System.Windows.Forms.ListView> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-110">In a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> or <xref:System.Windows.Forms.Control.MouseMove?displayProperty=nameWithType> event, use the <xref:System.Windows.Forms.ListView.InsertionMark%2A?displayProperty=nameWithType> property to access the <xref:System.Windows.Forms.ListViewInsertionMark> object associated with the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
2.  <span data-ttu-id="5a3e0-111">Используйте <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> метод для извлечения индекса элемента, ближайшего к указателю мыши.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-111">Use the <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method to retrieve the index of the item closest to the mouse pointer.</span></span>  
  
3.  <span data-ttu-id="5a3e0-112">Передайте значение индекса для <xref:System.Windows.Forms.ListView.GetItemRect%2A?displayProperty=nameWithType> метод для получения ограничивающего прямоугольника элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-112">Pass the index value to the <xref:System.Windows.Forms.ListView.GetItemRect%2A?displayProperty=nameWithType> method to retrieve the bounding rectangle of the item.</span></span>  
  
4.  <span data-ttu-id="5a3e0-113">Если указатель мыши находится слева от средней точки ограничивающего прямоугольника, задайте <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> свойства `false`; в противном случае задайте для него значение `true`.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-113">If the mouse pointer is located to the left of the midpoint of the bounding rectangle, set the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property to `false`; otherwise, set it to `true`.</span></span>  
  
5.  <span data-ttu-id="5a3e0-114">Задайте <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> свойство значения индекса, полученного из <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> метод.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-114">Set the <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> property to the index value retrieved from the <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method.</span></span> <span data-ttu-id="5a3e0-115">Знак вставки быть отображен "Далее" для элемента с указанным индексом, либо влево или вправо, в зависимости от <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> значение свойства.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-115">The insertion mark appears next to item with the specified index, either to the left or the right, depending on the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property value.</span></span> <span data-ttu-id="5a3e0-116">Если элемент перетаскивается на себя, индекс, -1, и знак вставки скрыт.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-116">If an item is dragged over itself, the index is -1 and the insertion mark is hidden.</span></span>  
  
 <span data-ttu-id="5a3e0-117">Чтобы вставить перетаскиваемого элемента на правильное расположение, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-117">To insert the dragged item at the correct location, follow these steps:</span></span>  
  
1.  <span data-ttu-id="5a3e0-118">В обработчике <xref:System.Windows.Forms.Control.DragDrop?displayProperty=nameWithType> или <xref:System.Windows.Forms.Control.MouseUp?displayProperty=nameWithType> событий, используйте <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> свойства, чтобы определить текущее расположение знака вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-118">In a handler for the <xref:System.Windows.Forms.Control.DragDrop?displayProperty=nameWithType> or <xref:System.Windows.Forms.Control.MouseUp?displayProperty=nameWithType> event, use the <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> property to determine the current location of the insertion mark.</span></span> <span data-ttu-id="5a3e0-119">Store это значение, который необходимо впоследствии использовать как индекс вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-119">Store this value to be used later as the insertion index.</span></span>  
  
2.  <span data-ttu-id="5a3e0-120">Если <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> свойству `true`, увеличивать значение индекса хранимых вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-120">If the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property is set to `true`, increment the stored insertion index value.</span></span>  
  
3.  <span data-ttu-id="5a3e0-121">Используйте <xref:System.Windows.Forms.ListView.ListViewItemCollection.Insert%2A?displayProperty=nameWithType> метод, чтобы вставить копию перетаскиваемого элемента в <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> коллекции по индексу хранимых вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-121">Use the <xref:System.Windows.Forms.ListView.ListViewItemCollection.Insert%2A?displayProperty=nameWithType> method to insert a clone of the dragged item into the <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> collection at the stored insertion index.</span></span>  
  
4.  <span data-ttu-id="5a3e0-122">Используйте <xref:System.Windows.Forms.ListView.ListViewItemCollection.Remove%2A?displayProperty=nameWithType> способ удаления исходной копии перетаскиваемого элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-122">Use the <xref:System.Windows.Forms.ListView.ListViewItemCollection.Remove%2A?displayProperty=nameWithType> method to remove the original copy of the dragged item.</span></span>  
  
 <span data-ttu-id="5a3e0-123">Необходимо вставить копию перетаскиваемого элемента перед удалением исходной копии, поэтому индекс значения в <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> коллекции, не изменяются до вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-123">You must insert a clone of the dragged item before the original copy is removed so the index values in the <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> collection are not altered before the insertion.</span></span>  
  
 <span data-ttu-id="5a3e0-124">Чтобы убедиться, что элементы отображаются в том же порядке, что значениями их индексов, необходимо задать <xref:System.Windows.Forms.ListView.ListViewItemSorter%2A?displayProperty=nameWithType> свойство на реализацию <xref:System.Collections.IComparer> интерфейс, который сортирует элементы по значению индекса.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-124">To ensure that the items are displayed in the same order as their index values, you must set the <xref:System.Windows.Forms.ListView.ListViewItemSorter%2A?displayProperty=nameWithType> property to an implementation of the <xref:System.Collections.IComparer> interface that sorts items by index value.</span></span> <span data-ttu-id="5a3e0-125">Дополнительные сведения см. в разделе "Пример".</span><span class="sxs-lookup"><span data-stu-id="5a3e0-125">For more information, see the Example section.</span></span>  
  
 <span data-ttu-id="5a3e0-126">Можно изменить цвет знака вставки с помощью <xref:System.Windows.Forms.ListViewInsertionMark.Color%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-126">You can modify the color of the insertion mark by using the <xref:System.Windows.Forms.ListViewInsertionMark.Color%2A> property.</span></span> <span data-ttu-id="5a3e0-127">Если требуется, чтобы определить размер или положение знака вставки, вы можете получить ограничивающим его прямоугольником <xref:System.Windows.Forms.ListViewInsertionMark.Bounds%2A> свойство.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-127">If you need the size or position of the insertion mark, you can get its bounding rectangle through the <xref:System.Windows.Forms.ListViewInsertionMark.Bounds%2A> property.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5a3e0-128">Функция метки вставки доступна только в Windows XP и семействе Windows Server 2003, когда приложение вызывает <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> метод.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-128">The insertion mark feature is available only on Windows XP and the Windows Server 2003 family when your application calls the <xref:System.Windows.Forms.Application.EnableVisualStyles%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="5a3e0-129">В более ранних операционных систем код, связанный с меткой вставки будет игнорироваться и Метка вставки не будет отображаться.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-129">On earlier operating systems, any code relating to the insertion mark will be ignored and the insertion mark will not appear.</span></span> <span data-ttu-id="5a3e0-130">В результате любой код, который зависит от функции знака вставки может работать неправильно.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-130">As a result, any code that depends on the insertion mark feature may not work correctly.</span></span> <span data-ttu-id="5a3e0-131">Можно включить проверку, которая определяет, доступна ли функция метки вставки и обеспечения альтернативной функциональности, когда она недоступна.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-131">You may want to include a test that determines whether the insertion mark feature is available, and provide alternate functionality when it is unavailable.</span></span> <span data-ttu-id="5a3e0-132">Например можно обойти весь код, реализующий и перетаскивания элемента при работе в операционных системах, которые не поддерживают метки вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-132">For example, you may want to bypass all code that implements drag-and-drop item repositioning when running on operating systems that do not support insertion marks.</span></span>  
>   
>  <span data-ttu-id="5a3e0-133">Функция метки вставки обеспечивается библиотеки, которую предоставляет функцию тем операционной системы.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-133">The insertion mark feature is provided by the same library that provides the operating system themes feature.</span></span> <span data-ttu-id="5a3e0-134">Чтобы проверить наличие этой библиотеки, вызовите <xref:System.Windows.Forms.FeatureSupport.IsPresent%28System.Object%29?displayProperty=nameWithType> перегрузку метода и передать <xref:System.Windows.Forms.OSFeature.Themes?displayProperty=nameWithType> значение.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-134">To check for the availability of this library, call the <xref:System.Windows.Forms.FeatureSupport.IsPresent%28System.Object%29?displayProperty=nameWithType> method overload and pass in the <xref:System.Windows.Forms.OSFeature.Themes?displayProperty=nameWithType> value.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5a3e0-135">В следующем примере кода демонстрируется использование <xref:System.Windows.Forms.ListView> функция метки вставки и переупорядочения элементов и перетащите реализует с помощью стандарта перетащите события.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-135">The following code example demonstrates how to use the <xref:System.Windows.Forms.ListView> insertion mark feature and implements drag-and-drop item reordering using the standard drag events.</span></span> <span data-ttu-id="5a3e0-136">Положение знака вставки обновляется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> событий.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-136">The position of the insertion mark is updated in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="5a3e0-137">В этом обработчике положение указателя мыши сравнивается по центру ближайший элемент, и результат используется для определения, отображается ли знак вставки слева или справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-137">In this handler, the position of the mouse pointer is compared to the midpoint of the nearest item, and the result is used to determine whether the insertion mark appears to the left or the right of the item.</span></span>  
  
 [!code-cpp[System.Windows.Forms.ListView.InsertionMark#1](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CPP/listviewinsertionmarkexample.cpp#1)]
 [!code-csharp[System.Windows.Forms.ListView.InsertionMark#1](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CS/listviewinsertionmarkexample.cs#1)]
 [!code-vb[System.Windows.Forms.ListView.InsertionMark#1](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/VB/listviewinsertionmarkexample.vb#1)]  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Windows.Forms.ListView" />
  </Docs>
  <Members>
    <Member MemberName="AppearsAfterItem">
      <MemberSignature Language="C#" Value="public bool AppearsAfterItem { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance bool AppearsAfterItem" />
      <MemberSignature Language="DocId" Value="P:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem" />
      <MemberSignature Language="VB.NET" Value="Public Property AppearsAfterItem As Boolean" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property bool AppearsAfterItem { bool get(); void set(bool value); };" />
      <MemberSignature Language="F#" Value="member this.AppearsAfterItem : bool with get, set" Usage="System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Windows.Forms</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Boolean</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="5a3e0-138">Получает или задает значение, указывающее, должен ли знак вставки быть отображен справа от элемента с индексом, определенным свойством <see cref="P:System.Windows.Forms.ListViewInsertionMark.Index" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-138">Gets or sets a value indicating whether the insertion mark appears to the right of the item with the index specified by the <see cref="P:System.Windows.Forms.ListViewInsertionMark.Index" /> property.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="5a3e0-139">Значение <see langword="true" />, если знак вставки должен быть отображен справа от элемента с индексом, заданным свойством <see cref="P:System.Windows.Forms.ListViewInsertionMark.Index" />; в обратном случае – значение <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-139">
              <see langword="true" /> if the insertion mark appears to the right of the item with the index specified by the <see cref="P:System.Windows.Forms.ListViewInsertionMark.Index" /> property; otherwise, <see langword="false" />.</span>
          </span>
          <span data-ttu-id="5a3e0-140">Значение по умолчанию: <see langword="false" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-140">The default is <see langword="false" />.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-141"><xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> Метод позволяет найти элемент, ближайший к указателю мыши, но необходимо выполнить собственные вычисления, чтобы определить, отображается ли знак вставки перед или после этого элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-141">The <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method lets you find the item closest to the mouse pointer, but you must do your own calculations to determine whether the insertion mark should appear before or after this item.</span></span>  
  
 <span data-ttu-id="5a3e0-142">Для вычисления значения, необходимые для <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> свойство, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="5a3e0-142">To calculate the value needed for the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property, follow these steps:</span></span>  
  
1.  <span data-ttu-id="5a3e0-143">Используйте <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> метод для извлечения индекса элемента, ближайшего к указателю мыши.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-143">Use the <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method to retrieve the index of the item closest to the mouse pointer.</span></span>  
  
2.  <span data-ttu-id="5a3e0-144">Передайте значение индекса для <xref:System.Windows.Forms.ListView.GetItemRect%2A?displayProperty=nameWithType> метод для получения ограничивающего прямоугольника элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-144">Pass the index value to the <xref:System.Windows.Forms.ListView.GetItemRect%2A?displayProperty=nameWithType> method to retrieve the bounding rectangle of the item.</span></span>  
  
3.  <span data-ttu-id="5a3e0-145">Если указатель мыши находится слева от средней точки ограничивающего прямоугольника, задайте <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> свойства `false`; в противном случае задайте для него значение `true`.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-145">If the mouse pointer is located to the left of the midpoint of the bounding rectangle, set the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property to `false`; otherwise, set it to `true`.</span></span>  
  
 <span data-ttu-id="5a3e0-146">Дополнительные сведения см. в разделе <xref:System.Windows.Forms.ListViewInsertionMark> Обзор справочника.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-146">For more information, see the <xref:System.Windows.Forms.ListViewInsertionMark> overview reference topic.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5a3e0-147">В следующем примере кода демонстрируется использование <xref:System.Windows.Forms.ListView> функция метки вставки и переупорядочения элементов и перетащите реализует с помощью стандарта перетащите события.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-147">The following code example demonstrates how to use the <xref:System.Windows.Forms.ListView> insertion mark feature and implements drag-and-drop item reordering using the standard drag events.</span></span> <span data-ttu-id="5a3e0-148">Положение знака вставки обновляется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> событий.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-148">The position of the insertion mark is updated in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="5a3e0-149">В этом обработчике положение указателя мыши сравнивается по центру ближайший элемент, и результат используется для определения, отображается ли знак вставки слева или справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-149">In this handler, the position of the mouse pointer is compared to the midpoint of the nearest item, and the result is used to determine whether the insertion mark appears to the left or the right of the item.</span></span>  
  
 <span data-ttu-id="5a3e0-150">Полный пример см. в разделе <xref:System.Windows.Forms.ListViewInsertionMark> Обзор справочника.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-150">For the complete example, see the <xref:System.Windows.Forms.ListViewInsertionMark> overview reference topic.</span></span>  
  
 [!code-cpp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CPP/listviewinsertionmarkexample.cpp#3)]
 [!code-csharp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CS/listviewinsertionmarkexample.cs#3)]
 [!code-vb[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/VB/listviewinsertionmarkexample.vb#3)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Windows.Forms.ListView" />
      </Docs>
    </Member>
    <Member MemberName="Bounds">
      <MemberSignature Language="C#" Value="public System.Drawing.Rectangle Bounds { get; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Drawing.Rectangle Bounds" />
      <MemberSignature Language="DocId" Value="P:System.Windows.Forms.ListViewInsertionMark.Bounds" />
      <MemberSignature Language="VB.NET" Value="Public ReadOnly Property Bounds As Rectangle" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Drawing::Rectangle Bounds { System::Drawing::Rectangle get(); };" />
      <MemberSignature Language="F#" Value="member this.Bounds : System.Drawing.Rectangle" Usage="System.Windows.Forms.ListViewInsertionMark.Bounds" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Windows.Forms</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Drawing.Rectangle</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="5a3e0-151">Возвращает ограничивающий прямоугольник знака вставки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-151">Gets the bounding rectangle of the insertion mark.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="5a3e0-152">Объект <see cref="T:System.Drawing.Rectangle" />, представляющий положение и размер знака вставки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-152">A <see cref="T:System.Drawing.Rectangle" /> that represents the position and size of the insertion mark.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-153">Координаты в ограничивающий прямоугольник знака вставки указываются относительно левого верхнего угла <xref:System.Windows.Forms.ListView> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-153">The coordinates in the insertion mark bounding rectangle are relative to the upper-left corner of the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Windows.Forms.ListView" />
      </Docs>
    </Member>
    <Member MemberName="Color">
      <MemberSignature Language="C#" Value="public System.Drawing.Color Color { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance valuetype System.Drawing.Color Color" />
      <MemberSignature Language="DocId" Value="P:System.Windows.Forms.ListViewInsertionMark.Color" />
      <MemberSignature Language="VB.NET" Value="Public Property Color As Color" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property System::Drawing::Color Color { System::Drawing::Color get(); void set(System::Drawing::Color value); };" />
      <MemberSignature Language="F#" Value="member this.Color : System.Drawing.Color with get, set" Usage="System.Windows.Forms.ListViewInsertionMark.Color" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Windows.Forms</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Drawing.Color</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="5a3e0-154">Получает или задает цвет знака вставки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-154">Gets or sets the color of the insertion mark.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="5a3e0-155">Значение <see cref="T:System.Drawing.Color" />, представляющее цвет знака вставки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-155">A <see cref="T:System.Drawing.Color" /> value that represents the color of the insertion mark.</span>
          </span>
          <span data-ttu-id="5a3e0-156">Значением по умолчанию является значение свойства <see cref="P:System.Windows.Forms.ListView.ForeColor" />.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-156">The default value is the value of the <see cref="P:System.Windows.Forms.ListView.ForeColor" /> property.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-157">Это свойство используется для задания цвета знака вставки значение, отличное от основной цвет <xref:System.Windows.Forms.ListView> элемента управления.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-157">Use this property to set the insertion mark color to a value other than the foreground color of the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5a3e0-158">В следующем примере кода демонстрируется использование <xref:System.Windows.Forms.ListView> функция метки вставки и переупорядочения элементов и перетащите реализует с помощью стандарта перетащите события.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-158">The following code example demonstrates how to use the <xref:System.Windows.Forms.ListView> insertion mark feature and implements drag-and-drop item reordering using the standard drag events.</span></span> <span data-ttu-id="5a3e0-159">Положение знака вставки обновляется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> событий.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-159">The position of the insertion mark is updated in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="5a3e0-160">В этом обработчике положение указателя мыши сравнивается по центру ближайший элемент, и результат используется для определения, отображается ли знак вставки слева или справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-160">In this handler, the position of the mouse pointer is compared to the midpoint of the nearest item, and the result is used to determine whether the insertion mark appears to the left or the right of the item.</span></span>  
  
 <span data-ttu-id="5a3e0-161">Полный пример см. в разделе <xref:System.Windows.Forms.ListViewInsertionMark> Обзор справочника.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-161">For the complete example, see the <xref:System.Windows.Forms.ListViewInsertionMark> overview reference topic.</span></span>  
  
 [!code-cpp[System.Windows.Forms.ListView.InsertionMark#2](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CPP/listviewinsertionmarkexample.cpp#2)]
 [!code-csharp[System.Windows.Forms.ListView.InsertionMark#2](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CS/listviewinsertionmarkexample.cs#2)]
 [!code-vb[System.Windows.Forms.ListView.InsertionMark#2](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/VB/listviewinsertionmarkexample.vb#2)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Windows.Forms.ListView" />
      </Docs>
    </Member>
    <Member MemberName="Index">
      <MemberSignature Language="C#" Value="public int Index { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance int32 Index" />
      <MemberSignature Language="DocId" Value="P:System.Windows.Forms.ListViewInsertionMark.Index" />
      <MemberSignature Language="VB.NET" Value="Public Property Index As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; property int Index { int get(); void set(int value); };" />
      <MemberSignature Language="F#" Value="member this.Index : int with get, set" Usage="System.Windows.Forms.ListViewInsertionMark.Index" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Windows.Forms</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
          <span data-ttu-id="5a3e0-162">Получает или задает индекс элемента, рядом с которым должен быть отображен знак вставки.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-162">Gets or sets the index of the item next to which the insertion mark appears.</span>
          </span>
        </summary>
        <value>
          <span data-ttu-id="5a3e0-163">Индекс элемента, рядом с которым должен быть отображен знак вставки или значение -1, если знак вставки скрыт.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-163">The index of the item next to which the insertion mark appears or -1 when the insertion mark is hidden.</span>
          </span>
        </value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-164">Знак вставки отображается слева от элемента с указанным индексом, если <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> свойству `false`; в противном случае он отображается справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-164">The insertion mark appears to the left of the item with the specified index if the <xref:System.Windows.Forms.ListViewInsertionMark.AppearsAfterItem%2A> property is set to `false`; otherwise, it appears to the right of the item.</span></span> <span data-ttu-id="5a3e0-165">Знак вставки исчезает автоматически, когда перетаскиваемый элемент вставляется в <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> коллекции.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-165">The insertion mark disappears automatically when a dragged item is inserted into the <xref:System.Windows.Forms.ListView.Items%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="5a3e0-166">Чтобы удалить знак вставки вручную, например, при перетаскивании на сам элемент или перетащить за пределы элемента управления, задайте <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> значение-1.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-166">To remove the insertion mark manually, for example, when an item is dragged onto itself or dragged outside the control, set the <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> value to -1.</span></span>  
  
 <span data-ttu-id="5a3e0-167">Используйте <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> метод для извлечения индекса элемента, ближайшего в указанном расположении, например расположение указателя мыши на положение элемента в операции перетаскивания и вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-167">Use the <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method to retrieve the index of the item closest to a specified location, such as the location of the mouse pointer when positioning an item in a drag-and-drop operation.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5a3e0-168">В следующем примере кода демонстрируется использование <xref:System.Windows.Forms.ListView> функция метки вставки и переупорядочения элементов и перетащите реализует с помощью стандарта перетащите события.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-168">The following code example demonstrates how to use the <xref:System.Windows.Forms.ListView> insertion mark feature and implements drag-and-drop item reordering using the standard drag events.</span></span> <span data-ttu-id="5a3e0-169">Положение знака вставки обновляется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> событий.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-169">The position of the insertion mark is updated in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="5a3e0-170">В этом обработчике положение указателя мыши сравнивается по центру ближайший элемент, и результат используется для определения, отображается ли знак вставки слева или справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-170">In this handler, the position of the mouse pointer is compared to the midpoint of the nearest item, and the result is used to determine whether the insertion mark appears to the left or the right of the item.</span></span>  
  
 <span data-ttu-id="5a3e0-171">Полный пример см. в разделе <xref:System.Windows.Forms.ListViewInsertionMark> Обзор справочника.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-171">For the complete example, see the <xref:System.Windows.Forms.ListViewInsertionMark> overview reference topic.</span></span>  
  
 [!code-cpp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CPP/listviewinsertionmarkexample.cpp#3)]
 [!code-csharp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CS/listviewinsertionmarkexample.cs#3)]
 [!code-vb[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/VB/listviewinsertionmarkexample.vb#3)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Windows.Forms.ListView" />
      </Docs>
    </Member>
    <Member MemberName="NearestIndex">
      <MemberSignature Language="C#" Value="public int NearestIndex (System.Drawing.Point pt);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance int32 NearestIndex(valuetype System.Drawing.Point pt) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Windows.Forms.ListViewInsertionMark.NearestIndex(System.Drawing.Point)" />
      <MemberSignature Language="VB.NET" Value="Public Function NearestIndex (pt As Point) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; int NearestIndex(System::Drawing::Point pt);" />
      <MemberSignature Language="F#" Value="member this.NearestIndex : System.Drawing.Point -&gt; int" Usage="listViewInsertionMark.NearestIndex pt" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Windows.Forms</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="pt" Type="System.Drawing.Point" />
      </Parameters>
      <Docs>
        <param name="pt">
          <span data-ttu-id="5a3e0-172">Объект <see cref="T:System.Drawing.Point" />, представляющий местоположение, от которого должен быть найден ближайший элемент.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-172">A <see cref="T:System.Drawing.Point" /> representing the location from which to find the nearest item.</span>
          </span>
        </param>
        <summary>
          <span data-ttu-id="5a3e0-173">Извлекает индекс элемента, ближайшего к заданной точке.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-173">Retrieves the index of the item closest to the specified point.</span>
          </span>
        </summary>
        <returns>
          <span data-ttu-id="5a3e0-174">Индекс элемента, ближайшего к заданной точке, либо значение -1, если ближайший элемент является перетаскиваемым в настоящий момент.</span>
          <span class="sxs-lookup">
            <span data-stu-id="5a3e0-174">The index of the item closest to the specified point or -1 if the closest item is the item currently being dragged.</span>
          </span>
        </returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <span data-ttu-id="5a3e0-175">Этот метод позволяет найти элемент, ближайший к указателю мыши, при выполнении операции перетаскивания и вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-175">This method lets you locate the item closest to the mouse pointer when doing a drag-and-drop operation.</span></span> <span data-ttu-id="5a3e0-176">Используйте возвращаемое значение индекса, чтобы задать <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-176">Use the index value returned to set the <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> property.</span></span> <span data-ttu-id="5a3e0-177">Если перетаскиваемый элемент элемента, ближайшего к указателю мыши, возвращаемое значение этого метода является -1.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-177">When the item closest to the mouse pointer is the item being dragged, the return value of this method is -1.</span></span> <span data-ttu-id="5a3e0-178">В этом случае параметр <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> следующее значение скрывает знака вставки.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-178">In this case, setting the <xref:System.Windows.Forms.ListViewInsertionMark.Index%2A> property to this value hides the insertion mark.</span></span>  
  
 <span data-ttu-id="5a3e0-179">Этот метод находит ближайший элемент независимо от того, где находится указатель мыши, а <xref:System.Windows.Forms.ListView.GetItemAt%2A?displayProperty=nameWithType> метод возвращает элемент в указанном расположении, или `null` Если отсутствует элемент, в этом расположении.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-179">This method finds the closest item regardless of where the mouse pointer is located, while the <xref:System.Windows.Forms.ListView.GetItemAt%2A?displayProperty=nameWithType> method returns the item at the specified location only, or `null` if there is no item at that location.</span></span> <span data-ttu-id="5a3e0-180"><xref:System.Windows.Forms.ListView.GetItemAt%2A?displayProperty=nameWithType> Возвращает метод `null`, к примеру, когда указатель мыши находится между двумя элементами.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-180">The <xref:System.Windows.Forms.ListView.GetItemAt%2A?displayProperty=nameWithType> method returns `null`, for example, when the mouse pointer is located between two items.</span></span> <span data-ttu-id="5a3e0-181">По этой причине следует всегда использовать <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> метода при использовании операции перетаскивания и вставки для размещения элементов.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-181">For this reason, you should always use the <xref:System.Windows.Forms.ListViewInsertionMark.NearestIndex%2A> method when using a drag-and-drop operation to position items.</span></span>  
  
   
  
## Examples  
 <span data-ttu-id="5a3e0-182">В следующем примере кода демонстрируется использование <xref:System.Windows.Forms.ListView> функция метки вставки и переупорядочения элементов и перетащите реализует с помощью стандарта перетащите события.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-182">The following code example demonstrates how to use the <xref:System.Windows.Forms.ListView> insertion mark feature and implements drag-and-drop item reordering using the standard drag events.</span></span> <span data-ttu-id="5a3e0-183">Положение знака вставки обновляется в обработчике <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> событий.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-183">The position of the insertion mark is updated in a handler for the <xref:System.Windows.Forms.Control.DragOver?displayProperty=nameWithType> event.</span></span> <span data-ttu-id="5a3e0-184">В этом обработчике положение указателя мыши сравнивается по центру ближайший элемент, и результат используется для определения, отображается ли знак вставки слева или справа от элемента.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-184">In this handler, the position of the mouse pointer is compared to the midpoint of the nearest item, and the result is used to determine whether the insertion mark appears to the left or the right of the item.</span></span>  
  
 <span data-ttu-id="5a3e0-185">Полный пример см. в разделе <xref:System.Windows.Forms.ListViewInsertionMark> Обзор справочника.</span><span class="sxs-lookup"><span data-stu-id="5a3e0-185">For the complete example, see the <xref:System.Windows.Forms.ListViewInsertionMark> overview reference topic.</span></span>  
  
 [!code-cpp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/cpp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CPP/listviewinsertionmarkexample.cpp#3)]
 [!code-csharp[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/CS/listviewinsertionmarkexample.cs#3)]
 [!code-vb[System.Windows.Forms.ListView.InsertionMark#3](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.ListView.InsertionMark/VB/listviewinsertionmarkexample.vb#3)]  
  
 ]]></format>
        </remarks>
        <altmember cref="T:System.Windows.Forms.ListView" />
      </Docs>
    </Member>
  </Members>
</Type>